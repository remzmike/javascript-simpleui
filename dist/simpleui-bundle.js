(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/bmfont.js":
/*!***********************!*\
  !*** ./src/bmfont.js ***!
  \***********************/
/*! exports provided: parseBMFontAscii */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseBMFontAscii\", function() { return parseBMFontAscii; });\n// from https://www.npmjs.com/package/load-bmfont\n// one export\nfunction parseBMFontAscii(data) {\n  if (!data) throw new Error('no data provided');\n  data = data.toString().trim();\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  };\n  var lines = data.split(/\\r\\n?|\\n/g);\n  if (lines.length === 0) throw new Error('no data in BMFont file');\n\n  for (var i = 0; i < lines.length; i++) {\n    var lineData = splitLine(lines[i], i);\n    if (!lineData) //skip empty lines\n      continue;\n\n    if (lineData.key === 'page') {\n      if (typeof lineData.data.id !== 'number') throw new Error('malformed file at line ' + i + ' -- needs page id=N');\n      if (typeof lineData.data.file !== 'string') throw new Error('malformed file at line ' + i + ' -- needs page file=\"path\"');\n      output.pages[lineData.data.id] = lineData.data.file;\n    } else if (lineData.key === 'chars' || lineData.key === 'kernings') {//... do nothing for these two ...\n    } else if (lineData.key === 'char') {\n      output.chars.push(lineData.data);\n    } else if (lineData.key === 'kerning') {\n      output.kernings.push(lineData.data);\n    } else {\n      output[lineData.key] = lineData.data;\n    }\n  }\n\n  return output;\n}\n\nfunction splitLine(line, idx) {\n  line = line.replace(/\\t+/g, ' ').trim();\n  if (!line) return null;\n  var space = line.indexOf(' ');\n  if (space === -1) throw new Error(\"no named row at line \" + idx);\n  var key = line.substring(0, space);\n  line = line.substring(space + 1); //clear \"letter\" field as it is non-standard and\n  //requires additional complexity to parse \" / = symbols\n\n  line = line.replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, '');\n  line = line.split(\"=\");\n  line = line.map(function (str) {\n    return str.trim().match(/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g);\n  });\n  var data = [];\n\n  for (var i = 0; i < line.length; i++) {\n    var dt = line[i];\n\n    if (i === 0) {\n      data.push({\n        key: dt[0],\n        data: \"\"\n      });\n    } else if (i === line.length - 1) {\n      data[data.length - 1].data = parseData(dt[0]);\n    } else {\n      data[data.length - 1].data = parseData(dt[0]);\n      data.push({\n        key: dt[1],\n        data: \"\"\n      });\n    }\n  }\n\n  var out = {\n    key: key,\n    data: {}\n  };\n  data.forEach(function (v) {\n    out.data[v.key] = v.data;\n  });\n  return out;\n}\n\nfunction parseData(data) {\n  if (!data || data.length === 0) return \"\";\n  if (data.indexOf('\"') === 0 || data.indexOf(\"'\") === 0) return data.substring(1, data.length - 1);\n  if (data.indexOf(',') !== -1) return parseIntList(data);\n  return parseInt(data, 10);\n}\n\nfunction parseIntList(data) {\n  return data.split(',').map(function (val) {\n    return parseInt(val, 10);\n  });\n}\n\n//# sourceURL=webpack:///./src/bmfont.js?");

/***/ }),

/***/ "./src/bmfont_definition_mana16.js":
/*!*****************************************!*\
  !*** ./src/bmfont_definition_mana16.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar font_def = ['info face=\"Mana\" size=-8 bold=0 italic=0 charset=\"ANSI\" unicode=0 stretchH=100 smooth=1 aa=1 padding=0,0,0,0 spacing=1,1 outline=0', 'common lineHeight=17 base=14 scaleW=512 scaleH=512 pages=1 packed=0 alphaChnl=1 redChnl=0 greenChnl=0 blueChnl=0', 'page id=0 file=\"mana16_0.png\"', 'chars count=192', 'char id=-1 x=27 y=0  width=0  height=1  xoffset=0  yoffset=16 xadvance=0  page=0 chnl=15', 'char id=32 x=23 y=43 width=3  height=1  xoffset=-1 yoffset=16 xadvance=5  page=0 chnl=15', 'char id=33 x=480 y=14 width=3  height=12 xoffset=2  yoffset=2  xadvance=7  page=0 chnl=15', 'char id=34 x=428 y=27 width=5  height=5  xoffset=1  yoffset=1  xadvance=7  page=0 chnl=15', 'char id=35 x=24 y=31 width=11 height=11 xoffset=0  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=36 x=444 y=0  width=7  height=13 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=37 x=488 y=14 width=12 height=11 xoffset=1  yoffset=3  xadvance=13 page=0 chnl=15', 'char id=38 x=326 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=39 x=438 y=27 width=2  height=5  xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=40 x=65 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=41 x=80 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=42 x=416 y=27 width=5  height=5  xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=43 x=227 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=44 x=434 y=27 width=3  height=5  xoffset=1  yoffset=11 xadvance=5  page=0 chnl=15', 'char id=45 x=492 y=26 width=6  height=2  xoffset=1  yoffset=8  xadvance=8  page=0 chnl=15', 'char id=46 x=479 y=27 width=3  height=3  xoffset=1  yoffset=11 xadvance=5  page=0 chnl=15', 'char id=47 x=57 y=0  width=7  height=15 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=48 x=112 y=29 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=49 x=160 y=28 width=6  height=11 xoffset=1  yoffset=3  xadvance=7  page=0 chnl=15', 'char id=50 x=152 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=51 x=88 y=30 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=52 x=70 y=30 width=8  height=11 xoffset=0  yoffset=3  xadvance=8  page=0 chnl=15', 'char id=53 x=96 y=30 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=54 x=128 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=55 x=120 y=28 width=7  height=11 xoffset=0  yoffset=3  xadvance=7  page=0 chnl=15', 'char id=56 x=144 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=57 x=104 y=29 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=58 x=353 y=27 width=3  height=9  xoffset=1  yoffset=5  xadvance=5  page=0 chnl=15', 'char id=59 x=167 y=28 width=3  height=11 xoffset=1  yoffset=5  xadvance=5  page=0 chnl=15', 'char id=60 x=341 y=28 width=5  height=9  xoffset=0  yoffset=4  xadvance=6  page=0 chnl=15', 'char id=61 x=399 y=27 width=9  height=5  xoffset=1  yoffset=6  xadvance=11 page=0 chnl=15', 'char id=62 x=347 y=28 width=5  height=9  xoffset=1  yoffset=4  xadvance=6  page=0 chnl=15', 'char id=63 x=405 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=64 x=36 y=30 width=11 height=11 xoffset=2  yoffset=4  xadvance=15 page=0 chnl=15', 'char id=65 x=287 y=15 width=9  height=12 xoffset=0  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=66 x=335 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=67 x=277 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=68 x=267 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=69 x=371 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=70 x=437 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=71 x=247 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=72 x=237 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=73 x=475 y=14 width=4  height=12 xoffset=1  yoffset=2  xadvance=6  page=0 chnl=15', 'char id=74 x=389 y=14 width=7  height=12 xoffset=0  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=75 x=207 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=76 x=445 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=77 x=149 y=15 width=13 height=12 xoffset=1  yoffset=2  xadvance=15 page=0 chnl=15', 'char id=78 x=196 y=15 width=10 height=12 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=79 x=163 y=15 width=10 height=12 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=80 x=362 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=81 x=28 y=0  width=10 height=15 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=82 x=353 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=83 x=344 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=84 x=380 y=14 width=8  height=12 xoffset=0  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=85 x=227 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=86 x=217 y=15 width=9  height=12 xoffset=0  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=87 x=119 y=15 width=15 height=12 xoffset=0  yoffset=2  xadvance=15 page=0 chnl=15', 'char id=88 x=297 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=89 x=185 y=15 width=10 height=12 xoffset=0  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=90 x=317 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=91 x=70 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=92 x=49 y=0  width=7  height=15 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=93 x=75 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=94 x=451 y=27 width=7  height=4  xoffset=0  yoffset=2  xadvance=7  page=0 chnl=15', 'char id=95 x=483 y=27 width=8  height=2  xoffset=0  yoffset=13 xadvance=8  page=0 chnl=15', 'char id=96 x=0  y=43 width=4  height=2  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=97 x=281 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=98 x=420 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=99 x=320 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=100 x=388 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=101 x=289 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=102 x=80 y=16 width=6  height=13 xoffset=0  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=103 x=380 y=0  width=7  height=13 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=104 x=372 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=105 x=116 y=15 width=2  height=13 xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=106 x=24 y=0  width=3  height=16 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=107 x=436 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=108 x=508 y=0  width=3  height=13 xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=109 x=181 y=28 width=12 height=9  xoffset=1  yoffset=5  xadvance=14 page=0 chnl=15', 'char id=110 x=297 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=111 x=273 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=112 x=397 y=14 width=7  height=12 xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=113 x=453 y=14 width=7  height=12 xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=114 x=313 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=115 x=334 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=116 x=468 y=14 width=6  height=12 xoffset=0  yoffset=2  xadvance=6  page=0 chnl=15', 'char id=117 x=265 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=118 x=257 y=28 width=7  height=9  xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=119 x=194 y=28 width=11 height=9  xoffset=0  yoffset=5  xadvance=11 page=0 chnl=15', 'char id=120 x=305 y=28 width=7  height=9  xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=121 x=413 y=14 width=7  height=12 xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=122 x=327 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=123 x=85 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=124 x=95 y=0  width=2  height=15 xoffset=2  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=125 x=90 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=126 x=464 y=27 width=10 height=3  xoffset=1  yoffset=7  xadvance=12 page=0 chnl=15', 'char id=160 x=19 y=43 width=3  height=1  xoffset=-1 yoffset=16 xadvance=5  page=0 chnl=15', 'char id=161 x=484 y=14 width=3  height=12 xoffset=2  yoffset=4  xadvance=7  page=0 chnl=15', 'char id=162 x=421 y=14 width=7  height=12 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=163 x=79 y=30 width=8  height=11 xoffset=1  yoffset=3  xadvance=10 page=0 chnl=15', 'char id=164 x=217 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=165 x=59 y=30 width=10 height=11 xoffset=0  yoffset=3  xadvance=10 page=0 chnl=15', 'char id=166 x=98 y=0  width=2  height=15 xoffset=2  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=167 x=87 y=16 width=6  height=13 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=168 x=506 y=26 width=5  height=2  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=169 x=12 y=31 width=11 height=11 xoffset=1  yoffset=3  xadvance=13 page=0 chnl=15', 'char id=170 x=409 y=27 width=6  height=5  xoffset=0  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=171 x=367 y=27 width=9  height=7  xoffset=0  yoffset=5  xadvance=10 page=0 chnl=15', 'char id=172 x=441 y=27 width=9  height=4  xoffset=1  yoffset=8  xadvance=11 page=0 chnl=15', 'char id=173 x=499 y=26 width=6  height=2  xoffset=1  yoffset=8  xadvance=8  page=0 chnl=15', 'char id=174 x=171 y=28 width=9  height=10 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=175 x=13 y=43 width=5  height=1  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=176 x=459 y=27 width=4  height=4  xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=177 x=247 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=178 x=385 y=27 width=4  height=6  xoffset=1  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=179 x=390 y=27 width=4  height=6  xoffset=1  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=180 x=5  y=43 width=4  height=2  xoffset=2  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=181 x=257 y=15 width=9  height=12 xoffset=0  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=182 x=362 y=0  width=9  height=13 xoffset=2  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=183 x=10 y=43 width=2  height=2  xoffset=1  yoffset=8  xadvance=4  page=0 chnl=15', 'char id=184 x=475 y=27 width=3  height=3  xoffset=2  yoffset=14 xadvance=7  page=0 chnl=15', 'char id=185 x=395 y=27 width=3  height=6  xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=186 x=422 y=27 width=5  height=5  xoffset=0  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=187 x=357 y=27 width=9  height=7  xoffset=1  yoffset=5  xadvance=10 page=0 chnl=15', 'char id=188 x=501 y=14 width=10 height=11 xoffset=1  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=189 x=48 y=30 width=10 height=11 xoffset=1  yoffset=3  xadvance=11 page=0 chnl=15', 'char id=190 x=0  y=31 width=11 height=11 xoffset=1  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=191 x=429 y=14 width=7  height=12 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=192 x=189 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=193 x=199 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=194 x=209 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=195 x=219 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=196 x=229 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=197 x=239 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=198 x=135 y=15 width=13 height=12 xoffset=0  yoffset=2  xadvance=13 page=0 chnl=15', 'char id=199 x=39 y=0  width=9  height=15 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=200 x=298 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=201 x=289 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=202 x=307 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=203 x=316 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=204 x=345 y=0  width=5  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=205 x=339 y=0  width=5  height=14 xoffset=1  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=206 x=325 y=0  width=6  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=207 x=332 y=0  width=6  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=208 x=174 y=15 width=10 height=12 xoffset=0  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=209 x=145 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=210 x=134 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=211 x=123 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=212 x=112 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=213 x=101 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=214 x=167 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=215 x=377 y=27 width=7  height=7  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=216 x=156 y=0  width=10 height=14 xoffset=1  yoffset=1  xadvance=12 page=0 chnl=15', 'char id=217 x=249 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=218 x=259 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=219 x=269 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=220 x=279 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=221 x=178 y=0  width=10 height=14 xoffset=0  yoffset=0  xadvance=10 page=0 chnl=15', 'char id=222 x=307 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=223 x=351 y=0  width=10 height=13 xoffset=0  yoffset=1  xadvance=10 page=0 chnl=15', 'char id=224 x=476 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=225 x=468 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=226 x=460 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=227 x=452 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=228 x=428 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=229 x=412 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=230 x=206 y=28 width=10 height=9  xoffset=1  yoffset=5  xadvance=12 page=0 chnl=15', 'char id=231 x=461 y=14 width=6  height=12 xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=232 x=64 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=233 x=8  y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=234 x=396 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=235 x=404 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=236 x=101 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=237 x=106 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=238 x=111 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=239 x=94 y=16 width=6  height=13 xoffset=-1 yoffset=1  xadvance=4  page=0 chnl=15', 'char id=240 x=484 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=241 x=492 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=242 x=500 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=243 x=0  y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=244 x=72 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=245 x=16 y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=246 x=24 y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=247 x=237 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=248 x=136 y=28 width=7  height=11 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=249 x=32 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=250 x=40 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=251 x=48 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=252 x=56 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=253 x=0  y=0  width=7  height=16 xoffset=0  yoffset=1  xadvance=7  page=0 chnl=15', 'char id=254 x=8  y=0  width=7  height=16 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=255 x=16 y=0  width=7  height=16 xoffset=0  yoffset=1  xadvance=7  page=0 chnl=15', 'kernings count=1004', 'kerning first=38 second=84 amount=-1', 'kerning first=38 second=88 amount=-1', 'kerning first=38 second=89 amount=-1', 'kerning first=38 second=90 amount=-1', 'kerning first=45 second=255 amount=1', 'kerning first=38 second=208 amount=1', 'kerning first=39 second=44 amount=-2', 'kerning first=39 second=46 amount=-2', 'kerning first=39 second=47 amount=-1', 'kerning first=39 second=65 amount=-1', 'kerning first=39 second=74 amount=-1', 'kerning first=39 second=86 amount=1', 'kerning first=39 second=87 amount=1', 'kerning first=39 second=89 amount=1', 'kerning first=39 second=102 amount=1', 'kerning first=39 second=116 amount=1', 'kerning first=45 second=253 amount=1', 'kerning first=45 second=208 amount=1', 'kerning first=45 second=122 amount=-1', 'kerning first=45 second=121 amount=1', 'kerning first=39 second=191 amount=-1', 'kerning first=39 second=193 amount=-1', 'kerning first=39 second=198 amount=-1', 'kerning first=39 second=239 amount=1', 'kerning first=40 second=42 amount=-1', 'kerning first=40 second=45 amount=-1', 'kerning first=40 second=49 amount=-1', 'kerning first=40 second=64 amount=-1', 'kerning first=40 second=106 amount=1', 'kerning first=40 second=126 amount=-1', 'kerning first=45 second=119 amount=1', 'kerning first=45 second=118 amount=1', 'kerning first=45 second=93 amount=-1', 'kerning first=40 second=169 amount=-1', 'kerning first=40 second=174 amount=-1', 'kerning first=40 second=239 amount=1', 'kerning first=169 second=93 amount=-1', 'kerning first=42 second=44 amount=-1', 'kerning first=42 second=46 amount=-1', 'kerning first=42 second=47 amount=-1', 'kerning first=42 second=126 amount=-1', 'kerning first=45 second=60 amount=1', 'kerning first=45 second=55 amount=-1', 'kerning first=45 second=52 amount=1', 'kerning first=44 second=39 amount=-2', 'kerning first=44 second=42 amount=-2', 'kerning first=44 second=95 amount=1', 'kerning first=44 second=126 amount=-1', 'kerning first=45 second=49 amount=-1', 'kerning first=45 second=41 amount=-1', 'kerning first=35 second=125 amount=-1', 'kerning first=35 second=93 amount=-1', 'kerning first=44 second=174 amount=-1', 'kerning first=44 second=34 amount=-2', 'kerning first=44 second=35 amount=1', 'kerning first=171 second=89 amount=-1', 'kerning first=171 second=88 amount=-1', 'kerning first=171 second=84 amount=-1', 'kerning first=170 second=34 amount=1', 'kerning first=170 second=47 amount=-1', 'kerning first=170 second=46 amount=-1', 'kerning first=170 second=44 amount=-1', 'kerning first=170 second=39 amount=1', 'kerning first=169 second=41 amount=-1', 'kerning first=165 second=55 amount=1', 'kerning first=35 second=90 amount=-1', 'kerning first=35 second=88 amount=-1', 'kerning first=163 second=126 amount=-1', 'kerning first=162 second=49 amount=-1', 'kerning first=161 second=106 amount=1', 'kerning first=46 second=39 amount=-2', 'kerning first=46 second=42 amount=-2', 'kerning first=46 second=95 amount=1', 'kerning first=46 second=126 amount=-1', 'kerning first=35 second=74 amount=-1', 'kerning first=35 second=46 amount=-1', 'kerning first=35 second=44 amount=-1', 'kerning first=35 second=41 amount=-1', 'kerning first=46 second=174 amount=-1', 'kerning first=46 second=34 amount=-2', 'kerning first=46 second=35 amount=1', 'kerning first=47 second=44 amount=-1', 'kerning first=47 second=46 amount=-1', 'kerning first=47 second=74 amount=-1', 'kerning first=47 second=88 amount=-1', 'kerning first=47 second=90 amount=-1', 'kerning first=47 second=97 amount=-1', 'kerning first=47 second=99 amount=-1', 'kerning first=47 second=100 amount=-1', 'kerning first=47 second=101 amount=-1', 'kerning first=47 second=102 amount=1', 'kerning first=47 second=103 amount=-1', 'kerning first=47 second=111 amount=-1', 'kerning first=47 second=113 amount=-1', 'kerning first=47 second=115 amount=-1', 'kerning first=47 second=122 amount=-1', 'kerning first=47 second=126 amount=-1', 'kerning first=34 second=239 amount=1', 'kerning first=34 second=191 amount=-1', 'kerning first=34 second=116 amount=1', 'kerning first=47 second=225 amount=-1', 'kerning first=47 second=230 amount=-1', 'kerning first=47 second=231 amount=-1', 'kerning first=47 second=233 amount=-1', 'kerning first=47 second=239 amount=1', 'kerning first=47 second=243 amount=-1', 'kerning first=47 second=248 amount=-1', 'kerning first=49 second=44 amount=1', 'kerning first=49 second=46 amount=1', 'kerning first=49 second=65 amount=1', 'kerning first=49 second=95 amount=1', 'kerning first=49 second=102 amount=1', 'kerning first=49 second=120 amount=1', 'kerning first=49 second=121 amount=1', 'kerning first=34 second=102 amount=1', 'kerning first=34 second=89 amount=1', 'kerning first=34 second=87 amount=1', 'kerning first=49 second=192 amount=1', 'kerning first=49 second=193 amount=1', 'kerning first=49 second=194 amount=1', 'kerning first=49 second=195 amount=1', 'kerning first=49 second=196 amount=1', 'kerning first=49 second=197 amount=1', 'kerning first=52 second=52 amount=1', 'kerning first=52 second=60 amount=1', 'kerning first=52 second=102 amount=1', 'kerning first=52 second=116 amount=1', 'kerning first=52 second=120 amount=1', 'kerning first=34 second=86 amount=1', 'kerning first=34 second=47 amount=-1', 'kerning first=34 second=46 amount=-2', 'kerning first=52 second=162 amount=1', 'kerning first=52 second=165 amount=1', 'kerning first=52 second=169 amount=1', 'kerning first=52 second=170 amount=1', 'kerning first=52 second=171 amount=1', 'kerning first=52 second=176 amount=1', 'kerning first=52 second=186 amount=1', 'kerning first=52 second=187 amount=1', 'kerning first=52 second=208 amount=1', 'kerning first=52 second=215 amount=1', 'kerning first=52 second=239 amount=1', 'kerning first=52 second=35 amount=1', 'kerning first=55 second=44 amount=-1', 'kerning first=55 second=46 amount=-1', 'kerning first=55 second=47 amount=-1', 'kerning first=55 second=55 amount=1', 'kerning first=55 second=86 amount=1', 'kerning first=55 second=87 amount=1', 'kerning first=55 second=94 amount=1', 'kerning first=55 second=95 amount=-1', 'kerning first=55 second=102 amount=1', 'kerning first=55 second=116 amount=1', 'kerning first=55 second=120 amount=1', 'kerning first=34 second=44 amount=-2', 'kerning first=255 second=45 amount=1', 'kerning first=255 second=121 amount=1', 'kerning first=255 second=120 amount=1', 'kerning first=255 second=118 amount=1', 'kerning first=255 second=116 amount=1', 'kerning first=55 second=165 amount=1', 'kerning first=55 second=170 amount=1', 'kerning first=55 second=176 amount=1', 'kerning first=55 second=186 amount=1', 'kerning first=55 second=188 amount=1', 'kerning first=55 second=189 amount=1', 'kerning first=55 second=190 amount=1', 'kerning first=55 second=208 amount=1', 'kerning first=55 second=239 amount=1', 'kerning first=60 second=126 amount=-1', 'kerning first=62 second=45 amount=1', 'kerning first=62 second=52 amount=1', 'kerning first=62 second=60 amount=1', 'kerning first=62 second=126 amount=1', 'kerning first=255 second=102 amount=1', 'kerning first=255 second=95 amount=-1', 'kerning first=171 second=102 amount=1', 'kerning first=64 second=41 amount=-1', 'kerning first=64 second=49 amount=-1', 'kerning first=64 second=84 amount=-1', 'kerning first=64 second=88 amount=-1', 'kerning first=64 second=89 amount=-1', 'kerning first=64 second=90 amount=-1', 'kerning first=64 second=93 amount=-1', 'kerning first=64 second=122 amount=-1', 'kerning first=64 second=125 amount=-1', 'kerning first=171 second=90 amount=-1', 'kerning first=253 second=45 amount=1', 'kerning first=65 second=39 amount=-1', 'kerning first=65 second=44 amount=1', 'kerning first=65 second=46 amount=1', 'kerning first=65 second=65 amount=1', 'kerning first=65 second=95 amount=1', 'kerning first=65 second=102 amount=1', 'kerning first=65 second=106 amount=1', 'kerning first=65 second=116 amount=1', 'kerning first=65 second=120 amount=1', 'kerning first=253 second=121 amount=1', 'kerning first=253 second=120 amount=1', 'kerning first=253 second=118 amount=1', 'kerning first=253 second=116 amount=1', 'kerning first=65 second=192 amount=1', 'kerning first=65 second=193 amount=1', 'kerning first=65 second=194 amount=1', 'kerning first=65 second=195 amount=1', 'kerning first=65 second=196 amount=1', 'kerning first=65 second=197 amount=1', 'kerning first=65 second=223 amount=1', 'kerning first=66 second=122 amount=-1', 'kerning first=253 second=102 amount=1', 'kerning first=67 second=122 amount=-1', 'kerning first=67 second=126 amount=-1', 'kerning first=68 second=122 amount=-1', 'kerning first=69 second=65 amount=1', 'kerning first=69 second=84 amount=1', 'kerning first=69 second=86 amount=1', 'kerning first=69 second=87 amount=1', 'kerning first=69 second=89 amount=1', 'kerning first=69 second=95 amount=1', 'kerning first=69 second=102 amount=1', 'kerning first=69 second=106 amount=1', 'kerning first=69 second=116 amount=1', 'kerning first=69 second=120 amount=1', 'kerning first=69 second=192 amount=1', 'kerning first=69 second=193 amount=1', 'kerning first=69 second=194 amount=1', 'kerning first=69 second=195 amount=1', 'kerning first=69 second=196 amount=1', 'kerning first=69 second=197 amount=1', 'kerning first=69 second=208 amount=1', 'kerning first=69 second=223 amount=1', 'kerning first=69 second=239 amount=2', 'kerning first=70 second=44 amount=-1', 'kerning first=70 second=46 amount=-1', 'kerning first=70 second=84 amount=1', 'kerning first=70 second=86 amount=1', 'kerning first=70 second=87 amount=1', 'kerning first=70 second=89 amount=1', 'kerning first=70 second=95 amount=-1', 'kerning first=70 second=97 amount=-1', 'kerning first=70 second=102 amount=1', 'kerning first=70 second=116 amount=1', 'kerning first=70 second=122 amount=-1', 'kerning first=253 second=95 amount=-1', 'kerning first=171 second=116 amount=1', 'kerning first=248 second=47 amount=-1', 'kerning first=246 second=47 amount=-1', 'kerning first=245 second=47 amount=-1', 'kerning first=70 second=187 amount=-1', 'kerning first=70 second=208 amount=1', 'kerning first=70 second=223 amount=1', 'kerning first=70 second=225 amount=-1', 'kerning first=70 second=230 amount=-1', 'kerning first=70 second=239 amount=2', 'kerning first=72 second=208 amount=1', 'kerning first=74 second=208 amount=1', 'kerning first=75 second=97 amount=-1', 'kerning first=75 second=122 amount=-1', 'kerning first=75 second=126 amount=-1', 'kerning first=244 second=47 amount=-1', 'kerning first=243 second=47 amount=-1', 'kerning first=75 second=187 amount=-1', 'kerning first=75 second=225 amount=-1', 'kerning first=75 second=230 amount=-1', 'kerning first=76 second=39 amount=-2', 'kerning first=76 second=64 amount=-1', 'kerning first=76 second=65 amount=1', 'kerning first=76 second=84 amount=-1', 'kerning first=76 second=89 amount=-1', 'kerning first=76 second=92 amount=-1', 'kerning first=76 second=95 amount=1', 'kerning first=76 second=118 amount=-1', 'kerning first=76 second=119 amount=-1', 'kerning first=76 second=120 amount=1', 'kerning first=76 second=126 amount=-1', 'kerning first=242 second=92 amount=-1', 'kerning first=242 second=89 amount=-1', 'kerning first=242 second=84 amount=-1', 'kerning first=242 second=47 amount=-1', 'kerning first=241 second=239 amount=1', 'kerning first=239 second=34 amount=1', 'kerning first=239 second=241 amount=1', 'kerning first=239 second=239 amount=3', 'kerning first=76 second=178 amount=-1', 'kerning first=76 second=179 amount=-1', 'kerning first=76 second=183 amount=-3', 'kerning first=76 second=185 amount=-1', 'kerning first=76 second=187 amount=-1', 'kerning first=76 second=192 amount=1', 'kerning first=76 second=193 amount=1', 'kerning first=76 second=194 amount=1', 'kerning first=76 second=195 amount=1', 'kerning first=76 second=196 amount=1', 'kerning first=76 second=197 amount=1', 'kerning first=76 second=198 amount=1', 'kerning first=76 second=221 amount=-1', 'kerning first=76 second=34 amount=-1', 'kerning first=77 second=208 amount=1', 'kerning first=78 second=208 amount=1', 'kerning first=79 second=122 amount=-1', 'kerning first=239 second=223 amount=1', 'kerning first=80 second=44 amount=-2', 'kerning first=80 second=46 amount=-2', 'kerning first=80 second=64 amount=-1', 'kerning first=80 second=65 amount=-1', 'kerning first=80 second=74 amount=-1', 'kerning first=80 second=88 amount=-1', 'kerning first=80 second=97 amount=-1', 'kerning first=80 second=122 amount=-1', 'kerning first=239 second=207 amount=2', 'kerning first=239 second=206 amount=2', 'kerning first=239 second=204 amount=1', 'kerning first=239 second=185 amount=2', 'kerning first=80 second=225 amount=-1', 'kerning first=80 second=230 amount=-1', 'kerning first=81 second=41 amount=1', 'kerning first=81 second=93 amount=1', 'kerning first=81 second=106 amount=1', 'kerning first=81 second=121 amount=1', 'kerning first=81 second=125 amount=1', 'kerning first=81 second=253 amount=1', 'kerning first=81 second=255 amount=1', 'kerning first=82 second=208 amount=1', 'kerning first=83 second=122 amount=-1', 'kerning first=84 second=38 amount=-1', 'kerning first=84 second=44 amount=-1', 'kerning first=84 second=46 amount=-1', 'kerning first=84 second=47 amount=-1', 'kerning first=84 second=64 amount=-1', 'kerning first=84 second=74 amount=-1', 'kerning first=84 second=84 amount=1', 'kerning first=84 second=86 amount=1', 'kerning first=84 second=87 amount=1', 'kerning first=84 second=89 amount=1', 'kerning first=84 second=95 amount=-1', 'kerning first=84 second=97 amount=-1', 'kerning first=84 second=99 amount=-1', 'kerning first=84 second=100 amount=-1', 'kerning first=84 second=101 amount=-1', 'kerning first=84 second=103 amount=-1', 'kerning first=84 second=111 amount=-1', 'kerning first=84 second=113 amount=-1', 'kerning first=84 second=115 amount=-1', 'kerning first=84 second=122 amount=-1', 'kerning first=84 second=126 amount=-1', 'kerning first=239 second=179 amount=2', 'kerning first=239 second=178 amount=2', 'kerning first=239 second=176 amount=2', 'kerning first=239 second=170 amount=2', 'kerning first=239 second=125 amount=1', 'kerning first=239 second=116 amount=1', 'kerning first=239 second=108 amount=1', 'kerning first=84 second=187 amount=-1', 'kerning first=84 second=225 amount=-1', 'kerning first=84 second=230 amount=-1', 'kerning first=84 second=231 amount=-1', 'kerning first=84 second=233 amount=-1', 'kerning first=84 second=239 amount=2', 'kerning first=84 second=243 amount=-1', 'kerning first=84 second=248 amount=-1', 'kerning first=85 second=122 amount=-1', 'kerning first=85 second=208 amount=1', 'kerning first=86 second=39 amount=1', 'kerning first=86 second=44 amount=-1', 'kerning first=86 second=46 amount=-1', 'kerning first=86 second=84 amount=1', 'kerning first=86 second=86 amount=1', 'kerning first=86 second=87 amount=1', 'kerning first=86 second=89 amount=1', 'kerning first=86 second=95 amount=-1', 'kerning first=86 second=102 amount=1', 'kerning first=86 second=116 amount=1', 'kerning first=239 second=107 amount=1', 'kerning first=239 second=106 amount=1', 'kerning first=239 second=105 amount=1', 'kerning first=239 second=104 amount=1', 'kerning first=239 second=102 amount=1', 'kerning first=239 second=98 amount=1', 'kerning first=239 second=93 amount=1', 'kerning first=239 second=89 amount=2', 'kerning first=239 second=87 amount=2', 'kerning first=239 second=86 amount=2', 'kerning first=86 second=208 amount=1', 'kerning first=86 second=221 amount=1', 'kerning first=86 second=223 amount=1', 'kerning first=86 second=239 amount=2', 'kerning first=86 second=34 amount=1', 'kerning first=87 second=39 amount=1', 'kerning first=87 second=44 amount=-1', 'kerning first=87 second=46 amount=-1', 'kerning first=87 second=84 amount=1', 'kerning first=87 second=86 amount=1', 'kerning first=87 second=87 amount=1', 'kerning first=87 second=89 amount=1', 'kerning first=87 second=95 amount=-1', 'kerning first=87 second=102 amount=1', 'kerning first=87 second=116 amount=1', 'kerning first=239 second=84 amount=2', 'kerning first=239 second=55 amount=1', 'kerning first=239 second=42 amount=1', 'kerning first=239 second=41 amount=1', 'kerning first=239 second=39 amount=1', 'kerning first=237 second=206 amount=1', 'kerning first=237 second=204 amount=1', 'kerning first=235 second=47 amount=-1', 'kerning first=234 second=47 amount=-1', 'kerning first=233 second=47 amount=-1', 'kerning first=87 second=208 amount=1', 'kerning first=87 second=221 amount=1', 'kerning first=87 second=223 amount=1', 'kerning first=87 second=239 amount=2', 'kerning first=87 second=34 amount=1', 'kerning first=88 second=47 amount=-1', 'kerning first=88 second=64 amount=-1', 'kerning first=88 second=97 amount=-1', 'kerning first=88 second=126 amount=-1', 'kerning first=232 second=92 amount=-1', 'kerning first=88 second=187 amount=-1', 'kerning first=88 second=225 amount=-1', 'kerning first=88 second=230 amount=-1', 'kerning first=89 second=38 amount=-1', 'kerning first=89 second=39 amount=1', 'kerning first=89 second=44 amount=-2', 'kerning first=89 second=46 amount=-2', 'kerning first=89 second=47 amount=-1', 'kerning first=89 second=64 amount=-1', 'kerning first=89 second=74 amount=-1', 'kerning first=89 second=84 amount=1', 'kerning first=89 second=86 amount=1', 'kerning first=89 second=87 amount=1', 'kerning first=89 second=89 amount=1', 'kerning first=89 second=95 amount=-2', 'kerning first=89 second=97 amount=-1', 'kerning first=89 second=99 amount=-1', 'kerning first=89 second=100 amount=-1', 'kerning first=89 second=101 amount=-1', 'kerning first=89 second=103 amount=-1', 'kerning first=89 second=111 amount=-1', 'kerning first=89 second=113 amount=-1', 'kerning first=89 second=115 amount=-1', 'kerning first=89 second=122 amount=-1', 'kerning first=89 second=126 amount=-1', 'kerning first=232 second=89 amount=-1', 'kerning first=232 second=84 amount=-1', 'kerning first=232 second=47 amount=-1', 'kerning first=231 second=84 amount=-1', 'kerning first=230 second=89 amount=-1', 'kerning first=230 second=84 amount=-1', 'kerning first=230 second=47 amount=-1', 'kerning first=224 second=92 amount=-1', 'kerning first=224 second=89 amount=-1', 'kerning first=89 second=187 amount=-1', 'kerning first=89 second=225 amount=-1', 'kerning first=89 second=230 amount=-1', 'kerning first=89 second=231 amount=-1', 'kerning first=89 second=233 amount=-1', 'kerning first=89 second=239 amount=2', 'kerning first=89 second=243 amount=-1', 'kerning first=89 second=248 amount=-1', 'kerning first=89 second=34 amount=1', 'kerning first=90 second=38 amount=-1', 'kerning first=90 second=44 amount=-1', 'kerning first=90 second=46 amount=-1', 'kerning first=90 second=47 amount=-1', 'kerning first=90 second=64 amount=-1', 'kerning first=90 second=97 amount=-1', 'kerning first=90 second=122 amount=-1', 'kerning first=90 second=126 amount=-1', 'kerning first=224 second=84 amount=-1', 'kerning first=223 second=120 amount=1', 'kerning first=223 second=116 amount=1', 'kerning first=222 second=90 amount=-1', 'kerning first=90 second=187 amount=-1', 'kerning first=90 second=225 amount=-1', 'kerning first=90 second=230 amount=-1', 'kerning first=91 second=42 amount=-1', 'kerning first=91 second=45 amount=-1', 'kerning first=91 second=49 amount=-1', 'kerning first=91 second=64 amount=-1', 'kerning first=91 second=106 amount=1', 'kerning first=91 second=126 amount=-1', 'kerning first=222 second=88 amount=-1', 'kerning first=222 second=84 amount=-1', 'kerning first=221 second=221 amount=1', 'kerning first=91 second=169 amount=-1', 'kerning first=91 second=174 amount=-1', 'kerning first=91 second=239 amount=1', 'kerning first=171 second=120 amount=1', 'kerning first=92 second=84 amount=-1', 'kerning first=92 second=88 amount=-1', 'kerning first=92 second=89 amount=-1', 'kerning first=92 second=106 amount=1', 'kerning first=92 second=120 amount=1', 'kerning first=92 second=121 amount=1', 'kerning first=92 second=126 amount=-1', 'kerning first=93 second=254 amount=1', 'kerning first=95 second=44 amount=1', 'kerning first=95 second=46 amount=1', 'kerning first=95 second=52 amount=-1', 'kerning first=95 second=65 amount=1', 'kerning first=95 second=84 amount=-1', 'kerning first=95 second=86 amount=-1', 'kerning first=95 second=87 amount=-1', 'kerning first=95 second=89 amount=-2', 'kerning first=95 second=106 amount=1', 'kerning first=95 second=112 amount=1', 'kerning first=95 second=118 amount=-1', 'kerning first=95 second=119 amount=-1', 'kerning first=95 second=120 amount=1', 'kerning first=95 second=192 amount=1', 'kerning first=95 second=193 amount=1', 'kerning first=95 second=194 amount=1', 'kerning first=95 second=195 amount=1', 'kerning first=95 second=196 amount=1', 'kerning first=95 second=197 amount=1', 'kerning first=97 second=84 amount=-1', 'kerning first=97 second=89 amount=-1', 'kerning first=98 second=47 amount=-1', 'kerning first=98 second=84 amount=-1', 'kerning first=98 second=89 amount=-1', 'kerning first=98 second=92 amount=-1', 'kerning first=99 second=84 amount=-1', 'kerning first=100 second=239 amount=1', 'kerning first=101 second=47 amount=-1', 'kerning first=101 second=84 amount=-1', 'kerning first=101 second=89 amount=-1', 'kerning first=101 second=92 amount=-1', 'kerning first=102 second=39 amount=1', 'kerning first=102 second=44 amount=-1', 'kerning first=102 second=45 amount=-1', 'kerning first=102 second=46 amount=-1', 'kerning first=102 second=47 amount=-1', 'kerning first=102 second=64 amount=-1', 'kerning first=102 second=65 amount=-1', 'kerning first=102 second=74 amount=-1', 'kerning first=102 second=86 amount=1', 'kerning first=102 second=87 amount=1', 'kerning first=102 second=89 amount=1', 'kerning first=102 second=95 amount=-1', 'kerning first=102 second=97 amount=-1', 'kerning first=102 second=99 amount=-1', 'kerning first=102 second=100 amount=-1', 'kerning first=102 second=101 amount=-1', 'kerning first=102 second=103 amount=-1', 'kerning first=102 second=111 amount=-1', 'kerning first=102 second=113 amount=-1', 'kerning first=102 second=115 amount=-1', 'kerning first=102 second=126 amount=-1', 'kerning first=221 second=126 amount=-1', 'kerning first=221 second=115 amount=-1', 'kerning first=221 second=113 amount=-1', 'kerning first=221 second=111 amount=-1', 'kerning first=221 second=103 amount=-1', 'kerning first=221 second=101 amount=-1', 'kerning first=221 second=100 amount=-1', 'kerning first=221 second=99 amount=-1', 'kerning first=221 second=97 amount=-1', 'kerning first=221 second=74 amount=-1', 'kerning first=220 second=122 amount=-1', 'kerning first=219 second=122 amount=-1', 'kerning first=218 second=122 amount=-1', 'kerning first=102 second=193 amount=-1', 'kerning first=102 second=221 amount=1', 'kerning first=102 second=225 amount=-1', 'kerning first=102 second=230 amount=-1', 'kerning first=102 second=231 amount=-1', 'kerning first=102 second=233 amount=-1', 'kerning first=102 second=236 amount=1', 'kerning first=102 second=238 amount=1', 'kerning first=102 second=239 amount=2', 'kerning first=102 second=243 amount=-1', 'kerning first=102 second=248 amount=-1', 'kerning first=102 second=34 amount=1', 'kerning first=172 second=52 amount=1', 'kerning first=103 second=106 amount=1', 'kerning first=104 second=84 amount=-1', 'kerning first=104 second=89 amount=-1', 'kerning first=104 second=92 amount=-1', 'kerning first=105 second=239 amount=1', 'kerning first=106 second=95 amount=1', 'kerning first=106 second=239 amount=1', 'kerning first=107 second=45 amount=-1', 'kerning first=107 second=64 amount=-1', 'kerning first=107 second=84 amount=-1', 'kerning first=107 second=92 amount=-1', 'kerning first=107 second=126 amount=-1', 'kerning first=217 second=122 amount=-1', 'kerning first=216 second=122 amount=-1', 'kerning first=174 second=47 amount=-1', 'kerning first=108 second=41 amount=1', 'kerning first=108 second=93 amount=1', 'kerning first=108 second=95 amount=1', 'kerning first=108 second=102 amount=1', 'kerning first=108 second=106 amount=1', 'kerning first=108 second=116 amount=1', 'kerning first=108 second=120 amount=1', 'kerning first=108 second=121 amount=1', 'kerning first=108 second=125 amount=1', 'kerning first=108 second=223 amount=1', 'kerning first=108 second=239 amount=1', 'kerning first=108 second=253 amount=1', 'kerning first=108 second=255 amount=1', 'kerning first=108 second=35 amount=1', 'kerning first=109 second=84 amount=-1', 'kerning first=109 second=89 amount=-1', 'kerning first=109 second=92 amount=-1', 'kerning first=110 second=84 amount=-1', 'kerning first=110 second=89 amount=-1', 'kerning first=110 second=92 amount=-1', 'kerning first=111 second=47 amount=-1', 'kerning first=111 second=89 amount=-1', 'kerning first=111 second=92 amount=-1', 'kerning first=112 second=47 amount=-1', 'kerning first=112 second=84 amount=-1', 'kerning first=112 second=89 amount=-1', 'kerning first=112 second=92 amount=-1', 'kerning first=113 second=95 amount=1', 'kerning first=113 second=106 amount=1', 'kerning first=114 second=38 amount=-1', 'kerning first=114 second=41 amount=-1', 'kerning first=114 second=44 amount=-2', 'kerning first=114 second=45 amount=-1', 'kerning first=114 second=46 amount=-2', 'kerning first=114 second=47 amount=-2', 'kerning first=114 second=64 amount=-1', 'kerning first=114 second=74 amount=-1', 'kerning first=114 second=84 amount=-1', 'kerning first=114 second=89 amount=-1', 'kerning first=114 second=92 amount=-1', 'kerning first=114 second=93 amount=-1', 'kerning first=114 second=95 amount=-2', 'kerning first=114 second=97 amount=-1', 'kerning first=114 second=99 amount=-1', 'kerning first=114 second=100 amount=-1', 'kerning first=114 second=101 amount=-1', 'kerning first=114 second=103 amount=-1', 'kerning first=114 second=111 amount=-1', 'kerning first=114 second=113 amount=-1', 'kerning first=114 second=115 amount=-1', 'kerning first=114 second=117 amount=-1', 'kerning first=114 second=122 amount=-1', 'kerning first=114 second=125 amount=-1', 'kerning first=114 second=126 amount=-1', 'kerning first=214 second=122 amount=-1', 'kerning first=213 second=122 amount=-1', 'kerning first=212 second=122 amount=-1', 'kerning first=211 second=122 amount=-1', 'kerning first=210 second=122 amount=-1', 'kerning first=208 second=122 amount=-1', 'kerning first=207 second=239 amount=2', 'kerning first=207 second=207 amount=1', 'kerning first=206 second=239 amount=2', 'kerning first=206 second=236 amount=1', 'kerning first=114 second=221 amount=-1', 'kerning first=114 second=224 amount=-1', 'kerning first=114 second=225 amount=-1', 'kerning first=114 second=226 amount=-1', 'kerning first=114 second=227 amount=-1', 'kerning first=114 second=228 amount=-1', 'kerning first=114 second=229 amount=-1', 'kerning first=114 second=230 amount=-1', 'kerning first=114 second=231 amount=-1', 'kerning first=114 second=232 amount=-1', 'kerning first=114 second=233 amount=-1', 'kerning first=114 second=234 amount=-1', 'kerning first=114 second=235 amount=-1', 'kerning first=114 second=240 amount=-1', 'kerning first=114 second=242 amount=-1', 'kerning first=114 second=243 amount=-1', 'kerning first=114 second=244 amount=-1', 'kerning first=114 second=245 amount=-1', 'kerning first=114 second=246 amount=-1', 'kerning first=114 second=248 amount=-1', 'kerning first=114 second=249 amount=-1', 'kerning first=114 second=250 amount=-1', 'kerning first=114 second=251 amount=-1', 'kerning first=114 second=252 amount=-1', 'kerning first=176 second=44 amount=-2', 'kerning first=115 second=47 amount=-1', 'kerning first=115 second=84 amount=-1', 'kerning first=115 second=89 amount=-1', 'kerning first=116 second=44 amount=1', 'kerning first=116 second=46 amount=1', 'kerning first=116 second=65 amount=1', 'kerning first=116 second=120 amount=1', 'kerning first=205 second=239 amount=1', 'kerning first=116 second=192 amount=1', 'kerning first=116 second=193 amount=1', 'kerning first=116 second=194 amount=1', 'kerning first=116 second=195 amount=1', 'kerning first=116 second=196 amount=1', 'kerning first=116 second=197 amount=1', 'kerning first=118 second=45 amount=1', 'kerning first=118 second=95 amount=-1', 'kerning first=118 second=102 amount=1', 'kerning first=118 second=116 amount=1', 'kerning first=118 second=118 amount=1', 'kerning first=118 second=120 amount=1', 'kerning first=118 second=121 amount=1', 'kerning first=205 second=204 amount=1', 'kerning first=203 second=223 amount=1', 'kerning first=203 second=221 amount=1', 'kerning first=118 second=171 amount=1', 'kerning first=118 second=253 amount=1', 'kerning first=118 second=255 amount=1', 'kerning first=176 second=46 amount=-2', 'kerning first=119 second=45 amount=1', 'kerning first=119 second=95 amount=-1', 'kerning first=119 second=102 amount=1', 'kerning first=119 second=116 amount=1', 'kerning first=119 second=120 amount=1', 'kerning first=119 second=121 amount=1', 'kerning first=203 second=197 amount=1', 'kerning first=203 second=196 amount=1', 'kerning first=203 second=195 amount=1', 'kerning first=119 second=171 amount=1', 'kerning first=119 second=253 amount=1', 'kerning first=119 second=255 amount=1', 'kerning first=176 second=47 amount=-1', 'kerning first=120 second=52 amount=1', 'kerning first=120 second=65 amount=1', 'kerning first=120 second=95 amount=1', 'kerning first=120 second=102 amount=1', 'kerning first=120 second=116 amount=1', 'kerning first=120 second=118 amount=1', 'kerning first=120 second=119 amount=1', 'kerning first=120 second=120 amount=1', 'kerning first=120 second=121 amount=1', 'kerning first=203 second=194 amount=1', 'kerning first=120 second=187 amount=1', 'kerning first=120 second=192 amount=1', 'kerning first=120 second=193 amount=1', 'kerning first=120 second=194 amount=1', 'kerning first=120 second=195 amount=1', 'kerning first=120 second=196 amount=1', 'kerning first=120 second=197 amount=1', 'kerning first=120 second=223 amount=1', 'kerning first=120 second=253 amount=1', 'kerning first=120 second=255 amount=1', 'kerning first=120 second=35 amount=1', 'kerning first=121 second=45 amount=1', 'kerning first=121 second=95 amount=-1', 'kerning first=121 second=102 amount=1', 'kerning first=121 second=116 amount=1', 'kerning first=121 second=118 amount=1', 'kerning first=121 second=120 amount=1', 'kerning first=121 second=121 amount=1', 'kerning first=203 second=193 amount=1', 'kerning first=203 second=192 amount=1', 'kerning first=203 second=120 amount=1', 'kerning first=121 second=171 amount=1', 'kerning first=121 second=253 amount=1', 'kerning first=121 second=255 amount=1', 'kerning first=176 second=126 amount=-1', 'kerning first=122 second=45 amount=-1', 'kerning first=122 second=47 amount=-1', 'kerning first=122 second=64 amount=-1', 'kerning first=122 second=74 amount=-1', 'kerning first=122 second=84 amount=-1', 'kerning first=122 second=88 amount=-1', 'kerning first=122 second=89 amount=-1', 'kerning first=122 second=90 amount=-1', 'kerning first=122 second=92 amount=-1', 'kerning first=122 second=97 amount=-1', 'kerning first=122 second=99 amount=-1', 'kerning first=122 second=100 amount=-1', 'kerning first=122 second=101 amount=-1', 'kerning first=122 second=103 amount=-1', 'kerning first=122 second=111 amount=-1', 'kerning first=122 second=113 amount=-1', 'kerning first=122 second=122 amount=-1', 'kerning first=122 second=126 amount=-1', 'kerning first=203 second=116 amount=1', 'kerning first=203 second=106 amount=1', 'kerning first=203 second=102 amount=1', 'kerning first=203 second=95 amount=1', 'kerning first=203 second=89 amount=1', 'kerning first=122 second=224 amount=-1', 'kerning first=122 second=225 amount=-1', 'kerning first=122 second=226 amount=-1', 'kerning first=122 second=227 amount=-1', 'kerning first=122 second=228 amount=-1', 'kerning first=122 second=229 amount=-1', 'kerning first=122 second=230 amount=-1', 'kerning first=122 second=231 amount=-1', 'kerning first=122 second=232 amount=-1', 'kerning first=122 second=233 amount=-1', 'kerning first=122 second=234 amount=-1', 'kerning first=122 second=235 amount=-1', 'kerning first=122 second=240 amount=-1', 'kerning first=122 second=242 amount=-1', 'kerning first=122 second=243 amount=-1', 'kerning first=122 second=244 amount=-1', 'kerning first=122 second=245 amount=-1', 'kerning first=122 second=246 amount=-1', 'kerning first=122 second=248 amount=-1', 'kerning first=178 second=44 amount=-2', 'kerning first=123 second=42 amount=-1', 'kerning first=123 second=49 amount=-1', 'kerning first=123 second=64 amount=-1', 'kerning first=123 second=106 amount=1', 'kerning first=123 second=174 amount=-1', 'kerning first=123 second=239 amount=1', 'kerning first=126 second=41 amount=-1', 'kerning first=126 second=42 amount=-1', 'kerning first=126 second=44 amount=-1', 'kerning first=126 second=46 amount=-1', 'kerning first=126 second=47 amount=-1', 'kerning first=126 second=52 amount=1', 'kerning first=126 second=55 amount=-1', 'kerning first=126 second=60 amount=1', 'kerning first=126 second=62 amount=-1', 'kerning first=126 second=63 amount=-1', 'kerning first=126 second=84 amount=-1', 'kerning first=126 second=88 amount=-1', 'kerning first=126 second=89 amount=-1', 'kerning first=126 second=92 amount=-1', 'kerning first=126 second=93 amount=-1', 'kerning first=126 second=95 amount=-1', 'kerning first=126 second=118 amount=1', 'kerning first=126 second=119 amount=1', 'kerning first=126 second=121 amount=1', 'kerning first=126 second=122 amount=-1', 'kerning first=203 second=87 amount=1', 'kerning first=203 second=86 amount=1', 'kerning first=203 second=65 amount=1', 'kerning first=202 second=223 amount=1', 'kerning first=202 second=221 amount=1', 'kerning first=126 second=191 amount=-1', 'kerning first=126 second=208 amount=1', 'kerning first=126 second=253 amount=1', 'kerning first=126 second=255 amount=1', 'kerning first=202 second=197 amount=1', 'kerning first=202 second=196 amount=1', 'kerning first=202 second=195 amount=1', 'kerning first=202 second=194 amount=1', 'kerning first=202 second=193 amount=1', 'kerning first=202 second=192 amount=1', 'kerning first=202 second=120 amount=1', 'kerning first=202 second=116 amount=1', 'kerning first=202 second=106 amount=1', 'kerning first=202 second=102 amount=1', 'kerning first=202 second=95 amount=1', 'kerning first=202 second=89 amount=1', 'kerning first=202 second=87 amount=1', 'kerning first=202 second=86 amount=1', 'kerning first=202 second=65 amount=1', 'kerning first=201 second=223 amount=1', 'kerning first=201 second=197 amount=1', 'kerning first=201 second=196 amount=1', 'kerning first=201 second=195 amount=1', 'kerning first=201 second=194 amount=1', 'kerning first=201 second=193 amount=1', 'kerning first=201 second=192 amount=1', 'kerning first=201 second=120 amount=1', 'kerning first=201 second=116 amount=1', 'kerning first=201 second=106 amount=1', 'kerning first=201 second=102 amount=1', 'kerning first=201 second=95 amount=1', 'kerning first=201 second=87 amount=1', 'kerning first=201 second=86 amount=1', 'kerning first=201 second=65 amount=1', 'kerning first=200 second=223 amount=1', 'kerning first=200 second=197 amount=1', 'kerning first=200 second=196 amount=1', 'kerning first=200 second=195 amount=1', 'kerning first=200 second=194 amount=1', 'kerning first=200 second=193 amount=1', 'kerning first=200 second=192 amount=1', 'kerning first=200 second=120 amount=1', 'kerning first=200 second=116 amount=1', 'kerning first=200 second=106 amount=1', 'kerning first=200 second=102 amount=1', 'kerning first=200 second=95 amount=1', 'kerning first=200 second=87 amount=1', 'kerning first=200 second=86 amount=1', 'kerning first=200 second=65 amount=1', 'kerning first=199 second=126 amount=-1', 'kerning first=199 second=122 amount=-1', 'kerning first=198 second=223 amount=1', 'kerning first=198 second=120 amount=1', 'kerning first=198 second=116 amount=1', 'kerning first=198 second=106 amount=1', 'kerning first=198 second=102 amount=1', 'kerning first=198 second=89 amount=1', 'kerning first=198 second=87 amount=1', 'kerning first=198 second=86 amount=1', 'kerning first=198 second=84 amount=1', 'kerning first=198 second=65 amount=1', 'kerning first=197 second=223 amount=1', 'kerning first=197 second=197 amount=1', 'kerning first=197 second=196 amount=1', 'kerning first=197 second=195 amount=1', 'kerning first=197 second=194 amount=1', 'kerning first=197 second=193 amount=1', 'kerning first=197 second=192 amount=1', 'kerning first=197 second=120 amount=1', 'kerning first=197 second=116 amount=1', 'kerning first=197 second=106 amount=1', 'kerning first=197 second=102 amount=1', 'kerning first=197 second=95 amount=1', 'kerning first=197 second=65 amount=1', 'kerning first=197 second=46 amount=1', 'kerning first=197 second=44 amount=1', 'kerning first=196 second=223 amount=1', 'kerning first=196 second=197 amount=1', 'kerning first=196 second=196 amount=1', 'kerning first=196 second=195 amount=1', 'kerning first=196 second=194 amount=1', 'kerning first=196 second=193 amount=1', 'kerning first=196 second=192 amount=1', 'kerning first=196 second=120 amount=1', 'kerning first=196 second=116 amount=1', 'kerning first=196 second=106 amount=1', 'kerning first=196 second=102 amount=1', 'kerning first=196 second=95 amount=1', 'kerning first=196 second=65 amount=1', 'kerning first=196 second=46 amount=1', 'kerning first=196 second=44 amount=1', 'kerning first=195 second=223 amount=1', 'kerning first=195 second=197 amount=1', 'kerning first=195 second=196 amount=1', 'kerning first=195 second=195 amount=1', 'kerning first=195 second=194 amount=1', 'kerning first=195 second=193 amount=1', 'kerning first=195 second=192 amount=1', 'kerning first=195 second=120 amount=1', 'kerning first=195 second=116 amount=1', 'kerning first=195 second=106 amount=1', 'kerning first=195 second=102 amount=1', 'kerning first=195 second=95 amount=1', 'kerning first=195 second=65 amount=1', 'kerning first=195 second=46 amount=1', 'kerning first=195 second=44 amount=1', 'kerning first=194 second=223 amount=1', 'kerning first=194 second=197 amount=1', 'kerning first=194 second=196 amount=1', 'kerning first=194 second=195 amount=1', 'kerning first=194 second=194 amount=1', 'kerning first=194 second=193 amount=1', 'kerning first=194 second=192 amount=1', 'kerning first=194 second=120 amount=1', 'kerning first=194 second=116 amount=1', 'kerning first=194 second=106 amount=1', 'kerning first=194 second=102 amount=1', 'kerning first=194 second=95 amount=1', 'kerning first=194 second=65 amount=1', 'kerning first=194 second=46 amount=1', 'kerning first=194 second=44 amount=1', 'kerning first=193 second=223 amount=1', 'kerning first=193 second=197 amount=1', 'kerning first=193 second=196 amount=1', 'kerning first=193 second=195 amount=1', 'kerning first=193 second=194 amount=1', 'kerning first=193 second=193 amount=1', 'kerning first=193 second=192 amount=1', 'kerning first=193 second=120 amount=1', 'kerning first=193 second=116 amount=1', 'kerning first=193 second=106 amount=1', 'kerning first=193 second=102 amount=1', 'kerning first=193 second=95 amount=1', 'kerning first=193 second=65 amount=1', 'kerning first=193 second=46 amount=1', 'kerning first=193 second=44 amount=1', 'kerning first=192 second=223 amount=1', 'kerning first=192 second=197 amount=1', 'kerning first=192 second=196 amount=1', 'kerning first=192 second=195 amount=1', 'kerning first=192 second=194 amount=1', 'kerning first=192 second=193 amount=1', 'kerning first=192 second=192 amount=1', 'kerning first=192 second=120 amount=1', 'kerning first=192 second=116 amount=1', 'kerning first=192 second=106 amount=1', 'kerning first=192 second=102 amount=1', 'kerning first=192 second=95 amount=1', 'kerning first=192 second=65 amount=1', 'kerning first=192 second=46 amount=1', 'kerning first=192 second=44 amount=1', 'kerning first=192 second=39 amount=-1', 'kerning first=191 second=126 amount=-1', 'kerning first=191 second=89 amount=-1', 'kerning first=191 second=84 amount=-1', 'kerning first=187 second=121 amount=1', 'kerning first=187 second=119 amount=1', 'kerning first=187 second=118 amount=1', 'kerning first=187 second=52 amount=1', 'kerning first=186 second=47 amount=-1', 'kerning first=186 second=46 amount=-2', 'kerning first=186 second=44 amount=-2', 'kerning first=185 second=47 amount=-1', 'kerning first=185 second=46 amount=-1', 'kerning first=185 second=44 amount=-1', 'kerning first=183 second=55 amount=-1', 'kerning first=183 second=49 amount=-1', 'kerning first=182 second=239 amount=1', 'kerning first=182 second=208 amount=1', 'kerning first=182 second=106 amount=1', 'kerning first=182 second=91 amount=1', 'kerning first=179 second=47 amount=-1', 'kerning first=179 second=46 amount=-2', 'kerning first=179 second=44 amount=-2', 'kerning first=178 second=47 amount=-1', 'kerning first=178 second=46 amount=-2 '];\n/* harmony default export */ __webpack_exports__[\"default\"] = (font_def.join('\\n'));\n\n//# sourceURL=webpack:///./src/bmfont_definition_mana16.js?");

/***/ }),

/***/ "./src/debounce.js":
/*!*************************!*\
  !*** ./src/debounce.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// a klonkin wrapper for lodash's debounce function\n// converted to an node module\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\r\n* Used to resolve the\r\n* [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n* of values.\r\n*/\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\r\n* Gets the timestamp of the number of milliseconds that have elapsed since\r\n* the Unix epoch (1 January 1970 00:00:00 UTC).\r\n*\r\n* @static\r\n* @memberOf _\r\n* @since 2.4.0\r\n* @category Date\r\n* @returns {number} Returns the timestamp.\r\n* @example\r\n*\r\n* _.defer(function(stamp) {\r\n*   console.log(_.now() - stamp);\r\n* }, _.now());\r\n* // => Logs the number of milliseconds it took for the deferred invocation.\r\n*/\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\r\n* Creates a debounced function that delays invoking `func` until after `wait`\r\n* milliseconds have elapsed since the last time the debounced function was\r\n* invoked. The debounced function comes with a `cancel` method to cancel\r\n* delayed `func` invocations and a `flush` method to immediately invoke them.\r\n* Provide `options` to indicate whether `func` should be invoked on the\r\n* leading and/or trailing edge of the `wait` timeout. The `func` is invoked\r\n* with the last arguments provided to the debounced function. Subsequent\r\n* calls to the debounced function return the result of the last `func`\r\n* invocation.\r\n*\r\n* **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n* invoked on the trailing edge of the timeout only if the debounced function\r\n* is invoked more than once during the `wait` timeout.\r\n*\r\n* If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n* until to the next tick, similar to `setTimeout` with a timeout of `0`.\r\n*\r\n* See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\r\n* for details over the differences between `_.debounce` and `_.throttle`.\r\n*\r\n* @static\r\n* @memberOf _\r\n* @since 0.1.0\r\n* @category Function\r\n* @param {Function} func The function to debounce.\r\n* @param {number} [wait=0] The number of milliseconds to delay.\r\n* @param {Object} [options={}] The options object.\r\n* @param {boolean} [options.leading=false]\r\n*  Specify invoking on the leading edge of the timeout.\r\n* @param {number} [options.maxWait]\r\n*  The maximum time `func` is allowed to be delayed before it's invoked.\r\n* @param {boolean} [options.trailing=true]\r\n*  Specify invoking on the trailing edge of the timeout.\r\n* @returns {Function} Returns the new debounced function.\r\n* @example\r\n*\r\n* // Avoid costly calculations while the window size is in flux.\r\n* jQuery(window).on('resize', _.debounce(calculateLayout, 150));\r\n*\r\n* // Invoke `sendMail` when clicked, debouncing subsequent calls.\r\n* jQuery(element).on('click', _.debounce(sendMail, 300, {\r\n*   'leading': true,\r\n*   'trailing': false\r\n* }));\r\n*\r\n* // Ensure `batchLog` is invoked once after 1 second of debounced calls.\r\n* var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\r\n* var source = new EventSource('/stream');\r\n* jQuery(source).on('message', debounced);\r\n*\r\n* // Cancel the trailing debounced invocation.\r\n* jQuery(window).on('popstate', debounced.cancel);\r\n*/\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = wait || 0;\n\n  if (options) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(+options.maxWait || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (debounce);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./src/debounce.js?");

/***/ }),

/***/ "./src/images/mana16.png":
/*!*******************************!*\
  !*** ./src/images/mana16.png ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABRCAYAAACkNR6BAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAdTAAAOpgAAA6lwAAF2+XqZnUAAAABmJLR0QA/wD/AP+gvaeTAAAWOElEQVR42u1dzXHkONKFZEjLjz5+l3VBcmCtmOMcx4JxgB2xNnTsbTZiT+sC5Qi+QxdGWan8eQmSVZL4XgSiikBmIpEA8Q+w9d6bcgPec3N41sv/1aC3ZKz9PVZHvkW7GOGt4Kz4pByNyM/Se3V4Ja0VHuXHkqRzEfRLx+ywBHG3CXkVfS09kLxC83vvtGXypG5rz2209jjtkiZLcyXee6QXTUcWL5KG7D1AypMno8qL6KzrN8+WS7frQiuuSl2Y5UmUF7P57ZUbRP9IfiX9Hp3WLXo/q3UioqMuL4vDL8NXUP5VWPZi7JEhloxBI1+IxYk/ol2cZ7RiW4J4LF2sF8bSe3X00bTSLpadtT5RPlgvQlQpR3p69srkzegrsQZyqx2AvdOGyJPhUaWx9Pc2mK1I0Xjvld5KOtB4ozQg70FWniIZKG/27lfrMtmpkNANUVSePFnIe927bcPu0GftQda4zbY3CH/U4VoN3aI0VnSNyqnOn1XFIetVXX9U5F+lx8uULPO3uKixrjTsMw1eZByrIEQdgDXRxbOZDPP+f3VnVZLISJIutynt97mcVRdFfhpN0XaDV7qZwVM34kA7nNXymumfuYxf2tbr1CFxoB1fpCObhc++05b8K/vsYdA9CryOrzJdiMr14vBegmzEFfH3hLcn/6OXvrJMcitaiSzNma11WFWHajlGG86PTtcCGjRv7k3n4dY0usx5s5I6bIbHslE0i+qlact7MMNzlNsaF5IW2fBX245but7rs9sl+zy21tbWWm/X6Bd/7TfcIvwR/i5ovrUc3wq0A39dfpeEblH0rbX2/fL7UohP4kXJ+ZHQZ+Gt/bLftwvtw8X9uPitH5C2tdZeHX8Jy9bfLryapqLDsKmV/4uikfgm5EX46HT9QtPb58WD4+5B8+T8j8JmeCzo92EGS7Pr6ypvB8KXYviqwr06Yyu/luPhqV3nfSb/6PCBh/a+bZE2mbW/sEzvPy89gt8uvYLfLs8/VY/BmzLK+Cujgipt1LvLRlQZX2UGwKK3em3Repf8v9cyya1oZRmxbBblaTR7UtEhyjOvXEh9vXi+Ap22+cz7di+6yshwL5qq3WZ5uuHnvUPVJQC9gW3Z+Nx3kmct/0l9exIfyu/ZXM82enb25B8dbtnc2pw+m79X9rAa7MHwW7cNqP0y/urLXqFFGnekMbD89ugARHaL0rfnMsktaHWeRdPzOs2R3So6eH5oPn5lup7w9g9Mh6Rhb5qq3bbwaD+Zl9Jt2QSoZerOxALwd8VbLX/I6RT5P9MJKUsen7ZlNr1eiX9ruNdgR2mq2P+K/7G19vtlMuD/1FTD7w3DVv49kS0DWNP/R6C3X1N41rTja8unafdeJjmaVgKZrtYyXoOwqg4j/uXixhS6h7/U71enIz42Xttb+ZV4ab/K8ezSwHhPxpKaXPaoLH1+S/yzcBSzy7EDo459MMJehP9Da+255csIt4JeIkWWi1ubtf+lJ/BT9TD+l/RetF/Ev2VUt9f5/mw0aPHccwagB3FXR0/3oI2e5X9rGn9WBysvrHzSowAtL1u2+Yx0kR1Re9+CTsOivwVN1W5beCw/dONnV79oHNExuIw/AhIuy2zEH+mP8iNtjUUXyT86PEv/ruGPl37Avy+/f15+/1vstVT4o1G6HqFHtNbmw9beetBeL2jr5poKfiTPEtlGlc+E0bu28s3a7PcS0MwA2XD1HfT/KnSfAdGmvXvQ3AtP7Xom6wj5Ou3Vumdmk+WI57ldb+qtoMI/3n29IT0a7Wfyjw6/Lfp1rxBdP+zdHgFDlw8Iur0uAmpAWOVOgaz3aOkp/dCzoV7P7COs68/uAbDsJ8P1hrXoOOXMHgBkJIaOVL4K3Ufaj4CWn2p+7kkzO5qf4Yno0RFsL8Qh7W7FE42GEZ1m9+30Huu/TvJHdco6Kf/I8NIa/lb+R9EX+FeLR8iL+tVrjRm/xNOF7rm9jXyfL35PIO2PZq8T6WMTTT1bPOgRQg/aJs8JfRa+1yzJrWgtPDn8L+1tH8Srohtl4EXJn9XBgzwWKEco+ijhV6Hz7Ijm+dF0xBvkCPWIGUs9szD2yYx4dJ7pukqHjyNnKxg+0jWgR+M6vVZZifg1dHsw2hN5bFa3O5n8I8Mt++n0R6jxGz2FP53ehVw38nZNWvxoLxe56KADNEgvCOmZ3vsmwL1mSW5B66VXzgp1R7ZEdKUlou8eIysp96vQWXZE8/wWdFFe3YOm+h5v4dF+csR9jz0AWodMx4w/KhOe/OiUQsaPpD9rTyr6HREenVJA0hfxX71/UshPQ3DlhfkZ0P0dYWLwvToBM9ddah0inWXFe+S3AD7bTYBRpdcNf/R2q4q+WypvJE8+Ix1a8d+LLsOtabTOR94ESEd3Nzf+RA2kfjEsN7Mm79F58XVQjqSvniaw1q074BeNXDWvN/JB7ExHR/f1nIW12yO/Ko0EShPp6P3Pru/O7ubQNNLf02l8NMe7+CqzQUtkS+h9XcgoW8u0OoFaNytN0akQy5bZHrS/n5uhUJTxUXjEzx7vXIWAhEXPXsenusHRe6ktWIUaqfiyeNaEX6JyE55XoSH2R+n22Aw3E29kT+Q4oXdzJZI3aLw6ruogBLUL2kD0gBZpaLLBgEVnxYt8X6TyDZKZuh19R7Lb+vTMJ3J7rIy3Wn9k6crCs+PJ2WblSL4O0427Z9um4rTsmsWv+aGPAd27watWBlklW70pDS2M3h4Jbz1LZ5zWC+klj57i0u1GZM8OgJ4dQdbfkX0U2vaVNX8r3yzamWuNPd1lnF65QfLSsndP6LJ4owomO0VjydR+qL0r8Wo7WOlCT/ZEdsmctzehUm+gy4HRUmC1bCA0e9e7A5X7O6QfcnsssryUzQDMpjvT3zspgbZRMkx3AHSaIrt6drHaKnNWYLZQWIroRHiKzjRKaIKRi35m4+8gb1RQokY0m8rp3S7oXoZXKk60gkb2R+gKogc02T3jmW7dkb/lOwGZ7jJOK37Lb48GLIvXoqscfUXSgtq7euRWl4cG8nl5p2E1EkjdYvlleY12/qTsHtBkeY6Wi9m6fku51+XDm/WIbBYdz5tN10w4amcL0WxPtkTutQHZvjlL/3e0yEuAVJhaqR7wRA0ten4+CotkZC6q9CP5PeCb1WUvZ+VpNmrL7JKVE5nuLB5JWz1DHNnXilf7ZaM6T0Z34q/OrOxxeiSiQ/e+oJU6au9KvFElV42jO/xZJetVplF6vfDK7A9Sf+zRSajGO1P+PFleXZPdPivTHdkxm6WbSXeWvi3ydZi35m+VKT3Azupgr/7+22kGpJeMbsI7k/MyHMmoLRWy5aefo5GT598Sf6TwdSD+rS9WRG+FyYbAaxQQ3TtIa73EmV2R9OxBN1PejohX2wEZIMw02NrWSFg2mNDxRctP1ZkEdHZIyvZQrbdm8hfRT7qxDPCn+PXS5OmEzNLNpDtL3xb5nuzoGalLrDikvmY5khcBIR+FqH44AoF1Ba70Ozp8XJYw+33rbsgdfuPSm3HhhHUpxNFXAP91oH/0zfABfR3nqvxnMeIcl3ogNhz58dzeXzqE6O5hfGClNf8yqaq9URto91mBfMxofBBnfOCpWhdZV4RH5XHIzy4IkxeU6TRInZFraIf77qRxMf5rm93rmmPv0iIrT3+/0P/j8vzPifiy665n3w3vMqIo/Fbv3qhrfohnXa5k3vf2Vo7G/+H/7hhgV72FW4TP9Lb2DK9+T7myFp3dF5D1nPuEn0djLWF4/lkvG+2BWvTaBlleZfkaLTt1QE5Fd08HncezS1WoXlvoNLaWrZl8zMpXZMPoSNRMnnuyRlzZPh4tE9nHouPsQRxevg0Z6EefZkbCWf6iez48mX849pd+vds2idbAs3Rl4d7sS3fCt5wC0DbyNjZabUi2dJYeB9yjAdz6bBlE+h0dnk3Nbpm61f6ZLpk/4ufRWOnJ0in9JaodgBbwZXm1R4O0NUzaKdMX3QdQPY2C2mmGLqrkZuyd5WNmL2knr2IevxX7oXtedOUpT4TIeL34PP2zBmamjqk0bCi9p4/OX4nZpeHe398em20CRDbA9b7NTtXbENGOWBY3clIGfecsOVf6Ii/g0eGe4lnCPkp4lKm6oOoM3PISVnRBRv3Sf0vF6engjdwk7dGbAGdfUG/UF+VdtqZs2Xvv44KZvG48eyczKvae2XxooRqHTENWqWZr85YN0ONekZ3QOqYyqqzQIPQzdbbXmEUnMKLbY6NjgFb8mT232CnL6y31i7aRV09Gx0lbEtYcmjZrzK8YbgHhzzJcFuTKtCUSb0WX3uNCYfF4vdGZDgDyshx5DHD2BbXs1BParOGt2nv2uGDlcp1IZtXe6DHAynHUykyc1XjMlOHKiZFqY4TSVBpdhGaP/ETj6YU4IhleGfIuGsr0q9oJeee8siX1it67rnjRI6kRfZQfvfdaB8BChf8zhWcZr/0yGVahrVQie+jSe1yJWjxb7kzI7OHRHnERUPVl9tKs9xtkcqITFR5fVrlV9Y/siZSbWXsjFwGhMx57XwSUTSFrWZUZAG2PrRcB9V7PHw+V96A6ArdcdlEPcjrqCP0qNkLq3qij2x2/7OIfxL6bHdKobDEMEp71rO8RnjV2MgMrL0Rmixla7efJm738x5Jl7QvI8rxiE2/fAfoiI6OKviEMSWc1H9DKbSZeL7/QS0Uye0eb6KK8QdOxBx3aAEh+a3RlLQdl9kDLMx3dbNlFwt4tnz02/+jGq/pFj0yg/N73p7PvIx8djnzfWvpHsI797P19bxQvzT7G6fm35h8jemrvjxpJ2srxI4vWkv8U8GqHHGd92BCGpNMLi+ztpf8JlF2xp9ThqdXshuSNF++LIS9Lxx50SDo0/9D/yfCr2CMrz0v7VU+MusU6apwdRdRH0eSzd0TNOsKs+WXcS/OPPXtOy/LSYuloHXHzjngvSrZFl+mZ6dMc+jWQtbb3NtM21jqjOm5Hn9/Fvxbpo/VBOSVpTU/eMlymzQtHp/EzuZVRy6zzRn/WZSWRnpZML45sBGTZ15ppsaYQta7doLHyeul2WfDS5PW+rdGg1MFKY2TTbBocHRVsodu6URd5R5Ay4PFH+enZ1xqpe/xe3B68NEV7TiL7a9lL8uzxL86zFXdX/5fu66rtuEd95Nmmdzv/slM4a0BXfS+6w2/pbW301vnmrc/reDLs3j6gL+/WBjILp4vdlsrVK4DR+qrmsTpQ3vRxtgbqrX8OIBWj9xLrl9C6OtNLt/5CmX7h9QdMdLqsisAK0/lo5Y9XMaEVWJUu+zpblDeWLbMykpVBb21/dtCh+SNZ6MmJFeTrPc8Db608uoPAe1eR8hSVF0t+1JGYqb+sOLS/TAd6CkfnMaqrlhHJt2zpLdFZeSPtiW6EPMzdu2GLXLTOnB138AprdeevV4gjXdeep2XtWDpnKtesUalUeFYloGVbNpF+WXjkZ22Q0S9YD8KROEdadKM3Lin5o9uNZEvkaztVdspvqWzRik46nXad1syelbP8M/xZ3iEVt/es40ZPaHSHDrF3JV+zi4jQxh/RSabP46nojti7O7/VGQCrnkJ17QGPFceMDT6kkwUbyXyrYGpkBVC/YNB5xSDcyxBPRtRTRzczWWFeA4mOkD0b7TE9G6U/oo0qoOwSk0jmDI9+Ub3RQUW+9pPP/7n8/89kmqznmfsUtrzgCCx9s7Rk9FV77SV/2DijzWRr94dBhxw1Rcpy5G41A2Clo4P/M1htjKWjZQ9rE6aXdxEdneOizPUKRuQvMzsq+FGBzdZ8s0I5owNyLAutiPRzViFpXVoif2vla9l/5GcPwmXeSD/vmFpWPio7260K7IgOgP5Cmb5o46fi1zM/Vqc4qpi9zliECl2l0dFp/9lx2yG2taaBkfRU8tNrlDObRHaJaKI9CUgF7NHdYw+AtvkSyEXTR/fBnS4QyNS6bqCjs41ewY6mQbsh26sso8KNHGlae9z4I9N+My+E5JF2QysfzY/qFF2mY62XW3EhlXu18a9UxFHeVW2i/cZUuG74x/NvBi865Wil++gZgIo8nXYrrbNl0CoXGX8176SNEVq03A38EdBk9ViWF9ZSl5aV1WfRzGoHdKA7oYsKhFfoJI11q5cnC0Ez5Hlr1d7/bPRfffkr692I86bQJZAlhN7rOqGVoyVfdupkuLZ3dvFMNGWq9bA6YDpf9P+KTSw/Pe2I3szl2dxLy0faA2C9p5VygyxTrUX+at7J5ygseydkea5s0vJ0RPLBszsd3aHu0TlfOM4lZueCv7W3c+3jfLMFeb72NXke+C7khicZ1e9ze/tUYvQpYHm2dDVoK+f9EQz5+lOm+nzw+HSo/Ezp+ITt+EzoLGR+oRi2/N6uzy4POc+K/kn5L+3t07vVz0l/V78WxueW98Jfya/EiHfk1bCJvktibW/lcuSjfM4+N5wBPSOcnZH/oX61TSp3aWibyTyq3sWRYfBp/bOz81bcsqyNMmyVWanf4NXv1ttnV6/5dD78uPBquxPEsej+Wo83tan/o0eY0BFQd2RHMwDST6fBopsZGUQjC42o14WO/FC9LVrLr7I+qv2ymZ6IHzllEKVZloPqMcBqOr2y5cUZzc58hHsAEKCyqndpREdVG8BfPWmC3AOQvZNa98hmlbszeq/lJx3dTRxSkWZT+2gHANnRKvkieqshsNZtLT0yWBVWRKefEZfxVMItWsvPs3d2SkF2HLqiRfgtXbyTH5Z+Oj5vMxnvlqCjo6MruIfer2aoxnTtmLoaU9Vy2kr+X9uvqb0HxSvpqtOTlvyIvgk+qe/AmCK2pj+7I8udMDHoMxn9osOTw5PJlDZu7XpK/UmEj7TrcERPbWfJa+lf5fcQlY8RlsVNEARBTOBRPcv18/E8KuFRUb+2tzWvJxE2Gp12CR//H9r12pz1LBulH+16/Tu7r3vE15q9ru41/nvAW/uTd2aPDsji8Lwqfx0ubSzt/KTCn53wgeie9Oju+eiud5Qf+W6AF8bGnyAI4gDIGQA9gpfQG1fkaFvDkqNHsfrZk2HqDOhXCWttfgYgm93wZjJ0A52FEwRBEMSukB2AaiPqTc9bjZfuMEQdCIIgCIIgDobeA0AQBEEQxAkw7gGwvtEsv+HcnP/HfquYIAiCIIhD8NjeNuXJC0nkxSXWskC2KY8gCIIgiA8MLgEQBEEQxAnxuF0EQRAEQRCfDewAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBDsABAEQRDECcEOAEEQBEGcEOwAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBDsABAEQRDECcEOAEEQBEGcEOwAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBDsABAEQRDECcEOAEEQBEGcEOwAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBDsABAEQRDECcEOAEEQBEGcEOwAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBDsABAEQRDECcEOAEEQBEGcEOwAEARBEMQJwQ4AQRAEQZwQ7AAQBEEQxAnBDgBBEARBnBD/D3jMzuw1N/2YAAAAAElFTkSuQmCC\"\n\n//# sourceURL=webpack:///./src/images/mana16.png?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: m_simpleui, m_simpleui_drawing, m_simpleui_consts, do_gridfont, do_panel_begin, do_panel_end, do_scroll_begin, do_scroll_end, do_scroll_item_begin, do_scroll_item_end, do_gradient_stroke_edit, do_linestar_edit, do_slider2d, do_app_demo, do_background_anim, do_sidepanel, do_app_audio, do_app_audio2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui\", function() { return _simpleui_js__WEBPACK_IMPORTED_MODULE_0__; });\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui_drawing\", function() { return _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__; });\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui_consts\", function() { return _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__; });\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_gridfont\", function() { return _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_3__[\"do_gridfont\"]; });\n\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_panel_begin\", function() { return _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__[\"do_panel_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_panel_end\", function() { return _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__[\"do_panel_end\"]; });\n\n/* harmony import */ var _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_scroll.js */ \"./src/simpleui_ex_scroll.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_begin\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_end\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_end\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_begin\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_item_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_end\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_item_end\"]; });\n\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_gradient_stroke_edit\", function() { return _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_6__[\"do_gradient_stroke_edit\"]; });\n\n/* harmony import */ var _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_linestar.js */ \"./src/simpleui_ex_linestar.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_linestar_edit\", function() { return _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__[\"do_linestar_edit\"]; });\n\n/* harmony import */ var _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./simpleui_ex_slider2d.js */ \"./src/simpleui_ex_slider2d.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_slider2d\", function() { return _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_8__[\"do_slider2d\"]; });\n\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_demo\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_app_demo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_background_anim\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_background_anim\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_sidepanel\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_sidepanel\"]; });\n\n/* harmony import */ var _simpleui_app_audio1_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./simpleui_app_audio1.js */ \"./src/simpleui_app_audio1.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio\", function() { return _simpleui_app_audio1_js__WEBPACK_IMPORTED_MODULE_10__[\"do_app_audio\"]; });\n\n/* harmony import */ var _simpleui_app_audio2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./simpleui_app_audio2.js */ \"./src/simpleui_app_audio2.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio2\", function() { return _simpleui_app_audio2_js__WEBPACK_IMPORTED_MODULE_11__[\"do_app_audio2\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/simpleui.js":
/*!*************************!*\
  !*** ./src/simpleui.js ***!
  \*************************/
/*! exports provided: Color, ColorP, Point, PointP, Rectangle, RectangleP, clamp, rectangle_contains, calc_drawstate, get_state, set_state, layout_push, layout_pop, layout_peek, layout_translated, add_hotspot, layout_increment, layout_increment2, on_mousepressed, on_mousereleased, run, label, rectangle, button, checkbox, progressbar, slider, vslider, checkbutton, handle, reticle, hline, state, config, initialize, make_css_color, driver, context, canvas, debounce, throttle, group_buttons_begin, group_buttons_end, angled_norm_line, is_browser_gecko, get_version */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorP\", function() { return ColorP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Point\", function() { return Point; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointP\", function() { return PointP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rectangle\", function() { return Rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RectangleP\", function() { return RectangleP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp\", function() { return clamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_contains\", function() { return rectangle_contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calc_drawstate\", function() { return calc_drawstate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_state\", function() { return get_state; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"set_state\", function() { return set_state; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_push\", function() { return layout_push; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_pop\", function() { return layout_pop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_peek\", function() { return layout_peek; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_translated\", function() { return layout_translated; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add_hotspot\", function() { return add_hotspot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_increment\", function() { return layout_increment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_increment2\", function() { return layout_increment2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"on_mousepressed\", function() { return on_mousepressed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"on_mousereleased\", function() { return on_mousereleased; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"run\", function() { return run; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"label\", function() { return do_label; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle\", function() { return do_rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button\", function() { return do_button; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox\", function() { return do_checkbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"progressbar\", function() { return do_progressbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"slider\", function() { return do_slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vslider\", function() { return do_vslider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton\", function() { return do_checkbutton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle\", function() { return do_handle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reticle\", function() { return do_reticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hline\", function() { return do_hline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"state\", function() { return uistate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"make_css_color\", function() { return make_css_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"driver\", function() { return driver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"context\", function() { return context; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvas\", function() { return canvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"group_buttons_begin\", function() { return group_buttons_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"group_buttons_end\", function() { return group_buttons_end; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angled_norm_line\", function() { return angled_norm_line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"is_browser_gecko\", function() { return is_browser_gecko; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_version\", function() { return get_version; });\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony import */ var _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_driver_html5_canvas.js */ \"./src/simpleui_driver_html5_canvas.js\");\n/* harmony import */ var _simpleui_driver_pixi_webgl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_driver_pixi_webgl.js */ \"./src/simpleui_driver_pixi_webgl.js\");\n/* harmony import */ var _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_framepool.js */ \"./src/simpleui_framepool.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debounce.js */ \"./src/debounce.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return _debounce_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _throttle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./throttle.js */ \"./src/throttle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return _throttle_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers\n// https://news.ycombinator.com/item?id=15065992 (How to write optimized JavaScript)\n\n/*\r\nhttps://www.quora.com/Why-does-the-ECMA-262-not-define-an-integer-data-type\r\n    var b = someNumber | 0; // Or'ing with 0 forces result to int\r\n    var c = someNumber >>> 0; // Right shift with zero sign bit forces unsigned int\r\n*/\n\n/*\r\nhttps://stackoverflow.com/questions/6602864/stack-and-heap-in-v8-javascript/6604390#6604390\r\n\"In V8 null, undefined, true and false internally are heap allocated objects.\"\r\n*/\n\nvar driver;\nvar uidraw = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_0__;\nvar config = {\n  drawhotspots_enable: false,\n  drawbox_gradient_enable: true,\n  drawtext_enable: true,\n  drawtext_bitmap: true,\n  drawbox_gradient: null\n};\n\nfunction get_version() {\n  return '0.4.4';\n} // returned by driver's initialize during this module's initialize\n\n\nvar context;\nvar canvas;\nvar debug_draw_debuglines = false | 0;\nvar debuglines = [];\nvar component_state = {};\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_a\"];\nvar _middle = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_middle\"];\nvar _right = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_right\"];\nvar _left = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_left\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_6__[\"_horizontal\"]; // someone's jit probably likes this\n//const hotspot_element_hint = Hotspot('_', 0, 0, 1, 1);\n\nvar rect_element_hint = Rectangle(0, 0, 1, 1); //const color_element_hint = Color(0, 0, 0, 255);\n//const layout_element_hint = Layout(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\n/* microbench (no jit deopts in benchmarked code)\r\nA:  4.431ms          [TypedArray([x1,y1]), TypedArray([x2,y2]), ...]\r\nB:  2.655ms          TypedArray(x1, y1, x2, y2, ...)\r\nC:  4.454ms          [[x1,y1], [x2,y2], ...]\r\nD:  5.917ms          [x1, y1, x2, y2, ...]\r\nE: 80.101ms          [{x1,y1}, {x2,y2}, ...] (as .x and .y)*/\n\nvar _hotspot_rects = init_hotspot_rects(2000);\n\nvar _hotspot_ids = init_hotspot_ids(2000); //\n\n\nvar _color_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_5__[\"FramePool\"](ColorDefault, 2000);\n\nvar _point_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_5__[\"FramePool\"](PointDefault, 2000);\n\nvar _rectangle_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_5__[\"FramePool\"](RectangleDefault, 2000);\n\nvar _layout_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_5__[\"FramePool\"](LayoutDefault, 2000);\n\nvar uistate = {\n  hotspot_rects: _hotspot_rects,\n  hotspot_ids: _hotspot_ids,\n  hotspot_count: 0,\n  item_hovered: null,\n  item_held: null,\n  // frame items & 'events'\n  mouse_went_up: false,\n  item_went_down: false,\n  item_went_downup: false,\n  item_went_down_middle: false,\n  item_went_downup_middle: false,\n  item_went_down_right: false,\n  item_went_downup_right: false,\n  collapsed_panel_index: 0,\n  mousepressed_x: null,\n  // i dont want to use driver.GetCursor* in app code since it might give data one frame later than the code calling it expects\n  mousepressed_y: null,\n  // i wrote the above line before remembering mouselocation was already on state, but these are still useful for certain stuff (which i havent written yet) (since you done have to check mouse_went_down (which doesnt exist) + mouse_location)\n  mousereleased_x: null,\n  mousereleased_y: null,\n  mouselocation: Point(0, 0)\n};\n\nvar _g_handle_delta_x = 0 | 0;\n\nvar _g_handle_delta_y = 0 | 0;\n\nfunction initialize(options) {\n  if (options.driver == null || options.driver == 'html5-canvas') {\n    _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__[\"initialize\"](options.canvasId);\n    driver = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__;\n  } else if (options.driver == 'pixi-webgl') {\n    _simpleui_driver_pixi_webgl_js__WEBPACK_IMPORTED_MODULE_4__[\"initialize\"]();\n    driver = _simpleui_driver_pixi_webgl_js__WEBPACK_IMPORTED_MODULE_4__;\n  } else {\n    console.error('invalid options', options);\n  }\n\n  context = driver.GetContext();\n  canvas = driver.GetCanvas();\n  _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_1__[\"initialize\"]();\n  _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_2__[\"initialize\"]();\n}\n\nfunction make_css_color(color) {\n  var use_alpha = config.drawbox_gradient_enable;\n\n  if (use_alpha) {\n    return \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", \").concat(color[_a] / 255, \")\");\n  } else {\n    return \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", 1)\");\n  }\n}\n\nfunction init_hotspot_rects(count) {\n  var a = [rect_element_hint];\n\n  for (var i = 0; i < count; i++) {\n    //a.push(Hotspot('xxxx-yyyy-zzzz', 0, 0, 1, 1));\n    a.push(Rectangle(0, 0, 1, 1));\n  }\n\n  return a;\n}\n\nfunction init_hotspot_ids(count) {\n  var a = ['xxxx-yyyy-zzzz', 'aaaa-bbbb-cccc'];\n\n  for (var i = 0; i < count; i++) {\n    a.push('xxxx-yyyy-zzzz');\n  }\n\n  return a;\n}\n/*function Hotspot(id, x, y, w, h) {\r\n    //console.assert(id != null, 'hotspot with null id');\r\n    return [\r\n        Rectangle(x, y, w, h),\r\n        id\r\n    ];\r\n    // todo: better understand what the string on the end of this returned array does to performance\r\n}*/\n\n/** make rgba color from unsigned bytes [0-255] (Smi's) */\n\n\nfunction Color(r, g, b, a) {\n  return [0 | r, 0 | g, 0 | b, 0 | a];\n}\n\nfunction ColorDefault() {\n  return Color(0, 0, 0, 0);\n}\n\nfunction ColorP(r, g, b, a) {\n  console.assert(a != null);\n  console.assert(a != 1);\n\n  var o = _color_pool.acquire();\n\n  o[_r] = 0 | r;\n  o[_g] = 0 | g;\n  o[_b] = 0 | b;\n  o[_a] = 0 | a;\n  return o;\n} // --- \n\n\nfunction Point(x, y) {\n  //return [0 | x, 0 | y];\n  return {\n    x: 0 | x,\n    y: 0 | y\n  };\n}\n\nfunction PointDefault() {\n  return Point(0, 0);\n}\n\nfunction PointP(x, y) {\n  var o = _point_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  return o;\n} // --- \n\n\nfunction Rectangle(x, y, w, h) {\n  //return [0 | x, 0 | y, 0 | w, 0 | h];\n  return {\n    x: 0 | x,\n    y: 0 | y,\n    w: 0 | w,\n    h: 0 | h\n  };\n}\n\nfunction RectangleDefault() {\n  return Rectangle(0, 0, 0, 0);\n}\n\nfunction RectangleP(x, y, w, h) {\n  var o = _rectangle_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  o.w = 0 | w;\n  o.h = 0 | h;\n  return o;\n} // ---\n\n/** make rgba color from unsigned bytes [0-255] (Smi's) */\n\n\nfunction Layout(x, y, ox, oy, mode, padding, maxw, maxh, totalw, totalh) {\n  return {\n    x: 0 | x,\n    y: 0 | y,\n    ox: 0 | ox,\n    oy: 0 | oy,\n    mode: 0 | mode,\n    padding: 0 | padding,\n    maxw: 0 | maxw,\n    maxh: 0 | maxh,\n    totalw: 0 | totalw,\n    totalh: 0 | totalh\n  };\n}\n\nfunction LayoutDefault() {\n  return Layout(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n}\n\nfunction LayoutP(x, y, ox, oy, mode, padding, maxw, maxh, totalw, totalh) {\n  var o = _layout_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  o.ox = 0 | x;\n  o.oy = 0 | y;\n  o.mode = 0 | mode;\n  o.padding = 0 | padding;\n  o.maxw = 0 | maxw;\n  o.maxh = 0 | maxh;\n  o.totalw = 0 | totalw;\n  o.totalh = 0 | totalh;\n  return o;\n} // ---\n\n\nvar point_test = Point(10, 20);\nconsole.assert(point_test.x == 10);\nconsole.assert(point_test.y == 20);\nvar rect_test = Rectangle(0, 0, 10, 20);\nconsole.assert(rect_test.x == 0);\nconsole.assert(rect_test.y == 0);\nconsole.assert(rect_test.w == 10);\nconsole.assert(rect_test.h == 20);\nvar rect_test2 = Rectangle(10, 20, 100, 200);\nconsole.assert(rect_test2.x == 10);\nconsole.assert(rect_test2.y == 20);\nconsole.assert(rect_test2.w == 100);\nconsole.assert(rect_test2.h == 200);\n\nfunction clamp(value, x1, x2) {\n  return Math.min(Math.max(value, x1), x2);\n}\n\nfunction get_state(uiid) {\n  return component_state[uiid];\n}\n\nfunction set_state(uiid, state) {\n  component_state[uiid] = state;\n  return state;\n} // this way avoids deopt\n\n\nfunction rectangle_contains(x1, y1, w, h, pt_x, pt_y) {\n  var x2 = 0 | x1 + w;\n  var y2 = 0 | y1 + h; //const b = 0 | (0 | (pt_x >= x1) && 0 | (pt_x <= x2) && 0 | (pt_y >= y1) && 0 | (pt_y <= y2));\n  // 0.4.3 second point compares with < not <=\n\n  var b = 0 | (0 | pt_x >= x1 && 0 | pt_x < x2 && 0 | pt_y >= y1 && 0 | pt_y < y2);\n  return b;\n} // todo: nolive: dont return this, put it in component state...\n\n\nfunction calc_drawstate(uiid) {\n  return [0 | uistate.item_hovered == uiid, 0 | uistate.item_held == uiid];\n}\n\nfunction layout_peek() {\n  //const stacksize = uistate.layout_count;\n  var stacksize = _layout_pool.index;\n\n  if (stacksize == 0) {\n    return null;\n  } else {\n    //return _layout_pool[stacksize - 1];\n    return _layout_pool.items[stacksize - 1];\n  }\n}\n/** push new layout to layout stack, inherit last 3 params from previous layout when null */\n\n\nfunction layout_push(mode, padding, x, y) {\n  //print('layout_push', mode, padding, x, y)\n  var prev = layout_peek(); // this layout inheritance only happens when those params to this function are null/undefined\n  // ( i assume jit just makes different versions of this function ) ( for now... )\n\n  if (prev != null) {\n    //print('inheriting from prev');\n    // inherit x and y\n    if (x == null) {\n      //print('inherit layout x', prev.x);\n      x = 0 | prev.x;\n    }\n\n    if (y == null) {\n      //print('inherit layout y', prev.y);\n      y = 0 | prev.y;\n    } // inherit padding\n\n\n    if (padding == null) {\n      padding = 0 | prev.padding;\n    }\n  } //console.assert(uistate.layout_count >= 0);\n  //const layout = _layout_pool[uistate.layout_count++];\n\n\n  var layout = LayoutP(0 | x, 0 | y, 0 | x, 0 | y, 0 | mode, 0 | padding, 0 | 0, 0 | 0, 0 | 0, 0 | 0);\n  return layout; // so you can modify the values\n}\n\nfunction layout_pop() {\n  //console.assert(uistate.layout_count > 0);\n  console.assert(_layout_pool.index > 0); // was: const child = layout_stack.pop();\n\n  var child = layout_peek(); // since we use a pool, pop means decrement layout_count\n  //uistate.layout_count = uistate.layout_count - 1;\n\n  _layout_pool.index = _layout_pool.index - 1; // this peek gives what was 2nd layout in stack since we decremented count\n\n  var parent = layout_peek(); // increment parent layout and update parent total dimensions\n\n  if (parent) {\n    // sub-layout\n    if (child.mode == _none) {// pass     \n    } else {\n      layout_increment2(child.maxw, child.maxh);\n      parent.totalw = 0 | Math.max(parent.totalw, child.x - child.ox);\n      parent.totalh = 0 | Math.max(parent.totalh, child.y - child.oy);\n      /* 0.4.1\r\n      when popping a layout, we need to increment the parent by that layout\r\n      but we don't really do that... (yet)\r\n      so, instead just take some code out of increment for here\r\n      opposite _total doesn't need an update and maxw/maxh is incremented above...\r\n      might actually be more correct to remove increment above and add a new bigger increment down here\r\n      BUT... for now the totalw/totalh updates fixed the problem i was having\r\n      */\n\n      if (parent.mode == _horizontal) {\n        parent.x = 0 | child.ox + child.totalw + parent.padding;\n        parent.totalw = 0 | parent.x - parent.ox; // 0.4.1\n      } else if (parent.mode == _vertical) {\n        parent.y = 0 | child.oy + child.totalh + parent.padding;\n        parent.totalh = 0 | parent.y - parent.oy; // 0.4.1\n      }\n    }\n  }\n\n  return child;\n}\n\nfunction layout_increment2(w, h) {\n  var layout = layout_peek();\n\n  if (layout) {\n    if (layout.mode == _vertical) {\n      var dy = 0 | h + layout.padding;\n      layout.y = 0 | layout.y + dy;\n      layout.totalh = 0 | layout.y - layout.oy;\n      layout.totalw = 0 | Math.max(layout.totalw, w);\n      layout.maxw = 0 | layout.totalw;\n    } else if (layout.mode == _horizontal) {\n      var dx = 0 | w + layout.padding;\n      layout.x = 0 | layout.x + dx;\n      layout.totalw = 0 | layout.x - layout.ox;\n      layout.totalh = 0 | Math.max(layout.totalh, h);\n      layout.maxh = 0 | layout.totalh;\n    } else if (layout.mode == _none) {// pass\n    }\n\n    if (layout.mode != _none) {\n      layout.maxw = 0 | Math.max(layout.maxw, w);\n      layout.maxh = 0 | Math.max(layout.maxh, h);\n    }\n  }\n}\n/** modify layout by input rect */\n\n\nfunction layout_increment(rect) {\n  return layout_increment2(0 | rect.w, 0 | rect.h);\n}\n/** translate layout-relative rect to absolute rect by adding their coordinates */\n\n\nfunction layout_translated(local_rect) {\n  var x = 0 | local_rect.x;\n  var y = 0 | local_rect.y;\n  var w = 0 | local_rect.w;\n  var h = 0 | local_rect.h;\n  var layout = layout_peek();\n\n  if (layout) {\n    x = 0 | x + layout.x;\n    y = 0 | y + layout.y;\n  }\n\n  return RectangleP(0 | x, 0 | y, 0 | w, 0 | h);\n}\n\nfunction on_mousepressed(x, y, button) {\n  uistate.mousepressed_x = x;\n  uistate.mousepressed_y = y;\n\n  if (button == _left) {\n    uistate.item_went_down = uistate.item_hovered;\n    uistate.item_held = uistate.item_hovered;\n    console.log('[item_went_down]', uistate.item_hovered, x, y);\n  } else if (button == _middle) {\n    uistate.item_went_down_middle = uistate.item_hovered;\n    uistate.item_held_middle = uistate.item_hovered;\n    console.log('[item_went_down_middle]', uistate.item_hovered, x, y);\n  } else if (button == _right) {\n    uistate.item_went_down_right = uistate.item_hovered;\n    uistate.item_held_right = uistate.item_hovered;\n    console.log('[item_went_down_right]', uistate.item_hovered, x, y);\n  }\n}\n\nfunction on_mousereleased(x, y, button) {\n  uistate.mousereleased_x = x;\n  uistate.mousereleased_y = y;\n\n  if (button == _left) {\n    if (uistate.item_held == uistate.item_hovered) {\n      uistate.item_went_downup = uistate.item_hovered;\n      console.log('[item went downup]', uistate.item_hovered, x, y);\n    }\n\n    uistate.mouse_went_up = 0 | true; // only left click does this\n\n    uistate.item_held = null;\n  } else if (button == _middle) {\n    if (uistate.item_held_middle == uistate.item_hovered) {\n      uistate.item_went_downup_middle = uistate.item_hovered;\n      console.log('[item went downup middle]', uistate.item_hovered, x, y);\n    }\n\n    uistate.item_held_middle = null;\n  } else if (button == _right) {\n    if (uistate.item_held_right == uistate.item_hovered) {\n      uistate.item_went_downup_right = uistate.item_hovered;\n      console.log('[item went downup right]', uistate.item_hovered, x, y);\n    }\n\n    uistate.item_held_right = null;\n  }\n}\n\nfunction run(fn) {\n  console.assert(_layout_pool.index === 0); // mouselocation set was here in 0.4.3, moving it after fn() fixes latency issues (trix grid edge drag issue)\n\n  fn();\n  console.assert(_layout_pool.index === 0); // updates\n\n  uistate.mouselocation.x = 0 | driver.GetCursorX();\n  uistate.mouselocation.y = 0 | driver.GetCursorY(); //{ item_hovered logic\n\n  uistate.item_hovered = null; // reverse iterate for hotspot z-index\n\n  var hotspot_rect;\n  var hotspot_id;\n  var contains;\n\n  for (var i = uistate.hotspot_count - 1; i >= 0; i--) {\n    hotspot_rect = uistate.hotspot_rects[i];\n    hotspot_id = uistate.hotspot_ids[i]; // don't think i need/want this anymore since i changed to item_held/etc logic\n\n    /*if (!uistate.leftpress && uistate.leftheld) {\r\n        uistate.item_hovered = uistate.focusitem;\r\n        //console.log('[leftheld] uistate.item_hovered = uistate.focusitem: ', uistate.focusitem);\r\n        break; //don't make items hot when mouse down unless they are also the focus item\r\n    }*/\n    //contains = rectangle_contains(hotspot[_rect], uistate.mouselocation);\n\n    contains = rectangle_contains(0 | hotspot_rect.x, 0 | hotspot_rect.y, 0 | hotspot_rect.w, 0 | hotspot_rect.h, 0 | uistate.mouselocation.x, 0 | uistate.mouselocation.y);\n\n    if (contains) {\n      uistate.item_hovered = hotspot_id;\n      break;\n    }\n  } //}\n\n\n  if (uistate.item_held) {\n    document.body.style.cursor = \"grabbing\";\n  } else if (uistate.item_hovered) {\n    document.body.style.cursor = \"pointer\";\n  } else {\n    document.body.style.cursor = \"\";\n  }\n\n  if (debug_draw_debuglines) {\n    var mousex = uistate.mouselocation && uistate.mouselocation.x;\n    var mousey = uistate.mouselocation && uistate.mouselocation.y;\n    debuglines.push('item_hovered: ' + uistate.item_hovered || false);\n    debuglines.push('item_held: ' + uistate.item_held || false);\n    debuglines.push('mouse x: ' + mousex);\n    debuglines.push('mouse y: ' + mousey); //debuglines.push('hotspot pool: ' + uistate.hotspot_count + '/' + uistate.hotspot_pool.length);\n\n    debuglines.push('layout pool: ' + _layout_pool.index + '/' + _layout_pool.max);\n\n    for (var _i = 0; _i < debuglines.length; _i++) {\n      var line = debuglines[_i];\n      var yinc = 0 | _i * 20;\n      uidraw.text(line, 120, 30 + yinc, ColorP(255, 0, 255, 255));\n    }\n\n    debuglines = [];\n  }\n\n  if (config.drawhotspots_enable) {\n    for (var _i2 = 0; _i2 < uistate.hotspot_count; _i2++) {\n      var _hotspot_rect = uistate.hotspot_rects[_i2];\n      uidraw.rectangle(_hotspot_rect, ColorP(255, 0, 0, 64));\n    }\n  }\n\n  console.assert(_layout_pool.index === 0); // per-frame resets\n  // ~pools~\n\n  _color_pool.release_all();\n\n  _point_pool.release_all();\n\n  _rectangle_pool.release_all();\n\n  _layout_pool.release_all();\n\n  uistate.hotspot_count = 0 | 0; // ~events~\n\n  uistate.mouse_went_up = 0 | false;\n  uistate.item_went_down = 0 | false;\n  uistate.item_went_downup = 0 | false;\n  uistate.item_went_down_middle = 0 | false;\n  uistate.item_went_downup_middle = 0 | false;\n  uistate.item_went_down_right = 0 | false;\n  uistate.item_went_downup_right = 0 | false; //\n\n  uistate.mousepressed_x = null;\n  uistate.mousepressed_y = null;\n  uistate.mousereleased_x = null;\n  uistate.mousereleased_y = null; // this probably won't stay here\n\n  uistate.collapsed_panel_index = 0 | 0;\n}\n/** add rect as hotspot */\n\n\nfunction add_hotspot(uiid, rect) {\n  console.assert(uiid);\n  console.assert(rect);\n  var i = uistate.hotspot_count;\n  var hotspot_rect = _hotspot_rects[i];\n  hotspot_rect.x = 0 | rect.x;\n  hotspot_rect.y = 0 | rect.y;\n  hotspot_rect.w = 0 | rect.w;\n  hotspot_rect.h = 0 | rect.h;\n  _hotspot_ids[i] = uiid;\n  uistate.hotspot_count = 0 | uistate.hotspot_count + 1;\n}\n\nfunction do_label(text, local_rect) {\n  var rect = layout_translated(local_rect);\n  var valign = uidraw.vertical_center_text(rect);\n  var color = uidraw.color_white; // default text color, not exposed yet\n\n  uidraw.label(text, valign, color);\n  layout_increment(rect);\n}\n\nfunction do_rectangle(local_rect, color) {\n  var rect = layout_translated(local_rect);\n  uidraw.rectangle(rect, color);\n  layout_increment(rect);\n} // will write a 2nd line of functions if i need text offset\n\n\nfunction do_button(uiid, text, local_rect) {\n  var rect = layout_translated(local_rect); // the technique shown on the next lined doesn't account for buttons in other layers/windows which have the same params\n  //uiid = `button(${text},${rect.x},${rect.y},${rect.w},${rect.h})`;\n\n  add_hotspot(uiid, rect);\n\n  if (uiid == uistate.item_hovered) {\n    uidraw.button_hovered(text, rect);\n  } else if (uiid == uistate.item_held) {\n    uidraw.button_held(text, rect);\n  } else {\n    uidraw.button(text, rect);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      clicked: 0 | false\n    });\n  }\n\n  state.clicked = 0 | uistate.item_went_downup == uiid;\n  return state;\n}\n\nfunction do_checkbox(uiid, local_rect, value) {\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var changed = 0 | false;\n\n  if (uistate.item_went_downup == uiid) {\n    value = !value;\n    changed = 0 | true;\n  }\n\n  if (uiid == uistate.item_hovered) {\n    uidraw.checkbox_hovered(rect, value);\n  } else if (uiid == uistate.item_held) {\n    uidraw.checkbox_held(rect, value);\n  } else {\n    uidraw.checkbox(rect, value);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state;\n}\n\nfunction do_progressbar(uiid, local_rect, max, value) {\n  console.assert(max != null, 'max cannot be null');\n  var changed = 0 | false;\n  var clamped_value = 0 | clamp(value, 0, max);\n\n  if (clamped_value != value) {\n    changed = 0 | true;\n    value = 0 | clamped_value;\n  }\n\n  var rect = layout_translated(local_rect);\n  uidraw.progressbar(rect, max, value);\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n} // simpleui api does not support fractional slider anymore\n// fractional values should be made by the caller, input values should be int\n\n\nfunction do_slider(uiid, local_rect, min, max, value, label) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(label != null, 'label cannot be null');\n  console.assert(label != undefined, 'label cannot be undefined');\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var x = 0 | rect.x;\n  var w = 0 | rect.w;\n  var range = 0 | max - min;\n  var changed = 0 | false;\n  var is_held = 0 | uistate.item_held == uiid;\n\n  if (is_held) {\n    var mloc = 0 | uistate.mouselocation.x - x;\n    var mousepos = 0 | clamp(mloc, 0, w); // range / w == units per pixel\n\n    /*\r\n    let v = mousepos * (range / w) + min;\r\n    if (!fractional) {\r\n        v = round(v, 0)|0;\r\n    }*/\n\n    var v = 0 | mousepos * (range / w) + min;\n\n    if (v != value) {\n      changed = 0 | true;\n      value = v;\n    }\n  }\n\n  var draw_state = calc_drawstate(uiid);\n  uidraw.slider(uiid, rect, draw_state, min, max, value, label); //uidraw.slider2(uiid, rect.x, rect.y, rect.w, rect.h, state[_Hovered], state[_Held], min, max, value, label);\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n}\n\nfunction do_vslider(uiid, local_rect, min, max, value, label) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  console.assert(min != null, 'min cannot be null');\n  console.assert(max != null, 'max cannot be null');\n  console.assert(value != null, 'value cannot be null');\n  console.assert(label != null, 'value cannot be null');\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var y = 0 | rect.y;\n  var h = 0 | rect.h;\n  var range = 0 | max - min;\n  var changed = 0 | false;\n  var is_held = 0 | uistate.item_held == uiid;\n\n  if (is_held) {\n    var mloc = 0 | uistate.mouselocation.y - y;\n    var mousepos = 0 | clamp(mloc, 0, h); // range / w == units per pixel\n\n    /*\r\n    let v = mousepos * (range / h) + min;\r\n    if (!fractional) {\r\n        v = round(v, 0)|0;\r\n    }*/\n\n    var v = 0 | mousepos * (range / h) + min;\n\n    if (v != value) {\n      changed = 0 | true;\n      value = 0 | v;\n    }\n  }\n\n  var draw_state = calc_drawstate(uiid);\n  uidraw.vslider(uiid, rect, draw_state, min, max, value, label);\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n} // value is expected to be truthy\n\n\nfunction do_checkbutton(uiid, text, local_rect, value, text_offset_x, text_offset_y) {\n  console.assert(uiid != '', 'id cannot be blank');\n  var changed = 0 | false;\n  var clicked = 0 | uistate.item_went_downup == uiid;\n\n  if (clicked) {\n    value = !value;\n    changed = 0 | true;\n  }\n\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var draw_state = calc_drawstate(uiid);\n  var group = get_button_group();\n\n  if (group) {\n    group.commands.push(uidraw.checkbutton, 6, text, rect, draw_state, value, text_offset_x, text_offset_y);\n  } else {\n    uidraw.checkbutton(text, rect, draw_state, value, text_offset_x, text_offset_y);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n} // you can drag it around, anywhere.\n\n\nfunction do_handle(uiid, local_rect, x1, y1) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  var changed = 0 | false;\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n\n  if (uistate.item_went_downup == uiid) {\n    changed = 0 | true;\n  }\n\n  if (uistate.item_went_down == uiid) {\n    changed = 0 | true;\n    _g_handle_delta_x = 0 | uistate.mouselocation.x - x1;\n    _g_handle_delta_y = 0 | uistate.mouselocation.y - y1;\n  }\n\n  if (uistate.item_held == uiid) {\n    //let mousepos = uistate.mouselocation.x - x\n    //mousepos = clamp(mousepos, 0, i)\n    //let v = round(mousepos * max / i, 0)\n    //if (v != value) then\n    changed = 0 | true;\n    x1 = 0 | uistate.mouselocation.x - _g_handle_delta_x;\n    y1 = 0 | uistate.mouselocation.y - _g_handle_delta_y; //end\n  }\n\n  if (uiid == uistate.item_held) {\n    uidraw.handle_held(rect);\n  } else if (uiid == uistate.item_hovered) {\n    uidraw.handle_hovered(rect);\n  } else {\n    uidraw.handle(rect);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | x1;\n  state.y1 = 0 | y1;\n  return state; //return [0 | changed, 0 | x1, 0 | y1];\n} // copied from do_handle\n\n\nfunction do_reticle(uiid, local_rect, x1, y1) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  var changed = 0 | false;\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n\n  if (uistate.item_went_downup == uiid) {\n    changed = 0 | true;\n  }\n\n  if (uistate.item_went_down == uiid) {\n    changed = 0 | true;\n    _g_handle_delta_x = 0 | uistate.mouselocation.x - x1;\n    _g_handle_delta_y = 0 | uistate.mouselocation.y - y1;\n  }\n\n  if (uistate.item_held == uiid) {\n    //let mousepos = uistate.mouselocation.x - x\n    //mousepos = clamp(mousepos, 0, i)\n    //let v = round(mousepos * max / i, 0)\n    //if (v != value) then\n    changed = 0 | true;\n    x1 = 0 | uistate.mouselocation.x - _g_handle_delta_x;\n    y1 = 0 | uistate.mouselocation.y - _g_handle_delta_y; //end\n  }\n\n  var draw_state = calc_drawstate(uiid);\n  uidraw.reticle(uiid, rect, draw_state);\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | x1;\n  state.y1 = 0 | y1;\n  return state; //return [0 | changed, 0 | x1, 0 | y1];\n}\n\nfunction do_hline(w, h, color) {\n  var rect = layout_translated(RectangleP(0, 0, w, h));\n  uidraw.push_linewidth(h);\n  uidraw.push_strokestyle(make_css_color(color));\n  var line_y = 0 | rect.y + h / 2;\n  uidraw.line(rect.x, line_y, rect.x + rect.w, line_y);\n  layout_increment2(w, h);\n  uidraw.pop_strokestyle();\n  uidraw.pop_linewidth();\n}\n\nvar group_buttons_stack = [];\n\nfunction get_button_group() {\n  var len = group_buttons_stack.length;\n\n  if (len) {\n    return group_buttons_stack[len - 1];\n  }\n}\n\nfunction group_buttons_begin() {\n  // defer draws.... so we can render as group.\n  var o = {\n    commands: []\n  };\n  group_buttons_stack.push(o);\n}\n\nfunction execute_commands(commands) {\n  // first button. push button draw modifiers then pop\n  // last button. same\n  for (var i = 0; i < commands.length;) {\n    // note: no inc\n    var is_first_item = 0 | i == 0;\n    var fn = commands[i];\n    i++;\n    var arg_count = commands[i];\n    i++;\n    var args = [];\n\n    for (var j = 0; j < arg_count; j++) {\n      var arg = commands[i];\n      i++;\n      args.push(arg);\n    }\n\n    var is_last_item = 0 | i == commands.length;\n    var peek = layout_peek();\n    var head_renderer = void 0;\n    var tail_renderer = void 0;\n\n    if (peek.mode == _vertical) {\n      head_renderer = uidraw.checkbutton_soft_top;\n      tail_renderer = uidraw.checkbutton_soft_bottom;\n    } else if (peek.mode == _horizontal) {\n      head_renderer = uidraw.checkbutton_soft_left;\n      tail_renderer = uidraw.checkbutton_soft_right;\n    } else {\n      head_renderer = fn;\n      tail_renderer = fn;\n    }\n\n    if (is_first_item) {\n      head_renderer.apply(null, args);\n    } else if (is_last_item) {\n      tail_renderer.apply(null, args);\n    } else {\n      fn.apply(null, args);\n    }\n  }\n}\n\nfunction group_buttons_end() {\n  var o = group_buttons_stack.pop();\n  execute_commands(o.commands);\n  o.commands.length = 0; // i guess this assumes super-smart browser array implementation    \n\n  console.assert(o);\n}\n\nfunction angled_norm_line(rad, scale) {\n  var x = Math.sin(rad) * scale;\n  var y = Math.cos(rad) * scale;\n  return Point(x, y);\n} // https://stackoverflow.com/questions/32617798/how-to-detect-a-browsers-layout-engine-in-javascript\n\n\nfunction is_browser_gecko() {\n  if (navigator.userAgent.search(/trident/i) > 0) {//Internet Explorer\n  } else if (navigator.userAgent.search(/webkit/i) > 0) {//Chrome, Safari\n  } else if (navigator.userAgent.search(/gecko/i) > 0) {\n    return true; // must be last condition, since 'gecko' may be included in above engine userAgents for weird reasons\n  }\n\n  return false;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui.js?");

/***/ }),

/***/ "./src/simpleui_app_audio1.js":
/*!************************************!*\
  !*** ./src/simpleui_app_audio1.js ***!
  \************************************/
/*! exports provided: do_app_audio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio\", function() { return do_app_audio; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n// todo:\n// text uppercase measurement is using lowercase?\n// text color\n// garbage collection trim\n// song support, tracks, copy patterns, associate instruments\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\nvar _tone_panel = {\n  context: null,\n  tone_point: Point(200, 200),\n  freq_range: 1200,\n  osc1: null,\n  osc1_started: 0 | false,\n  osc1_type_index: 0,\n  osc_types: ['sine', 'square', 'sawtooth', 'triangle'],\n  volume: 0 | 5,\n  // [0-100]\n  gain1: null,\n  analyser1: null,\n  analyser1_times: null,\n  analyser1_freqs: null,\n  throttle: 50,\n  conv1: null,\n  source1: null,\n  sound_playing: 0 | false,\n  play_file_requested: 0 | false,\n  play_file_request_time: null,\n  play_pending: 0 | false,\n  play_buffer: null\n};\n\nfunction load_and_play(url) {\n  if (_tone_panel.play_file_requested) {//return;            \n  } else {\n    _tone_panel.play_file_requested = 0 | true;\n    _tone_panel.play_file_request_time = Date.now();\n    window.fetch(url).then(function (response) {\n      return response.arrayBuffer();\n    }).then(function (array_buffer) {\n      return _tone_panel.context.decodeAudioData(array_buffer);\n    }).then(function (audio_buffer) {\n      _tone_panel.play_pending = 0 | true;\n      _tone_panel.play_buffer = audio_buffer;\n    }); //return;\n  }\n}\n\nfunction play() {\n  if (!_tone_panel.play_buffer) {\n    load_and_play('Yodel_Sound_Effect.mp3');\n  } else {\n    console.assert(_tone_panel.play_buffer); // a source object can only be .start()'ed once\n    // so you have to make one every time you want to play a sound\n\n    _tone_panel.source1 = _tone_panel.context.createBufferSource();\n    _tone_panel.source1.buffer = _tone_panel.play_buffer;\n    _tone_panel.play_pending = 0 | false;\n    _tone_panel.gain1.gain.value = get_tone_volume();\n\n    _tone_panel.source1.connect(_tone_panel.analyser1);\n\n    _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n    _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n    _tone_panel.source1.start(); // cannot call this more than once per source object, yadoink\n\n\n    _tone_panel.sound_playing = 0 | true;\n  }\n}\n\nfunction get_tone_volume() {\n  var volume2 = _tone_panel.tone_point.y / _tone_panel.freq_range;\n  var final_volume = _tone_panel.volume / 100 * volume2;\n  return final_volume;\n}\n\nfunction start_tone() {\n  //console.log('[start_tone]');\n  var frequency = _tone_panel.tone_point.x;\n  var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index]; // i guess i need this for now?\n\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop();\n\n    _tone_panel.osc1_started = 0 | false;\n  }\n\n  _tone_panel.osc1 = _tone_panel.context.createOscillator();\n  _tone_panel.osc1.type = osc1_type;\n  _tone_panel.osc1.frequency.value = frequency;\n  _tone_panel.gain1.gain.value = get_tone_volume(); // hmph, connecting things correctly matters xd\n\n  _tone_panel.osc1.connect(_tone_panel.analyser1);\n\n  _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n  _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n  _tone_panel.osc1.start(0);\n\n  _tone_panel.osc1_started = 0 | true;\n}\n\nfunction stop_tone() {\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop(0);\n  }\n\n  _tone_panel.osc1_started = 0 | false;\n}\n\nvar start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\nfunction reset_tone() {\n  start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\n  if (_tone_panel.osc1_started) {\n    stop_tone();\n    start_tone_limited();\n  }\n}\n\nfunction sample_tone_analyser() {\n  _tone_panel.analyser1.getByteFrequencyData(_tone_panel.analyser1_freqs);\n\n  _tone_panel.analyser1.getByteTimeDomainData(_tone_panel.analyser1_times);\n}\n\nfunction sample_trix_analyser() {\n  _trix_panel.analyser.getByteFrequencyData(_trix_panel.analyser_freqs);\n\n  _trix_panel.analyser.getByteTimeDomainData(_trix_panel.analyser_times);\n}\n\nfunction do_analyser_graph(uiid, local_rect, data1, data2, color1, color2) {\n  color1 = color1 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  color2 = color2 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var x = rect.x;\n  var y = rect.y;\n  var w = rect.w;\n  var h = rect.h;\n\n  if (data1.length == 0 || data2.length == 0) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n    return;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color1));\n  var irange = data1.length;\n  var vrange = 255;\n\n  for (var i = 0; i < irange; i++) {\n    var v = 0 | data1[i];\n    var xpos = 0 | i / irange * w;\n    var ypos = 0 | v / vrange * h;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](0 | x + xpos, 0 | y + h + 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](0 | x + xpos, 0 | y + h - ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color2));\n  irange = data2.length;\n  vrange = 255; // later: just get data as floats and can remove this\n\n  var ypos_start = data2[0] / vrange * h;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x, y + ypos_start);\n\n  for (var _i = 1; _i < irange; _i++) {\n    var _v = 0 | data2[_i];\n\n    var _xpos = 0 | _i / irange * w;\n\n    var _ypos = 0 | _v / vrange * h;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x + _xpos + 2, y + _ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n}\n\nfunction do_tone_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var _changed = 0 | false;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 20), 0, 100, _tone_panel.volume, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.volume = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-throttle', Rectangle(0, 0, 200, 20), 0, 1000, _tone_panel.throttle, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('throttle', Rectangle(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.throttle = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < _tone_panel.osc_types.length; i++) {\n        var iter_type = _tone_panel.osc_types[i];\n        var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index];\n        var is_checked = iter_type == osc1_type;\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-osc_type_button-' + iter_type, iter_type, Rectangle(0, 0, 80, 24), is_checked);\n\n        if (_.changed && _.value) {\n          _tone_panel.osc1_type_index = i; // dont relay change for osc1 type change unless currently playing\n\n          _changed = 0 | _tone_panel.osc1_started;\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _ = do_slider2d(uiid + '-slider2d', Rectangle(0, 0, 400, 400), 0, _tone_panel.freq_range, _tone_panel.tone_point);\n\n    if (_.changed) {\n      // these two lines are bad, slider2d should return what i need instead\n      // _[_]\n      var bg_uiid = uiid + '-slider2d-bg';\n      var item_went_down = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid;\n\n      if (item_went_down || _tone_panel.tone_point.x != _.x1 || _tone_panel.tone_point.y != _.y1) {\n        _tone_panel.tone_point.x = _.x1;\n        _tone_panel.tone_point.y = _.y1;\n        _changed = 0 | true;\n      }\n    }\n\n    if (_changed) {\n      start_tone_limited();\n    }\n\n    if (_tone_panel.analyser1 && _tone_panel.osc1_started || _tone_panel.sound_playing) {\n      sample_tone_analyser();\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, null, peek.x, peek.y - peek.padding * 2 - 100);\n      do_analyser_graph(uiid - '-graph', Rectangle(2, 0, 400 - 4, 100), _tone_panel.analyser1_freqs, _tone_panel.analyser1_times, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // show this when (requested) -and- (no buffer -or- buffer was fetched in less than 1 second)\n\n\n    if (_tone_panel.play_file_requested && (!_tone_panel.play_buffer || Date.now() - _tone_panel.play_file_request_time < 1000)) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('audio file requested...', Rectangle(0, 0, 200, 24));\n    } else {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-yodel', 'play yodel mp3', Rectangle(0, 0, 200, 24));\n\n      if (_tone_panel.play_pending || _.clicked) {\n        play(_tone_panel.source1);\n      }\n    }\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_up) {\n      start_tone_limited.cancel();\n      stop_tone();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_message_panel(uiid, first_x, first_y, first_visible, first_expanded, message) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](message, Rectangle(0, 0, 200, 20));\n  }\n\n  do_panel_end(uiid);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nvar freq = [1.6818, // a5   1\n1.5874, // gs5  2\n1.49831, // g5   3\n1.4142, // fs5  4\n1.3348, // f5   5\n1.2599, // e5   6\n1.1892, // ds5  7\n1.1225, // d5   8 \n1.0595, // cs5  9\n1.0, // c5   10 \n0.9439, // b4   11\n0.8909, // as4  12\n0.8409, // a4   13\n0.79370, // gs4  14\n0.7492, // g4   15\n0.7071, // fs4  16\n0.6674, // f4   17\n0.62996, // e4   18\n0.5946, // ds4  19\n0.5611, // d4   20\n0.5297, // cs4  21\n0.5, // c4   22\n0.47194, // b3   23\n0.44545, // as3  24\n0.42045, // a3   25\n0.39685, // gs3  26\n0.37458, // g3   27\n0.35355, // fs3  28\n0.3337, // f3   29\n0.31498, // e3   30\n0.2973, // ds3  31\n0.2806, // d3   32\n0.26487, // cs3  33\n0.25, // c3   34\n0.23597, // b2   35\n0.2272, // as2  36\n0.21022, // a2   37\n0.19843, // gs2  38\n0.18729, // g2   39\n0.17678, // fs2  40\n0.16685, // f2   41\n0.15749, // e2   42\n0.14865, // ds2  43\n0.1403, // d2   44\n0.13243, // cs2  45\n0.125 // c2   46\n];\nvar scales = []; // D pentatonic major\n// scale[1] = {\"a5\",\"fs5\",\"e5\",\"d5\",\"b4\",\"a4\",\"fs4\",\"e4\",\"d4\",\"b3\",\"a3\",\"fs3\",\"e3\",\"d3\",\"b2\",\"a2\"}\n\nscales[0] = [1, 4, 6, 8, 11, 13, 16, 18, 20, 23, 25, 28, 30, 32, 35, 37]; // D pentatonic minor\n// scale[2] = {\"d5\",\"c5\",\"a4\",\"g4\",\"f4\",\"d4\",\"c4\",\"a3\",\"g3\",\"f3\",\"d3\",\"c3\",\"a2\",\"g2\",\"f2\",\"d2\"}\n\nscales[1] = [8, 10, 13, 15, 17, 20, 22, 25, 27, 29, 32, 34, 37, 39, 41, 44]; // C major\n// scale[3] = {8\"c5\",\"b4\",\"a4\",\"g4\",\"f4\",\"e4\",\"d4\",\"c4\",\"b3\",\"a3\",\"g3\",\"f3\",\"e3\",\"d3\",\"c3\",\"b2\"}\n\nscales[2] = [10, 11, 13, 15, 17, 18, 20, 22, 23, 25, 27, 29, 30, 32, 34, 35]; // D blues minor\n// scale[4] = {\"d5\",\"c5\",\"a4\",\"g4\",\"e4\",\"ds4\",\"d4\",\"c4\",\"a3\",\"g3\",\"e3\",\"ds3\",\"d3\",\"c3\",\"a2\",\"g2\"}\n\nscales[3] = [8, 10, 13, 15, 18, 19, 20, 22, 25, 27, 30, 31, 32, 34, 37, 39]; // chromatic\n// scale[5] = {\"gs4\",\"g4\",\"fs4\",\"f4\",\"e4\",\"ds4\",\"d4\",\"cs4\",\"c4\",\"b3\",\"as3\",\"a3\",\"gs3\",\"g3\",\"fs3\",\"f3\"}\n\nscales[4] = [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]; // this pattern is called \"can you guys soul slide\"\n\nvar _trix_panel = {\n  initialized: 0 | false,\n  volume: 0 | 15,\n  // [0-100]\n  context: null,\n  compressor: null,\n  gain: null,\n  analyser: null,\n  analyser_times: null,\n  analyser_freqs: null,\n  play_node: null,\n  // this will point to wherever the end of our audio graph begins (the node samples will play on)\n  play: 0 | false,\n  //\n  biquad_types: ['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass'],\n  shaper_oversample_types: ['none', '2x', '4x'],\n  // empty (use presets instead)\n  piano_grid: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],\n  bass_grid: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],\n  misc_grid: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n  //\n  instrument_names: ['piano', 'bass'],\n  selected_instrument_index: 0,\n  piano: {\n    dest: null,\n    volume: 0 | 50,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | true,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | true,\n    shaper: null,\n    shaper_oversample_index: 2,\n    shaper_enabled: 0 | false,\n    panner: null\n  },\n  //\n  bass: {\n    dest: null,\n    volume: 0 | 80,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | false,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | false,\n    shaper: null,\n    shaper_oversample_index: 0,\n    shaper_enabled: 0 | false,\n    panner: null\n  },\n  //    \n  misc_dest: null,\n  misc_volume: 0 | 80,\n  // [0-100]\n  misc_gain: null,\n  //\n  time: 0,\n  wait: 0,\n  play_x: 0,\n  schedule_x: 0,\n  play_x_long: 0 | 0,\n  tempo: [],\n  tempo_index: 8,\n  scale_index: 0,\n  grid_edit_tools: ['+', '-'],\n  grid_edit_tool: 0,\n  schedule_notes_ahead: 3 // how many notes to schedule ahead-of-time while playing (to ensure precise note timing)\n\n};\nvar MIN_TEMPO = 0.5;\nvar MAX_TEMPO = 0.04;\n\nfor (var i = 0; i < 16; i++) {\n  _trix_panel.tempo[i] = MIN_TEMPO - i * ((MIN_TEMPO - MAX_TEMPO) / 16);\n}\n\n_trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n/*\r\n> dbfs_to_gain(100)\r\n100000\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(-50)\r\n0.0031622776601683794\r\n> dbfs_to_gain(-100)\r\n0.00001\r\n*/\n\nfunction dbfs_to_gain(dbfs) {\n  return Math.pow(10, dbfs / 20);\n}\n/*\r\n> volume_to_gain(0)\r\n0.00001\r\n> volume_to_gain(100)\r\n1\r\n*/\n// todo: nolive: asdfasdfasdf... hjalp\n\n\nfunction volume_to_gain(volume) {\n  if (volume == 0) {\n    // i guess\n    return 0;\n  } // gain of 1 is ridiculously loud, idk\n\n\n  var gain = (Math.exp(volume / 100) - 1) / (Math.E - 1);\n  gain = gain / 4;\n  return gain; //const actual = dbfs_to_gain(-(100-volume));\n  //return actual;\n}\n\nfunction volume_to_gain_OLD(volume) {\n  var volume_float = volume / 100; // > (Math.exp(0.01)-1)/(Math.E-1)\n  // 0.005848963143130564\n\n  var gain = (Math.exp(volume_float) - 1) / (Math.E - 1);\n  return gain;\n} // col indicator\n\n\nfunction draw_col_indicator(rect, dilate1, dilate2, color1, color2) {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate1), color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate2), color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n}\n\nvar _trix_grid_color1 = Color(36 + 18 + 9, 36 + 18 + 9, 36 + 18 + 9, 255);\n\nvar _trix_grid_color2 = Color(36 + 9 + 9, 36 + 9 + 9, 36 + 9 + 9, 255);\n\nvar _trix_grid_line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_trix_grid(w, h, dim, values) {\n  // forwardport\n  var current_column = _trix_panel.play_x;\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h)); //uidraw.rectangle(rect, uidraw.normal_back);\n  // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color);\n\n  for (var _x = 0; _x < w; _x++) {\n    for (var _y = 0; _y < h; _y++) {\n      var value = values[_x][_y];\n\n      if (value != 0 && value != -1) {\n        var color_on = void 0;\n\n        if (_x == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x * dim + 1, rect.y + _y * dim + 1, dim - 2, dim - 2), color_on);\n      }\n    }\n  } // song_schedule_x indicator (debug)\n  //const column_rect2 = Rectangle(rect.x + (_trix_panel.song_schedule_x % 16) * dim, rect.y, dim, dim * h);\n  //draw_col_indicator(column_rect2, 3, 4, Color(0, 0, 0, 255), Color(255, 0, 0, 127));\n  // song_x indicator\n\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n\nfunction do_trix_grid(uiid, w, h, dim, values) {\n  update_trix_grid(uiid, w, h, dim, values);\n  draw_trix_grid(w, h, dim, values);\n}\n\nfunction update_trix_grid(uiid, w, h, dim, values) {\n  var on_value = 1;\n  var off_value = 0;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  var _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_clicked_right = _[2];\n  var cell_dragged_right = _[3];\n  var x = _[4];\n  var y = _[5];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | on_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n\nfunction logic_for_grid(state, uiid, ox, oy, w, h, dim) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, Rectangle(ox, oy, dim * w, dim * h));\n  var cell_clicked = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid;\n  var cell_clicked_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down_right == uiid; // welp, this is same as GetCursor*\n\n  var x = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - ox) / dim;\n  var y = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - oy) / dim;\n  /*if (cell_clicked || cell_clicked_right) {\r\n      console.assert(x<16);\r\n      console.assert(y<16);\r\n      console.log('mousepressed_x', ui.state.mousepressed_x);\r\n      console.log('mousepressed_y', ui.state.mousepressed_y);\r\n      console.log('mousereleased_x', ui.state.mousereleased_x);\r\n      console.log('mousereleased_y', ui.state.mousereleased_y);\r\n      console.log('driver vs system deltas', (ui.driver.GetCursorX() - ui.state.mousepressed_x), (ui.driver.GetCursorY() - ui.state.mousepressed_y));\r\n  }*/\n\n  var cell_dragged = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  var cell_dragged_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held_right == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  return [cell_clicked, cell_dragged, cell_clicked_right, cell_dragged_right, x, y];\n}\n\nfunction do_preset_buttons() {\n  var _;\n\n  var uiid = 'preset-buttons-';\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-a', 'a', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_a();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-b', 'b', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_b();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-c', 'c', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_c();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-d', 'd', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_d();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-e', 'e', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_e();\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('presets', Rectangle(4, 0, 100, 24));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_trix_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var dim = 20;\n\n    if (false) {}\n\n    do_preset_buttons();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // play/pause/volume row      \n\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n        var buttons = ['pause', 'play'];\n\n        for (var i = 0; i < buttons.length; i++) {\n          var is_current = i == 1 && _trix_panel.play || i == 0 && !_trix_panel.play;\n          var button_text = buttons[i];\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-playpause-buttons-' + i, button_text, Rectangle(0, 0, 100, 24), is_current, 4, 2);\n\n          if (_.changed && _.value) {\n            if (i == 0) {\n              // reset playahead\n              _trix_panel.schedule_x = _trix_panel.play_x;\n              _trix_panel.play_x_long = _trix_panel.play_x;\n              _trix_panel.play = 0 | false;\n            } else {\n              _trix_panel.play = 0 | true;\n            }\n          }\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](140, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        // master volume\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 24), 0, 100, _trix_panel.volume, '');\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(4, 0, 100, 20));\n\n        if (_.changed) {\n          _trix_panel.volume = _.value;\n          _trix_panel.gain.gain.value = volume_to_gain(_.value);\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // play/pause/volume row      \n\n    /*ui.layout_push(_horizontal, -1);\r\n    ui.group_buttons_begin();\r\n    for (var i = 0; i < _trix_panel.grid_edit_tools.length; i++) {\r\n        const name = _trix_panel.grid_edit_tools[i];\r\n        const is_current = name == _trix_panel.grid_edit_tools[_trix_panel.grid_edit_tool];\r\n        _ = ui.checkbutton(uiid + '-grid_edit_tool-' + i + '-checkbutton', ' ' + name, Rectangle(0, 0, 30, 30), is_current);\r\n        if (_.changed && _.value) {\r\n            _trix_panel.grid_edit_tool = i;\r\n        }\r\n    }\r\n    ui.group_buttons_end();\r\n    ui.layout_pop();*/\n\n    var grid_w = dim * 16;\n    var grid_w_left = 0 | grid_w / 2;\n    var grid_w_right = grid_w - grid_w_left;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('piano:', Rectangle(0, 0, grid_w_left, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-piano-volume', Rectangle(0, 12, grid_w_right, 12), 0, 100, _trix_panel.piano.volume, '');\n\n      if (_.changed) {\n        _trix_panel.piano.volume = _.value;\n        _trix_panel.piano.gain.gain.value = volume_to_gain(_.value);\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('bass:', Rectangle(20, 0, grid_w_left, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-bass-volume', Rectangle(20, 12, grid_w_right, 12), 0, 100, _trix_panel.bass.volume, '');\n\n      if (_.changed) {\n        _trix_panel.bass.volume = _.value;\n        _trix_panel.bass.gain.gain.value = volume_to_gain(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_trix_grid(uiid + '-piano-grid', 16, 16, dim, _trix_panel.piano_grid);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n      do_trix_grid(uiid + '-bass-grid', 16, 16, dim, _trix_panel.bass_grid);\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('misc:', Rectangle(0, 0, 100, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-misc-volume', Rectangle(60, 12, grid_w_right, 12), 0, 100, _trix_panel.misc_volume, '');\n\n      if (_.changed) {\n        _trix_panel.misc_volume = _.value;\n        _trix_panel.misc_gain.gain.value = volume_to_gain(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // misc-grid row's container\n\n    {\n      do_trix_grid(uiid + '-misc-grid', 16, 4, dim, _trix_panel.misc_grid);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, 0);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('tempo', Rectangle(0, 0, 200, dim));\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-tempo', Rectangle(0, 0, 200, 20), 0, _trix_panel.tempo.length - 1, _trix_panel.tempo_index, '');\n\n        if (_.changed) {\n          _trix_panel.tempo_index = _.value;\n          _trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('scale', Rectangle(0, 0, 200, dim));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n          for (var i = 0; i < scales.length; i++) {\n            var _is_current = i == _trix_panel.scale_index;\n\n            var _button_text = i + '';\n\n            _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-scale-button-' + i, _button_text, Rectangle(0, 0, 40, dim), _is_current, 14, 0);\n\n            if (_.changed && _.value) {\n              _trix_panel.scale_index = i;\n            }\n          }\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // right half or misc-grid row\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('( edit cells with left and right mouse drag )', Rectangle(0, 0, 100, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20); // analyser graph        \n\n    var graph_w = dim * 16 * 2 + 20;\n    var graph_h = 100;\n    sample_trix_analyser();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, graph_w, graph_h)), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    do_analyser_graph(uiid - '-analyser-graph', Rectangle(0, 0, graph_w, graph_h), _trix_panel.analyser_freqs, _trix_panel.analyser_times);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-schedule-notes-ahead-slider', Rectangle(0, 0, 200, 20), 0, 8, _trix_panel.schedule_notes_ahead, '');\n\n      if (_.changed) {\n        _trix_panel.schedule_notes_ahead = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('schedule ' + _trix_panel.schedule_notes_ahead + ' notes ahead', Rectangle(4, 0, 200, 20));\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); //-----------------------------------------------------------------------------------------\n\n    if (_trix_panel.play) {\n      trix_play();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction load_convolver_sample() {\n  var impulseUrl = 'impulse.mp3';\n  var req = new XMLHttpRequest();\n  req.open('GET', impulseUrl, true);\n  req.responseType = 'arraybuffer';\n\n  req.onload = function () {\n    var impulseData = req.response;\n\n    _trix_panel.context.decodeAudioData(impulseData, function (buffer) {\n      _trix_panel.piano.convolver.buffer = buffer;\n      _trix_panel.piano.convolver.loop = false;\n      _trix_panel.piano.convolver.normalize = true;\n      connect_instrument('piano');\n      _trix_panel.bass.convolver.buffer = buffer;\n      _trix_panel.bass.convolver.loop = false;\n      _trix_panel.bass.convolver.normalize = true;\n      connect_instrument('bass');\n    }, function (e) {\n      \"Error decoding audio data\" + e.err;\n    });\n  };\n\n  req.send();\n}\n\nfunction trix_play_column(x, time) {\n  var scale = scales[_trix_panel.scale_index]; // all notes in col start play now\n\n  for (var y = 0; y < 16; y++) {\n    if (_trix_panel.piano_grid[x][y]) {\n      var piano_rate = freq[scale[y]];\n      play_sample('piano.ogg', _trix_panel.piano.dest, time, piano_rate, _trix_panel.piano.detune * 100);\n    }\n\n    if (_trix_panel.bass_grid[x][y]) {\n      var bass_rate = freq[scale[y]];\n      play_sample('bass.ogg', _trix_panel.bass.dest, time, bass_rate, _trix_panel.bass.detune * 100);\n    }\n  }\n\n  var misc_keys = ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n  for (var _y2 = 0; _y2 < 4; _y2++) {\n    if (_trix_panel.misc_grid[x][_y2]) {\n      var key = misc_keys[_y2];\n      play_sample(key, _trix_panel.misc_dest, time, 1);\n    }\n  }\n}\n\nfunction trix_play() {\n  var dt = app.main_loop_time / 1000; // todo: make delta time part of simpleui\n\n  _trix_panel.time = _trix_panel.time + dt;\n  var audio_time = _trix_panel.context.currentTime;\n  var do_next_column = _trix_panel.time >= _trix_panel.wait && _trix_panel.play == true;\n  var debug = 0 | false;\n\n  if (debug) {\n    _trix_panel.schedule_x = 13;\n    _trix_panel.play_x = 13;\n  }\n\n  if (do_next_column) {\n    if (debug) _trix_panel.play = 0 | false; // schedule up to 1 note now and 3 notes into the future\n    // 2nd note: schedule = 1, play = 4, should schedule fifth note, but with 4 waits not the 0 or 1 it will do\n    // so actual time isn't based on j, but on the delta between two x cursors\n    // time needs to be... (x - play_x)        \n\n    var schedule_x2 = _trix_panel.play_x_long + _trix_panel.schedule_notes_ahead;\n\n    while (_trix_panel.schedule_x <= schedule_x2) {\n      var delta = _trix_panel.schedule_x - _trix_panel.play_x_long;\n      var time_offset = delta * _trix_panel.wait; // 0 * wait = now, 1 * wait = next\n\n      var x = _trix_panel.schedule_x;\n      trix_play_column(x % 16, audio_time + time_offset);\n      _trix_panel.schedule_x += 1;\n    }\n    /*if (_trix_panel.schedule_x == 16) {\r\n        _trix_panel.schedule_x = 0;\r\n    } */\n    //_trix_panel.schedule_x = _trix_panel.schedule_x % 16;\n\n\n    _trix_panel.play_x += 1;\n\n    if (_trix_panel.play_x == 16) {\n      _trix_panel.play_x = 0;\n    }\n\n    _trix_panel.play_x_long = 0 | _trix_panel.play_x_long + 1;\n    _trix_panel.time = _trix_panel.time % _trix_panel.wait;\n  }\n}\n\nvar _fetched_audio = {};\n\nfunction fetch_audio(url) {\n  window.fetch(url).then(function (response) {\n    return response.arrayBuffer();\n  }).then(function (array_buffer) {\n    return _trix_panel.context.decodeAudioData(array_buffer);\n  }).then(function (audio_buffer) {\n    _fetched_audio[url] = audio_buffer;\n  });\n}\n\nfunction play_sample(key, output_node, time, rate, detune) {\n  detune = detune || 0; //console.assert(_fetched_audio[key]);\n  //console.log(key, time);\n\n  var source = _trix_panel.context.createBufferSource();\n\n  source.buffer = _fetched_audio[key];\n  source.playbackRate.value = rate;\n  source.detune.value = detune;\n  source.connect(output_node);\n  source.start(time);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nfunction connect_instrument(name) {\n  /*\r\n  piano_shaper\r\n  piano_biquad\r\n  piano_panner\r\n  piano_convolver\r\n  piano_gain    \r\n  > compressor > master gain > analyser > (out)    \r\n  */\n  var o = _trix_panel[name]; //const keys = ['piano_convolver', 'piano_shaper', 'piano_biquad', 'piano_panner', 'piano_gain'];\n  //const keys = ['convolver', 'shaper', 'biquad', 'gain'];\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // this is good\n  // const keys = ['shaper', 'biquad', 'convolver', 'gain'];\n  // but i wanna try moving convolver\n  // convolver before biquad sounds good\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // i like convolver first and i think it makes more sense    \n\n  var keys = ['convolver', 'shaper', 'biquad', 'gain']; // v >0.4.1\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    o[key].disconnect();\n  }\n\n  var use_convolver = o.convolver_enabled && o.convolver.buffer;\n  var use_biquad = o.biquad_enabled;\n  var use_shaper = o.shaper_enabled; //console.log('connect_instrument', name);\n\n  var prev_key = null;\n\n  for (var i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n    var do_connect = false;\n\n    if (_key == 'convolver') {\n      //console.log(name, 'use_convolver', use_convolver);\n      do_connect = use_convolver;\n    } else if (_key == 'biquad') {\n      //console.log(name, 'use_biquad', use_biquad);\n      do_connect = use_biquad;\n    } else if (_key == 'shaper') {\n      //console.log(name, 'use_shaper', use_shaper);\n      do_connect = use_shaper;\n    } else {\n      do_connect = true;\n    }\n\n    if (do_connect) {\n      if (prev_key == null) {\n        // first connection is sample destination\n        o.dest = o[_key];\n      } else {\n        // subsequent connects\n        o[prev_key].connect(o[_key]);\n      }\n\n      prev_key = _key;\n    }\n  } // connect back to system\n\n\n  var end_key = keys[keys.length - 1];\n  o[end_key].connect(_trix_panel.play_node);\n}\n\nfunction connect_misc() {\n  _trix_panel.misc_gain.connect(_trix_panel.play_node);\n\n  _trix_panel.misc_dest = _trix_panel.misc_gain;\n}\n\nfunction dbToY(db, height, pixelsPerDb) {\n  var y = 0.5 * height - pixelsPerDb * db;\n  return y;\n}\n\nfunction draw_biquad_filter(filter, local_rect) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var width = rect.w;\n  var height = rect.h;\n  var line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(180, 0, 40, 255));\n  var grid_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(100, 100, 100, 255));\n  var text_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(255, 255, 255, 255));\n  var dbScale = 60;\n  var pixelsPerDb = 0.5 * height / dbScale;\n  var noctaves = 11;\n  var frequencyHz = new Float32Array(width);\n  var magResponse = new Float32Array(width);\n  var phaseResponse = new Float32Array(width);\n  var nyquist = 0.5 * _trix_panel.context.sampleRate; // First get response.\n\n  for (var i = 0; i < width; ++i) {\n    var f = i / width; // Convert to log frequency scale (octaves).\n\n    f = nyquist * Math.pow(2.0, noctaves * (f - 1.0));\n    frequencyHz[i] = f;\n  }\n\n  filter.getFrequencyResponse(frequencyHz, magResponse, phaseResponse); // grid\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n\n  for (var octave = 0; octave <= noctaves; octave++) {\n    var _x2 = octave * width / noctaves;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + _x2, rect.y + 33);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + _x2, rect.y + height);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // labels\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var _octave = 1; _octave <= noctaves; _octave += 2) {\n    var _x3 = _octave * width / noctaves;\n\n    var _f = nyquist * Math.pow(2.0, _octave - noctaves);\n\n    var value = _f.toFixed(0); //let unit = 'Hz';\n\n\n    var unit = '';\n\n    if (_f > 1000) {\n      //unit = 'KHz';\n      unit = 'K';\n      value = (_f / 1000).toFixed(1);\n    }\n\n    var y_offset = 0;\n\n    if (_octave % 2 == 0) {\n      y_offset = 20;\n    } //uidraw.text(value + unit, rect.x + x - 40, rect.y + 14 + y_offset, Color(255,255,255,255));        \n\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // Draw 0dB line.\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"](); // Draw decibel scale.    \n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var db = -dbScale; db < dbScale - 10; db += 10) {\n    var _y3 = dbToY(db, height, pixelsPerDb); //uidraw.text(db.toFixed(0) + \"dB\", rect.x + width - 40, rect.y + y);\n\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // redline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y);\n\n  for (var i = 0; i < width; ++i) {\n    var f = magResponse[i];\n    var response = magResponse[i];\n    var dbResponse = 20.0 * Math.log(response) / Math.LN10;\n    var x = i;\n    var y = dbToY(dbResponse, height, pixelsPerDb);\n    if (i == 0) _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x, rect.y + y);else _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x, rect.y + y);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n}\n\nfunction instrument_set_biquad_type(o, type_index) {\n  o.biquad_type_index = type_index;\n  o.biquad.type = _trix_panel.biquad_types[type_index];\n}\n\nfunction instrument_set_volume(o, value) {\n  o.volume = value;\n  o.gain.gain.value = volume_to_gain(value);\n}\n\nfunction do_instrument_edit(instrument_index) {\n  var _;\n\n  var uiid = '---instrument-edit-' + instrument_index;\n  var name = _trix_panel.instrument_names[instrument_index];\n  var o = _trix_panel[name];\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-convolver-checkbox', 'reverb', Rectangle(0, 0, 100, 24), o.convolver_enabled);\n\n    if (_.changed) {\n      o.convolver_enabled = _.value;\n      connect_instrument(name);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-shaper-checkbox', 'shaper', Rectangle(0, 0, 100, 24), o.shaper_enabled);\n\n    if (_.changed) {\n      o.shaper_enabled = _.value;\n      connect_instrument(name);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-biquad-checkbox', 'biquad', Rectangle(0, 0, 100, 24), o.biquad_enabled);\n\n    if (_.changed) {\n      o.biquad_enabled = _.value;\n      connect_instrument(name);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('source', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-volume', Rectangle(0, 0, 200, 20), 0, 100, o.volume, '');\n\n  if (_.changed) {\n    instrument_set_volume(o, _.value);\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.volume + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-detune', Rectangle(0, 0, 200, 20), -12, 12, o.detune, '');\n\n  if (_.changed) {\n    o.detune = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.detune * 100 + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('biquad filter', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('type', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-type-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.biquad_types.length - 1, o.biquad_type_index, '');\n\n  if (_.changed) {\n    instrument_set_biquad_type(o, _.value);\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.biquad_types[o.biquad_type_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('freq', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-frequency', Rectangle(0, 0, 200, 20), 0, 8000, o.biquad.frequency.value, '');\n\n  if (_.changed) {\n    o.biquad.frequency.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.frequency.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-detune', Rectangle(0, 0, 200, 20), -1200, 1200, o.biquad.detune.value, '');\n\n  if (_.changed) {\n    o.biquad.detune.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.detune.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('q factor', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-qfactor', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.Q.value, '');\n\n  if (_.changed) {\n    o.biquad.Q.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.Q.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('gain', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-gain', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.gain.value, '');\n\n  if (_.changed) {\n    o.biquad.gain.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.gain.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  draw_biquad_filter(o.biquad, Rectangle(0, 0, 400, 200)); // shaper\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('shaper', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('oversample', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-shaper-oversample-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.shaper_oversample_types.length - 1, o.shaper_oversample_index, '');\n\n  if (_.changed) {\n    o.shaper_oversample_index = _.value;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.shaper_oversample_types[o.shaper_oversample_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_instrument_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _; // this uiid is for panel_begin (probably need to rename functions like this (run_instrument_panel or w/e idk))\n\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < _trix_panel.instrument_names.length; i++) {\n      var is_current = i == _trix_panel.selected_instrument_index;\n      var name = _trix_panel.instrument_names[i];\n      var button_text = name;\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-select-instrument-button-' + i, button_text, Rectangle(0, 0, 80, 24), is_current, 4, 2);\n\n      if (_.changed && _.value) {\n        _trix_panel.selected_instrument_index = i;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    do_instrument_edit(_trix_panel.selected_instrument_index);\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction makeDistortionCurve(amount) {\n  // copied\n  var k = typeof amount === 'number' ? amount : 50,\n      n_samples = 44100,\n      curve = new Float32Array(n_samples),\n      deg = Math.PI / 180,\n      i = 0,\n      x;\n\n  for (; i < n_samples; ++i) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n  }\n\n  return curve;\n}\n\n;\n\nfunction do_app_audio() {\n  var row_x0 = 222;\n  var row_y0 = 47;\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n\n  if (_tone_panel.context) {\n    do_trix_panel('trix panel', row_x0, row_y0, true, expanded);\n    do_instrument_panel('instrument panel', row_x0 + 727, row_y0, true, expanded);\n    do_tone_panel('tone panel', row_x0 + 727 + 467, row_y0, true, false && false);\n  } else {\n    if (AudioContext) {\n      _tone_panel.context = new AudioContext();\n      _tone_panel.gain1 = _tone_panel.context.createGain();\n      _tone_panel.analyser1 = _tone_panel.context.createAnalyser();\n      _tone_panel.analyser1.fftSize = Math.pow(2, 9);\n      _tone_panel.analyser1_times = new Uint8Array(_tone_panel.analyser1.frequencyBinCount);\n      _tone_panel.analyser1_freqs = new Uint8Array(_tone_panel.analyser1.frequencyBinCount); // standard\n\n      _trix_panel.context = new AudioContext();\n      _trix_panel.gain = _trix_panel.context.createGain();\n      _trix_panel.gain.gain.value = volume_to_gain(_trix_panel.volume);\n      _trix_panel.compressor = _trix_panel.context.createDynamicsCompressor();\n      _trix_panel.analyser = _trix_panel.context.createAnalyser();\n      _trix_panel.analyser.fftSize = Math.pow(2, 9);\n      _trix_panel.analyser_times = new Uint8Array(_trix_panel.analyser.frequencyBinCount);\n      _trix_panel.analyser_freqs = new Uint8Array(_trix_panel.analyser.frequencyBinCount); // piano init\n\n      _trix_panel.piano.gain = _trix_panel.context.createGain();\n      _trix_panel.piano.gain.gain.value = volume_to_gain(_trix_panel.piano.volume);\n      _trix_panel.piano.convolver = _trix_panel.context.createConvolver();\n      _trix_panel.piano.biquad = _trix_panel.context.createBiquadFilter();\n      instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n      _trix_panel.piano.shaper = _trix_panel.context.createWaveShaper();\n      _trix_panel.piano.shaper.curve = makeDistortionCurve(400);\n      _trix_panel.piano.shaper_oversample_index = 2;\n      _trix_panel.piano.shaper.oversample = _trix_panel.shaper_oversample_types[_trix_panel.bass.shaper_oversample_index];\n      _trix_panel.piano.panner = _trix_panel.context.createStereoPanner(); // bass init\n\n      _trix_panel.bass.gain = _trix_panel.context.createGain();\n      _trix_panel.bass.gain.gain.value = volume_to_gain(_trix_panel.bass.volume);\n      _trix_panel.bass.convolver = _trix_panel.context.createConvolver();\n      _trix_panel.bass.biquad = _trix_panel.context.createBiquadFilter();\n      instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n      _trix_panel.bass.shaper = _trix_panel.context.createWaveShaper();\n      _trix_panel.bass.shaper.curve = makeDistortionCurve(400);\n      _trix_panel.bass.shaper_oversample_index = 0;\n      _trix_panel.bass.shaper.oversample = _trix_panel.shaper_oversample_types[_trix_panel.bass.shaper_oversample_index];\n      _trix_panel.bass.panner = _trix_panel.context.createStereoPanner(); // misc init\n\n      _trix_panel.misc_gain = _trix_panel.context.createGain();\n      _trix_panel.misc_gain.gain.value = volume_to_gain(_trix_panel.misc_volume); // end (should start on play_node)\n      // v <= 0.4.1:\n      //_trix_panel.gain.connect(_trix_panel.compressor);\n      //_trix_panel.compressor.connect(_trix_panel.analyser);\n      // v > 0.4.1:            \n      // https://www.softube.com/index.php?id=eq_before_compressor\n      // \" Placing an EQ before a compressor can have the effect of exaggerating the applied EQ, due to a phenomenon similar to the psychoacoustic effect known as \"frequency masking\". \"\n      // ( gain will give similar problem as eq )\n\n      _trix_panel.play_node = _trix_panel.compressor;\n\n      _trix_panel.compressor.connect(_trix_panel.gain);\n\n      _trix_panel.gain.connect(_trix_panel.analyser);\n\n      _trix_panel.analyser.connect(_trix_panel.context.destination); // later: a 2nd analyser before compressor, drawn in red (freqs only), to show pre-compress\n\n\n      load_preset_a();\n      load_convolver_sample();\n      var audio_files = ['piano.ogg', 'bass.ogg', 'kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n      for (var _i2 = 0; _i2 < audio_files.length; _i2++) {\n        fetch_audio(audio_files[_i2]);\n      }\n    } else {\n      do_message_panel('audio error', row_x0, row_y0, true, true, 'AudioContext unavailable.');\n    }\n  }\n}\n\nfunction reconnect_instruments() {\n  connect_instrument('piano');\n  connect_instrument('bass');\n  connect_misc();\n}\n\nfunction load_preset_a() {\n  // 'canyouguyssoulslide'\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = 0;\n  _trix_panel.piano.biquad.gain.value = 10;\n  _trix_panel.piano.biquad.Q.value = 10; // bass biquad not used\n\n  var _piano = {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_b() {\n  // 'idontknowhowtocode'\n  _trix_panel.piano_grid = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 3320;\n  _trix_panel.piano.biquad.detune.value = 480;\n  _trix_panel.piano.biquad.gain.value = 18;\n  _trix_panel.piano.biquad.Q.value = 33;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 192;\n  _trix_panel.bass.biquad.gain.value = 0;\n  _trix_panel.bass.biquad.Q.value = 1;\n  var _piano = {\n    \"volume\": 20,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 70,\n    \"detune\": 0,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_c() {\n  // 'washedupoxygenthief'\n  _trix_panel.piano_grid = [[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = -444;\n  _trix_panel.piano.biquad.gain.value = 4;\n  _trix_panel.piano.biquad.Q.value = 0;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 0;\n  _trix_panel.bass.biquad.gain.value = 8;\n  _trix_panel.bass.biquad.Q.value = 1;\n  var _piano = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_d() {\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = -444;\n  _trix_panel.piano.biquad.gain.value = 10;\n  _trix_panel.piano.biquad.Q.value = 10; // no bass biquad\n\n  var _piano = {\n    \"volume\": 39,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_e() {\n  _trix_panel.piano_grid = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0], [1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = -444;\n  _trix_panel.piano.biquad.gain.value = 10;\n  _trix_panel.piano.biquad.Q.value = 10; // lodash or something has a function for nested property sets iirc\n\n  _trix_panel.piano.biquad.frequency.value = 3320;\n  _trix_panel.piano.biquad.detune.value = 480;\n  _trix_panel.piano.biquad.Q.value = 33;\n  _trix_panel.piano.biquad.gain.value = 18;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 192;\n  _trix_panel.bass.biquad.Q.value = 1;\n  _trix_panel.bass.biquad.gain.value = 0;\n  var _piano = {\n    \"volume\": 10,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 100;\n  /*const _misc = {\r\n      volume: 100, biquad_type_index: 0, shaper_oversample_index: 2, convolver_enabled: 0, biquad_enabled: 0,\r\n      row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\r\n  }*/\n\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_audio1.js?");

/***/ }),

/***/ "./src/simpleui_app_audio2.js":
/*!************************************!*\
  !*** ./src/simpleui_app_audio2.js ***!
  \************************************/
/*! exports provided: do_app_audio2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio2\", function() { return do_app_audio2; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n// todo:\n// text uppercase measurement is using lowercase?\n// text color\n// garbage collection trim\n// song support, tracks, copy patterns, associate instruments\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\nvar _tone_panel = {\n  context: null,\n  tone_point: Point(200, 200),\n  freq_range: 1200,\n  osc1: null,\n  osc1_started: 0 | false,\n  osc1_type_index: 0,\n  osc_types: ['sine', 'square', 'sawtooth', 'triangle'],\n  volume: 0 | 5,\n  // [0-100]\n  gain1: null,\n  analyser1: null,\n  analyser1_times: null,\n  analyser1_freqs: null,\n  throttle: 50,\n  conv1: null,\n  source1: null,\n  sound_playing: 0 | false,\n  play_file_requested: 0 | false,\n  play_file_request_time: null,\n  play_pending: 0 | false,\n  play_buffer: null\n};\n\nfunction load_and_play(url) {\n  if (_tone_panel.play_file_requested) {//return;            \n  } else {\n    _tone_panel.play_file_requested = 0 | true;\n    _tone_panel.play_file_request_time = Date.now();\n    window.fetch(url).then(function (response) {\n      return response.arrayBuffer();\n    }).then(function (array_buffer) {\n      return _tone_panel.context.decodeAudioData(array_buffer);\n    }).then(function (audio_buffer) {\n      _tone_panel.play_pending = 0 | true;\n      _tone_panel.play_buffer = audio_buffer;\n    }); //return;\n  }\n}\n\nfunction play() {\n  if (!_tone_panel.play_buffer) {\n    load_and_play('Yodel_Sound_Effect.mp3');\n  } else {\n    console.assert(_tone_panel.play_buffer); // a source object can only be .start()'ed once\n    // so you have to make one every time you want to play a sound\n\n    _tone_panel.source1 = _tone_panel.context.createBufferSource();\n    _tone_panel.source1.buffer = _tone_panel.play_buffer;\n    _tone_panel.play_pending = 0 | false;\n    _tone_panel.gain1.gain.value = get_tone_volume();\n\n    _tone_panel.source1.connect(_tone_panel.analyser1);\n\n    _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n    _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n    _tone_panel.source1.start(); // cannot call this more than once per source object, yadoink\n\n\n    _tone_panel.sound_playing = 0 | true;\n  }\n}\n\nfunction get_tone_volume() {\n  var volume2 = _tone_panel.tone_point.y / _tone_panel.freq_range;\n  var final_volume = _tone_panel.volume / 100 * volume2;\n  return final_volume;\n}\n\nfunction start_tone() {\n  //console.log('[start_tone]');\n  var frequency = _tone_panel.tone_point.x;\n  var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index]; // i guess i need this for now?\n\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop();\n\n    _tone_panel.osc1_started = 0 | false;\n  }\n\n  _tone_panel.osc1 = _tone_panel.context.createOscillator();\n  _tone_panel.osc1.type = osc1_type;\n  _tone_panel.osc1.frequency.value = frequency;\n  _tone_panel.gain1.gain.value = get_tone_volume(); // hmph, connecting things correctly matters xd\n\n  _tone_panel.osc1.connect(_tone_panel.analyser1);\n\n  _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n  _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n  _tone_panel.osc1.start(0);\n\n  _tone_panel.osc1_started = 0 | true;\n}\n\nfunction stop_tone() {\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop(0);\n  }\n\n  _tone_panel.osc1_started = 0 | false;\n}\n\nvar start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\nfunction reset_tone() {\n  start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\n  if (_tone_panel.osc1_started) {\n    stop_tone();\n    start_tone_limited();\n  }\n}\n\nfunction sample_tone_analyser() {\n  _tone_panel.analyser1.getByteFrequencyData(_tone_panel.analyser1_freqs);\n\n  _tone_panel.analyser1.getByteTimeDomainData(_tone_panel.analyser1_times);\n}\n\nfunction do_tone_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var _changed = 0 | false;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', RectangleP(0, 0, 200, 20), 0, 100, _tone_panel.volume, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', RectangleP(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.volume = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-throttle', RectangleP(0, 0, 200, 20), 0, 1000, _tone_panel.throttle, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('throttle', RectangleP(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.throttle = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < _tone_panel.osc_types.length; i++) {\n        var iter_type = _tone_panel.osc_types[i];\n        var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index];\n        var is_checked = iter_type == osc1_type;\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-osc_type_button-' + iter_type, iter_type, RectangleP(0, 0, 80, 24), is_checked);\n\n        if (_.changed && _.value) {\n          _tone_panel.osc1_type_index = i; // dont relay change for osc1 type change unless currently playing\n\n          _changed = 0 | _tone_panel.osc1_started;\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _ = do_slider2d(uiid + '-slider2d', RectangleP(0, 0, 400, 400), 0, _tone_panel.freq_range, _tone_panel.tone_point);\n\n    if (_.changed) {\n      // these two lines are bad, slider2d should return what i need instead\n      var bg_uiid = uiid + '-slider2d-bg';\n      var item_went_down = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid;\n\n      if (item_went_down || _tone_panel.tone_point.x != _.x1 || _tone_panel.tone_point.y != _.y1) {\n        _tone_panel.tone_point.x = _.x1;\n        _tone_panel.tone_point.y = _.y1;\n        _changed = 0 | true;\n      }\n    }\n\n    if (_changed) {\n      start_tone_limited();\n    }\n\n    if (_tone_panel.analyser1 && _tone_panel.osc1_started || _tone_panel.sound_playing) {\n      sample_tone_analyser();\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, null, peek.x, peek.y - peek.padding * 2 - 100);\n      do_analyser_graph(uiid - '-graph', RectangleP(2, 0, 400 - 4, 100), _tone_panel.analyser1_freqs, _tone_panel.analyser1_times, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // show this when (requested) -and- (no buffer -or- buffer was fetched in less than 1 second)\n\n\n    if (_tone_panel.play_file_requested && (!_tone_panel.play_buffer || Date.now() - _tone_panel.play_file_request_time < 1000)) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('audio file requested...', RectangleP(0, 0, 200, 24));\n    } else {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-yodel', 'play yodel mp3', RectangleP(0, 0, 200, 24));\n\n      if (_tone_panel.play_pending || _.clicked) {\n        play(_tone_panel.source1);\n      }\n    }\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_up) {\n      start_tone_limited.cancel();\n      stop_tone();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction sample_trix_analyser() {\n  _trix_panel.analyser.getByteFrequencyData(_trix_panel.analyser_freqs);\n\n  _trix_panel.analyser.getByteTimeDomainData(_trix_panel.analyser_times);\n}\n\nfunction do_analyser_graph(uiid, local_rect, data1, data2, color1, color2) {\n  color1 = color1 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  color2 = color2 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var x = rect.x;\n  var y = rect.y;\n  var w = rect.w;\n  var h = rect.h;\n\n  if (data1.length == 0 || data2.length == 0) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n    return;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color1));\n  var irange = data1.length;\n  var vrange = 255;\n\n  for (var i = 0; i < irange; i++) {\n    var v = 0 | data1[i];\n    var xpos = 0 | i / irange * w;\n    var ypos = 0 | v / vrange * h;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](0 | x + xpos, 0 | y + h + 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](0 | x + xpos, 0 | y + h - ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color2));\n  irange = data2.length;\n  vrange = 255; // later: just get data as floats and can remove this\n\n  var ypos_start = data2[0] / vrange * h;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x, y + ypos_start);\n\n  for (var _i = 1; _i < irange; _i++) {\n    var _v = 0 | data2[_i];\n\n    var _xpos = 0 | _i / irange * w;\n\n    var _ypos = 0 | _v / vrange * h;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x + _xpos + 2, y + _ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n}\n\nfunction do_message_panel(uiid, first_x, first_y, first_visible, first_expanded, message) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](message, Rectangle(0, 0, 200, 20));\n  }\n\n  do_panel_end(uiid);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nvar freq = [1.6818, // a5\t1\n1.5874, // gs5\t2\n1.49831, // g5\t3\n1.4142, // fs5\t4\n1.3348, // f5\t5\n1.2599, // e5\t6\n1.1892, // ds5\t7\n1.1225, // d5\t8 \n1.0595, // cs5\t9\n1.0, // c5\t10 \n0.9439, // b4\t11\n0.8909, // as4\t12\n0.8409, // a4\t13\n0.79370, // gs4\t14\n0.7492, // g4\t15\n0.7071, // fs4\t16\n0.6674, // f4\t17\n0.62996, // e4\t18\n0.5946, // ds4\t19\n0.5611, // d4\t20\n0.5297, // cs4\t21\n0.5, // c4\t22\n0.47194, // b3\t23\n0.44545, // as3\t24\n0.42045, // a3\t25\n0.39685, // gs3\t26\n0.37458, // g3\t27\n0.35355, // fs3\t28\n0.3337, // f3\t29\n0.31498, // e3\t30\n0.2973, // ds3\t31\n0.2806, // d3\t32\n0.26487, // cs3\t33\n0.25, // c3\t34\n0.23597, // b2\t35\n0.2272, // as2\t36\n0.21022, // a2\t37\n0.19843, // gs2\t38\n0.18729, // g2\t39\n0.17678, // fs2\t40\n0.16685, // f2\t41\n0.15749, // e2\t42\n0.14865, // ds2\t43\n0.1403, // d2\t44\n0.13243, // cs2\t45\n0.125 // c2\t46\n];\nvar scales = []; // D pentatonic major\n// scale[1] = {\"a5\",\"fs5\",\"e5\",\"d5\",\"b4\",\"a4\",\"fs4\",\"e4\",\"d4\",\"b3\",\"a3\",\"fs3\",\"e3\",\"d3\",\"b2\",\"a2\"}\n\nscales[0] = [1, 4, 6, 8, 11, 13, 16, 18, 20, 23, 25, 28, 30, 32, 35, 37]; // D pentatonic minor\n// scale[2] = {\"d5\",\"c5\",\"a4\",\"g4\",\"f4\",\"d4\",\"c4\",\"a3\",\"g3\",\"f3\",\"d3\",\"c3\",\"a2\",\"g2\",\"f2\",\"d2\"}\n\nscales[1] = [8, 10, 13, 15, 17, 20, 22, 25, 27, 29, 32, 34, 37, 39, 41, 44]; // C major\n// scale[3] = {8\"c5\",\"b4\",\"a4\",\"g4\",\"f4\",\"e4\",\"d4\",\"c4\",\"b3\",\"a3\",\"g3\",\"f3\",\"e3\",\"d3\",\"c3\",\"b2\"}\n\nscales[2] = [10, 11, 13, 15, 17, 18, 20, 22, 23, 25, 27, 29, 30, 32, 34, 35]; // D blues minor\n// scale[4] = {\"d5\",\"c5\",\"a4\",\"g4\",\"e4\",\"ds4\",\"d4\",\"c4\",\"a3\",\"g3\",\"e3\",\"ds3\",\"d3\",\"c3\",\"a2\",\"g2\"}\n\nscales[3] = [8, 10, 13, 15, 18, 19, 20, 22, 25, 27, 30, 31, 32, 34, 37, 39]; // chromatic\n// scale[5] = {\"gs4\",\"g4\",\"fs4\",\"f4\",\"e4\",\"ds4\",\"d4\",\"cs4\",\"c4\",\"b3\",\"as3\",\"a3\",\"gs3\",\"g3\",\"fs3\",\"f3\"}\n\nscales[4] = [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29];\n\nfunction Pattern(grid, instrument_index) {\n  return {\n    height: grid[0].length,\n    grid: grid,\n    instrument_index: instrument_index\n  };\n}\n/** create a new pattern by copying this one */\n\n\nfunction pattern_copy(pattern_index) {\n  var old_pattern = song.patterns[pattern_index];\n  var new_grid = [];\n\n  for (var i = 0; i < old_pattern.grid.length; i++) {\n    var sub = [];\n    new_grid.push(sub);\n\n    for (var j = 0; j < old_pattern.grid[i].length; j++) {\n      sub.push(old_pattern.grid[i][j]);\n    }\n  }\n\n  var new_pattern = Pattern(new_grid, old_pattern.instrument_index);\n  return new_pattern;\n}\n\nfunction Instrument(sample_key, options) {\n  var o = {\n    sample_key: sample_key,\n    row_sample_keys: [],\n    // y-indexed row-specific sample keys\n    //\n    output_node: null,\n    // was dest\n    volume: 0 | 0,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | false,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | false,\n    shaper: null,\n    shaper_oversample_index: 0,\n    shaper_enabled: 0 | false,\n    panner: null\n  };\n  Object.assign(o, options);\n\n  if (sample_key) {\n    o.gain = _trix_panel.context.createGain();\n    instrument_set_volume(o, o.volume);\n    o.convolver = _trix_panel.context.createConvolver();\n    console.assert(_trix_panel.convolver_buffer);\n    o.convolver.buffer = _trix_panel.convolver_buffer;\n    o.convolver.loop = false;\n    o.convolver.normalize = true;\n    o.biquad = _trix_panel.context.createBiquadFilter();\n    instrument_set_biquad_type(o, o.biquad_type_index);\n    o.shaper = _trix_panel.context.createWaveShaper();\n    o.shaper.curve = makeDistortionCurve(400);\n    o.shaper_oversample_index = 2;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n    o.panner = _trix_panel.context.createStereoPanner();\n  } else {\n    o.gain = _trix_panel.context.createGain();\n    instrument_set_volume(o, o.volume);\n  }\n\n  return o;\n}\n\nfunction create_empty_pattern16() {\n  return [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n}\n\nfunction create_empty_pattern4() {\n  return [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n}\n\nvar _trix_panel = {\n  initialized: 0 | false,\n  resource_decode_requested: 0 | false,\n  convolver_buffer: null,\n  convolver_data_response: null,\n  volume: 0 | 15,\n  // [0-100]\n  context: null,\n  compressor: null,\n  gain: null,\n  analyser: null,\n  analyser_times: null,\n  analyser_freqs: null,\n  play_node: null,\n  // this will point to wherever the end of our audio graph begins (the node samples will play on)\n  //\n  biquad_types: ['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass'],\n  shaper_oversample_types: ['none', '2x', '4x'],\n  //\n  instrument_names: ['piano', 'bass'],\n  selected_instrument_index: 0,\n  //    \n  misc_dest: null,\n  misc_volume: 0 | 80,\n  // [0-100]\n  misc_gain: null,\n  //\n  // empty (use presets instead)\n  time: 0,\n  wait: 0,\n  play: 0 | false,\n  step_mode: 0 | false,\n  tempo: [],\n  tempo_index: 8,\n  scale_index: 0,\n  grid_edit_tools: ['+', '-'],\n  grid_edit_tool: 0,\n  schedule_x_notes_ahead: 3,\n  // how many notes to schedule ahead-of-time while playing (to ensure precise note timing)\n  // new play code\n  song_x: 0,\n  // song cursor (decodes to [track_index, pattern_index])\n  song_schedule_x: 0,\n  // in same scale as song_x, this is the schedule cursor\n  song_begin_x: 0,\n  song_end_x: 0,\n  selected_pattern_index: 0,\n  loop_song: 0 | true,\n  //\n  pattern_panels_visibility: []\n};\nvar song = {\n  width: 0 | 0,\n  height: 0 | 0,\n  patterns: [],\n  grid: [],\n  instrument_keys: ['piano', 'bass', 'misc'],\n  instruments: []\n};\nsong_set_range(0, 3 * 16);\nsong_set_size(song, 32 * 16, 0); // 32 * pat_len\n// god object in progress, stand back\n\nfunction song_clear() {\n  song.instruments = [];\n  song.patterns = [];\n  song.grid = [];\n}\n\nfunction song_set_range(x1, x2) {\n  console.assert(x2 > x1);\n  _trix_panel.song_x = x1;\n  _trix_panel.song_schedule_x = x1;\n  _trix_panel.song_begin_x = x1;\n  _trix_panel.song_end_x = x2;\n}\n/** sets song size and ensures full track data exists (contiguous arrays, fill with null as needed) */\n\n\nfunction song_set_size(song, w, h) {\n  // grow/shrink cols & rows\n  for (var x = 0; x < w; x++) {\n    // if no column x\n    if (!song.grid[x]) {\n      song.grid[x] = [];\n    }\n\n    song.grid[x].length = h;\n\n    for (var y = 0; y < h; y++) {\n      if (song.grid[x][y] == null) {\n        song.grid[x][y] = -1;\n      }\n    }\n  }\n\n  song.width = w;\n  song.height = h;\n}\n\nvar MIN_TEMPO = 0.5;\nvar MAX_TEMPO = 0.04;\n\nfor (var i = 0; i < 16; i++) {\n  _trix_panel.tempo[i] = MIN_TEMPO - i * ((MIN_TEMPO - MAX_TEMPO) / 16);\n}\n\n_trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n/*\r\n> dbfs_to_gain(100)\r\n100000\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(-50)\r\n0.0031622776601683794\r\n> dbfs_to_gain(-100)\r\n0.00001\r\n*/\n\nfunction dbfs_to_gain(dbfs) {\n  return Math.pow(10, dbfs / 20);\n}\n/*\r\n> volume_to_gain(0)\r\n0.00001\r\n> volume_to_gain(100)\r\n1\r\n*/\n// todo: nolive: asdfasdfasdf... hjalp\n\n\nfunction volume_to_gain(volume) {\n  if (volume == 0) {\n    // i guess\n    return 0;\n  } // gain of 1 is ridiculously loud, idk\n\n\n  var gain = (Math.exp(volume / 100) - 1) / (Math.E - 1);\n  gain = gain / 4;\n  return gain; //const actual = dbfs_to_gain(-(100-volume));\n  //return actual;\n}\n\nfunction volume_to_gain_OLD(volume) {\n  var volume_float = volume / 100; // > (Math.exp(0.01)-1)/(Math.E-1)\n  // 0.005848963143130564\n\n  var gain = (Math.exp(volume_float) - 1) / (Math.E - 1);\n  return gain;\n} // col indicator\n\n\nfunction draw_col_indicator(rect, dilate1, dilate2, color1, color2) {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate1), color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate2), color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n}\n\nvar _trix_grid_color1 = Color(36 + 18 + 9, 36 + 18 + 9, 36 + 18 + 9, 255);\n\nvar _trix_grid_color2 = Color(36 + 9 + 9, 36 + 9 + 9, 36 + 9 + 9, 255);\n\nvar _trix_grid_line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_trix_grid(w, h, dim, values, current_column) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h)); //uidraw.rectangle(rect, uidraw.normal_back);\n  // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color);\n\n  for (var _x = 0; _x < w; _x++) {\n    for (var _y = 0; _y < h; _y++) {\n      var value = values[_x][_y];\n\n      if (value != 0 && value != -1) {\n        var color_on = void 0;\n\n        if (_x == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x * dim + 1, rect.y + _y * dim + 1, dim - 2, dim - 2), color_on);\n      }\n    }\n  } // song_schedule_x indicator (debug)\n  //const column_rect2 = Rectangle(rect.x + (_trix_panel.song_schedule_x % 16) * dim, rect.y, dim, dim * h);\n  //draw_col_indicator(column_rect2, 3, 4, Color(0, 0, 0, 255), Color(255, 0, 0, 127));\n  // song_x indicator\n\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_tracks_grid(w, h, dim, values, current_column) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]); // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color); // filled boxes\n\n  for (var _x2 = 0; _x2 < w; _x2++) {\n    for (var _y2 = 0; _y2 < h; _y2++) {\n      var value = values[_x2][_y2];\n      console.assert(value != undefined);\n\n      if (value == -1) {// pass\n      } else {\n        var color_on = void 0;\n\n        if (_x2 == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x2 * dim + 1, rect.y + _y2 * dim + 1, dim - 2, dim - 2), color_on);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"label\"](value, Point(rect.x + _x2 * dim + 5, rect.y + _y2 * dim + 1), Color(255, 255, 255, 255)); // *changed\n      }\n    }\n  }\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255)); // current song range\n\n  var track_begin_x = 0 | _trix_panel.song_begin_x / 16;\n  var track_end_x = 0 | _trix_panel.song_end_x / 16;\n  var x1 = rect.x + track_begin_x * dim;\n  var x2 = rect.x + track_end_x * dim;\n  var y1 = rect.y;\n  var y2 = y1 + h * dim;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  var range_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(x1, y1, x2 - x1, y2 - y1), 4);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](range_rect, Color(250, 150, 0, 255));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n\nfunction do_trix_grid(uiid, w, h, dim, values, current_column) {\n  update_trix_grid(uiid, w, h, dim, values, current_column);\n  draw_trix_grid(w, h, dim, values, current_column);\n}\n\nfunction do_tracks_grid(uiid, w, h, dim, values, current_column) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n  update_tracks_grid(uiid, w, h, dim, values);\n  draw_tracks_grid(w, h, dim, values, current_column);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction update_tracks_grid(uiid, w, h, dim, values) {\n  var off_value = -1; // changed\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  var _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_clicked_right = _[2];\n  var cell_dragged_right = _[3];\n  var x = _[4];\n  var y = _[5];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | y; // changed\n\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n\nfunction update_trix_grid(uiid, w, h, dim, values) {\n  var on_value = 1;\n  var off_value = 0;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  var _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_clicked_right = _[2];\n  var cell_dragged_right = _[3];\n  var x = _[4];\n  var y = _[5];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | on_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n\nfunction logic_for_grid(state, uiid, ox, oy, w, h, dim) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, Rectangle(ox, oy, dim * w, dim * h));\n  var cell_clicked = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid;\n  var cell_clicked_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down_right == uiid; // welp, this is same as GetCursor*\n\n  var x = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - ox) / dim;\n  var y = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - oy) / dim;\n  /*if (cell_clicked || cell_clicked_right) {\r\n      console.assert(x<16);\r\n      console.assert(y<16);\r\n      console.log('mousepressed_x', ui.state.mousepressed_x);\r\n      console.log('mousepressed_y', ui.state.mousepressed_y);\r\n      console.log('mousereleased_x', ui.state.mousereleased_x);\r\n      console.log('mousereleased_y', ui.state.mousereleased_y);\r\n      console.log('driver vs system deltas', (ui.driver.GetCursorX() - ui.state.mousepressed_x), (ui.driver.GetCursorY() - ui.state.mousepressed_y));\r\n  }*/\n\n  var cell_dragged = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  var cell_dragged_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held_right == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  return [cell_clicked, cell_dragged, cell_clicked_right, cell_dragged_right, x, y];\n}\n\nfunction do_preset_buttons() {\n  var _;\n\n  var uiid = 'preset-buttons-';\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-a', 'a', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_a();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-b', 'b', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_b();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-c', 'c', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_c();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-d', 'd', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_d();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-e', 'e', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_e();\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('presets', Rectangle(4, 0, 100, 24));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction song_add_pattern(song, pattern) {\n  song.patterns.push(pattern);\n  song_set_size(song, song.width, song.patterns.length);\n}\n\nfunction do_pattern_edit(uiid, pattern_index) {\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n\n  if (false) {}\n\n  var dim = 0 | 20;\n  var grid_w = 0 | dim * 16;\n  var grid_w_left = 0 | grid_w / 2;\n  var grid_w_right = 0 | grid_w - grid_w_left;\n  var pattern = song.patterns[pattern_index];\n  var instrument = song.instruments[pattern.instrument_index];\n  var label = instrument.sample_key;\n\n  if (!label) {\n    label = 'kit';\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label, Rectangle(0, 0, grid_w_left, 24));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-pattern-volume-' + pattern_index, Rectangle(0, 12, grid_w_right, 12), 0, 100, instrument.volume, '');\n\n    if (_.changed) {\n      instrument_set_volume(instrument, _.value);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var pattern_x = 0 | _trix_panel.song_x % 16;\n  var w = 0 | pattern.grid.length;\n  var h = 0 | pattern.grid[0].length;\n  do_trix_grid(uiid + '-pattern-grid-' + pattern_index, w, h, dim, pattern.grid, pattern_x);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < scales.length; i++) {\n      var is_current = i == _trix_panel.scale_index;\n      var button_text = i + '';\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-scale-button-' + i, button_text, Rectangle(0, 0, 40, dim), is_current, 14, 0);\n\n      if (_.changed && _.value) {\n        _trix_panel.scale_index = i;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('scale', Rectangle(4 + 1, 0, 50, dim));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); //ui.label('( edit cells with left and right mouse drag )', Rectangle(0, 0, 100, 20));\n\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-copy-button', 'copy', Rectangle(0, 0, 200, 20));\n\n  if (_.clicked) {\n    song_add_pattern(song, pattern_copy(pattern_index));\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // main vertical    \n}\n\nfunction do_pattern_panel(uiid, first_x, first_y, first_visible, first_expanded, pattern_index) {\n  var _;\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'value': 0 | pattern_index,\n      'changed': 0 | false\n    });\n  }\n\n  ;\n  state.changed = 0 | false;\n  var panel_uiid = uiid + '-panel';\n  var panel = do_panel_begin(panel_uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_pattern_edit(uiid + '-pattern-edit', pattern_index);\n      _ = do_pattern_select(uiid + '-pattern-list', pattern_index);\n\n      if (_.changed) {\n        state.changed = 0 | true;\n        state.value = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  do_panel_end(panel_uiid);\n  return state;\n} // place_pattern(song, 0, 0, 0) // place pattern 0 into track 0 starting at track position `track_x`\n\n\nfunction song_place_pattern(song, track_x, track_y, pattern_num) {\n  song.grid[track_x][track_y] = pattern_num;\n}\n\nfunction do_tracks_edit() {\n  var pat_len = 16;\n  var dim = 20;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    var track_x = 0 | _trix_panel.song_x / pat_len; //const on_value = _trix_panel.selected_pattern_index; // whatever current pattern is        \n\n    do_tracks_grid('--tracks-edit-trix-grid', 0 | song.width / pat_len, song.patterns.length, dim, song.grid, track_x); //ui.layout_increment(tracks_rect);\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction load_convolver_buffer() {\n  var url = 'impulse.mp3';\n  var req = new XMLHttpRequest();\n  req.open('GET', url, true);\n  req.responseType = 'arraybuffer';\n  console.log('[convolver buffer requested]');\n\n  req.onload = function () {\n    _trix_panel.convolver_data_response = req.response;\n  };\n\n  req.send();\n}\n\nfunction play_sample(buffer, output_node, when, rate, detune) {\n  detune = detune || 0; //console.assert(_fetched_audio[key]);\n  //console.log(key, time);\n\n  var source = _trix_panel.context.createBufferSource();\n\n  source.buffer = buffer;\n  source.playbackRate.value = rate;\n  source.detune.value = detune;\n  source.connect(output_node);\n  source.start(when);\n}\n\nfunction play_instrument(instrument, y, when) {\n  // support instrument-wide and row-specific samples\n  var sample_key;\n  var rate;\n\n  if (instrument.sample_key) {\n    sample_key = instrument.sample_key;\n    var scale = scales[_trix_panel.scale_index];\n    rate = freq[scale[y]];\n  } else {\n    sample_key = instrument.row_sample_keys[y];\n    rate = 1;\n  }\n\n  var buffer = _fetched_audio[sample_key];\n  play_sample(buffer, instrument.output_node, when, rate, instrument.detune * 100);\n}\n\nfunction play_pattern_x(pattern, x, when) {\n  // play all notes in column\n  for (var y = 0; y < pattern.height; y++) {\n    if (pattern.grid[x][y]) {\n      var instrument = song.instruments[pattern.instrument_index];\n      play_instrument(instrument, y, when);\n    }\n  }\n}\n\nfunction play_song_x(song_x, when) {\n  var track_x = 0 | song_x / 16;\n  var pattern_x = 0 | song_x % 16; // for each track\n\n  for (var y = 0; y < song.height; y++) {\n    var pattern_num = song.grid[track_x][y];\n\n    if (pattern_num >= 0) {\n      var pattern = song.patterns[pattern_num];\n\n      if (pattern) {\n        play_pattern_x(pattern, pattern_x, when);\n      } else {\n        console.warn('pattern not found', pattern_num);\n      }\n    }\n  }\n} // these strong assumptions allow this delta calc\n// a is before b, but may have wrapped\n\n\nfunction calc_pattern_cursor_delta(a, b) {\n  var pat_len = 16;\n  var delta;\n\n  if (b < a) {\n    delta = 0 | b + pat_len - a;\n  } else {\n    delta = 0 | b - a;\n  }\n\n  return delta;\n}\n\nfunction trix_play() {\n  var dt = app.main_loop_time / 1000; // todo: make delta time part of simpleui\n\n  _trix_panel.time = _trix_panel.time + dt;\n  var time_for_next_column = _trix_panel.time >= _trix_panel.wait;\n\n  if (time_for_next_column) {\n    var pat_len = 16;\n    var dest_x = _trix_panel.song_x + _trix_panel.schedule_x_notes_ahead; // play logic works within one pattern length\n    // it handles note scheduling and cursor wrapping\n    //\n    // main problem is when schedule cursor wraps before play cursor\n    // (a = song_x, b = schedule_x, c = dest_x)\n    // eg. 0123456789ABCDEF\n    //      c            ab\n\n    var a = _trix_panel.song_x % pat_len;\n    var b = _trix_panel.song_schedule_x % pat_len;\n    var c = dest_x % pat_len; // steps needed for a to reach b\n\n    var ab_delta = calc_pattern_cursor_delta(a, b);\n    console.log('ab_delta', ab_delta); // steps needed for b to reach c\n\n    var bc_delta = calc_pattern_cursor_delta(b, c);\n    console.log('bc_delta', bc_delta);\n    var audio_time = _trix_panel.context.currentTime; // >>> ((2**31 / 2) / 300) / 60 / 24 = 2485L\n    // song_x SMI would take 2485 days @ 300 bpm to wrap        \n    // basically, i don't have to worry about song_x wrap \n    // schedule notes, break at song_end_x if not loop_song\n    // + 1 to handle \"current\" note (first note in song, and first note after lag) (i dont like hiding logic in `<=` since `<` is usually assumed here)\n\n    for (var _i2 = 0; _i2 < bc_delta + 1; _i2++) {\n      // current iter delta between a and moving b    \n      var actual_delta = ab_delta + _i2;\n      var wait_time = actual_delta * _trix_panel.wait;\n      var when = audio_time + wait_time;\n      play_song_x(_trix_panel.song_schedule_x, when);\n      _trix_panel.song_schedule_x++;\n\n      if (_trix_panel.song_schedule_x == _trix_panel.song_end_x) {\n        _trix_panel.song_schedule_x = _trix_panel.song_begin_x;\n\n        if (!_trix_panel.loop_song) {\n          break;\n        }\n      }\n    }\n\n    _trix_panel.song_x++; // loop back, considering song_begin_x/song_end_x\n\n    if (_trix_panel.song_x == _trix_panel.song_end_x) {\n      _trix_panel.song_x = _trix_panel.song_begin_x;\n\n      if (!_trix_panel.loop_song) {\n        _trix_panel.play = 0 | false;\n      }\n    }\n\n    _trix_panel.time = _trix_panel.time % _trix_panel.wait;\n\n    if (_trix_panel.step_mode) {\n      _trix_panel.play = 0 | false;\n    }\n  } // time_for_next_column\n\n}\n\nvar _fetched_audio = {};\n\nfunction fetch_audio(url) {\n  window.fetch(url).then(function (response) {\n    return response.arrayBuffer();\n  }).then(function (array_buffer) {\n    return _trix_panel.context.decodeAudioData(array_buffer);\n  }).then(function (audio_buffer) {\n    _fetched_audio[url] = audio_buffer;\n  });\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nfunction connect_instrument(instrument_index) {\n  /*\r\n  piano_shaper\r\n  piano_biquad\r\n  piano_panner\r\n  piano_convolver\r\n  piano_gain    \r\n  > compressor > master gain > analyser > (out)    \r\n  */\n  var o = song.instruments[instrument_index]; // instrument without sample key is assumed to be a 'kit' instrument, samples per row, not frequency per row\n\n  if (!o.sample_key) {\n    connect_instrument_simple(instrument_index);\n    return;\n  } //const keys = ['piano_convolver', 'piano_shaper', 'piano_biquad', 'piano_panner', 'piano_gain'];\n  //const keys = ['convolver', 'shaper', 'biquad', 'gain'];\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // this is good\n  // const keys = ['shaper', 'biquad', 'convolver', 'gain'];\n  // but i wanna try moving convolver\n  // convolver before biquad sounds good\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // i like convolver first and i think it makes more sense    \n\n\n  var keys = ['convolver', 'shaper', 'biquad', 'gain']; // v >0.4.1\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    o[key].disconnect();\n  }\n\n  var use_convolver = o.convolver_enabled && o.convolver.buffer;\n  var use_biquad = o.biquad_enabled;\n  var use_shaper = o.shaper_enabled; //console.log('connect_instrument', name);\n\n  var prev_key = null;\n\n  for (var i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n    var do_connect = false;\n\n    if (_key == 'convolver') {\n      do_connect = use_convolver;\n    } else if (_key == 'biquad') {\n      do_connect = use_biquad;\n    } else if (_key == 'shaper') {\n      do_connect = use_shaper;\n    } else {\n      do_connect = true;\n    }\n\n    if (do_connect) {\n      if (prev_key == null) {\n        // first connection is sample destination\n        o.output_node = o[_key];\n      } else {\n        // subsequent connects\n        o[prev_key].connect(o[_key]);\n      }\n\n      prev_key = _key;\n    }\n  } // connect back to system\n\n\n  var end_key = keys[keys.length - 1];\n  o[end_key].connect(_trix_panel.play_node);\n}\n\nfunction connect_instrument_simple(instrument_index) {\n  var o = song.instruments[instrument_index];\n  o.output_node = o.gain;\n  o.gain.connect(_trix_panel.play_node);\n}\n\nfunction dbToY(db, height, pixelsPerDb) {\n  var y = 0.5 * height - pixelsPerDb * db;\n  return y;\n}\n\nfunction draw_biquad_filter(filter, local_rect) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var width = rect.w;\n  var height = rect.h;\n  var line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(180, 0, 40, 255));\n  var grid_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(100, 100, 100, 255));\n  var text_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(255, 255, 255, 255));\n  var dbScale = 60;\n  var pixelsPerDb = 0.5 * height / dbScale;\n  var noctaves = 11;\n  var frequencyHz = new Float32Array(width);\n  var magResponse = new Float32Array(width);\n  var phaseResponse = new Float32Array(width);\n  var nyquist = 0.5 * _trix_panel.context.sampleRate; // First get response.\n\n  for (var i = 0; i < width; ++i) {\n    var f = i / width; // Convert to log frequency scale (octaves).\n\n    f = nyquist * Math.pow(2.0, noctaves * (f - 1.0));\n    frequencyHz[i] = f;\n  }\n\n  filter.getFrequencyResponse(frequencyHz, magResponse, phaseResponse); // grid\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n\n  for (var octave = 0; octave <= noctaves; octave++) {\n    var _x3 = octave * width / noctaves;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + _x3, rect.y + 33);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + _x3, rect.y + height);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // labels\n\n  /*uidraw.push_strokestyle(text_color);\r\n  for (let octave = 1; octave <= noctaves; octave += 2) {\r\n      const x = octave * width / noctaves;\r\n      const f = nyquist * Math.pow(2.0, octave - noctaves);\r\n      let value = f.toFixed(0);\r\n      //let unit = 'Hz';\r\n      let unit = '';\r\n      if (f > 1000) {\r\n          //unit = 'KHz';\r\n          unit = 'K';\r\n          value = (f / 1000).toFixed(1);\r\n      }\r\n        let y_offset = 0;\r\n      if (octave % 2 == 0) {\r\n          y_offset = 20;\r\n      }\r\n      //uidraw.text(value + unit, rect.x + x - 40, rect.y + 14 + y_offset, Color(255,255,255,255));        \r\n  }\r\n  uidraw.pop_strokestyle();*/\n  // Draw 0dB line.\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"](); // Draw decibel scale.    \n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var db = -dbScale; db < dbScale - 10; db += 10) {\n    var _y3 = dbToY(db, height, pixelsPerDb); //uidraw.text(db.toFixed(0) + \"dB\", rect.x + width - 40, rect.y + y);\n\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // redline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y);\n\n  for (var i = 0; i < width; ++i) {\n    var f = magResponse[i];\n    var response = magResponse[i];\n    var dbResponse = 20.0 * Math.log(response) / Math.LN10;\n    var x = i;\n    var y = dbToY(dbResponse, height, pixelsPerDb);\n    if (i == 0) _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x, rect.y + y);else _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x, rect.y + y);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n}\n\nfunction do_instrument_edit(instrument_index) {\n  var _;\n\n  var uiid = '---instrument-edit-' + instrument_index;\n  var name = _trix_panel.instrument_names[instrument_index];\n  var o = song.instruments[instrument_index];\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-convolver-checkbox', 'reverb', Rectangle(0, 0, 100, 24), o.convolver_enabled);\n\n    if (_.changed) {\n      o.convolver_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-shaper-checkbox', 'shaper', Rectangle(0, 0, 100, 24), o.shaper_enabled);\n\n    if (_.changed) {\n      o.shaper_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-biquad-checkbox', 'biquad', Rectangle(0, 0, 100, 24), o.biquad_enabled);\n\n    if (_.changed) {\n      o.biquad_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('source', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-volume', Rectangle(0, 0, 200, 20), 0, 100, o.volume, '');\n\n  if (_.changed) {\n    instrument_set_volume(o, _.value);\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.volume + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-detune', Rectangle(0, 0, 200, 20), -12, 12, o.detune, '');\n\n  if (_.changed) {\n    o.detune = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.detune * 100 + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('biquad filter', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('type', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-type-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.biquad_types.length - 1, o.biquad_type_index, '');\n\n  if (_.changed) {\n    instrument_set_biquad_type(o, _.value);\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.biquad_types[o.biquad_type_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('freq', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-frequency', Rectangle(0, 0, 200, 20), 0, 8000, o.biquad.frequency.value, '');\n\n  if (_.changed) {\n    o.biquad.frequency.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.frequency.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-detune', Rectangle(0, 0, 200, 20), -1200, 1200, o.biquad.detune.value, '');\n\n  if (_.changed) {\n    o.biquad.detune.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.detune.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('q factor', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-qfactor', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.Q.value, '');\n\n  if (_.changed) {\n    o.biquad.Q.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.Q.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('gain', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-gain', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.gain.value, '');\n\n  if (_.changed) {\n    o.biquad.gain.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.gain.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  draw_biquad_filter(o.biquad, Rectangle(0, 0, 400, 200)); // shaper\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('shaper', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('oversample', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-shaper-oversample-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.shaper_oversample_types.length - 1, o.shaper_oversample_index, '');\n\n  if (_.changed) {\n    o.shaper_oversample_index = _.value;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.shaper_oversample_types[o.shaper_oversample_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_instrument_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _; // this uiid is for panel_begin (probably need to rename functions like this (run_instrument_panel or w/e idk))\n\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < _trix_panel.instrument_names.length; i++) {\n      var is_current = i == _trix_panel.selected_instrument_index;\n      var name = _trix_panel.instrument_names[i];\n      var button_text = name;\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-select-instrument-button-' + i, button_text, Rectangle(0, 0, 80, 24), is_current, 4, 2);\n\n      if (_.changed && _.value) {\n        _trix_panel.selected_instrument_index = i;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    do_instrument_edit(_trix_panel.selected_instrument_index);\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction makeDistortionCurve(amount) {\n  // copied\n  var k = typeof amount === 'number' ? amount : 50,\n      n_samples = 44100,\n      curve = new Float32Array(n_samples),\n      deg = Math.PI / 180,\n      i = 0,\n      x;\n\n  for (; i < n_samples; ++i) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n  }\n\n  return curve;\n}\n\n;\n\nfunction do_analyser_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var dim = 20;\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // analyser graph        \n    var graph_w = dim * 16 * 2 + 20;\n    var graph_h = 100;\n    sample_trix_analyser();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, graph_w, graph_h)), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    do_analyser_graph(uiid - '-analyser-graph', Rectangle(0, 0, graph_w, graph_h), _trix_panel.analyser_freqs, _trix_panel.analyser_times);\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_pattern_list_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    do_pattern_list(uiid + '-pattern-list');\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_instrument_list_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    do_instrument_list(uiid + '-instrument-list');\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_pattern_select(uiid, value) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'changed': 0 | false,\n      'value': 0 | value\n    });\n  }\n\n  ;\n  state.changed = 0 | false;\n  var scroll_uiid = uiid + '-scroll';\n  var scroll = do_scroll_begin(scroll_uiid, Rectangle(0, 0, 150, 200), 20, song.patterns.length);\n\n  var _;\n\n  for (var _i3 = scroll.first_visible_index; _i3 < scroll.last_visible_index; _i3++) {\n    do_scroll_item_begin(scroll_uiid, _i3);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button-' + _i3, 'pattern button #' + _i3, Rectangle(0, 0, 150, 20), value == _i3);\n\n    if (_.changed && _.value) {\n      state.changed = true;\n      state.value = 0 | _i3;\n    }\n\n    do_scroll_item_end(scroll_uiid);\n  }\n\n  do_scroll_end(scroll_uiid);\n  return state;\n} // a different kind of hotspot for handling the panel clicks\n// hotspot layers, starting on lowest:\n// 1 panel bg thing (blocks stuff underneath)\n// 2 all content\n// new idea to support click activation of entire panel\n// for supporting partially overlapped panels being brought to front by the click\n// one new layer\n// 3 new kind of hotspot (it will allow panel to react to the click, but not stop the click from going to regular content hotspots beneath)\n\n\nfunction do_instrument_list(uiid) {\n  var scroll_uiid = uiid + '-scroll';\n  var scroll = do_scroll_begin(scroll_uiid, Rectangle(0, 0, 200, 200), 20, song.instruments.length);\n\n  for (var _i4 = scroll.first_visible_index; _i4 < scroll.last_visible_index; _i4++) {\n    do_scroll_item_begin(scroll_uiid, _i4);\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-' + _i4, 'instrument button #' + _i4, Rectangle(0, 0, 200, 20));\n\n    if (_.clicked) console.log('clicked #' + _i4);\n    do_scroll_item_end(scroll_uiid);\n  }\n\n  do_scroll_end(scroll_uiid);\n}\n\nfunction do_song_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var dim = 20;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // play/pause/volume row      \n\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n        var buttons = ['pause', 'play'];\n\n        for (var i = 0; i < buttons.length; i++) {\n          var is_current = i == 1 && _trix_panel.play || i == 0 && !_trix_panel.play;\n          var button_text = buttons[i];\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-playpause-buttons-' + i, button_text, Rectangle(0, 0, 100, 24), is_current, 4, 2);\n\n          if (_.changed && _.value) {\n            if (i == 0) {\n              _trix_panel.play = 0 | false;\n            } else {\n              _trix_panel.play = 0 | true;\n            }\n          }\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](140, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        // master volume\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 24), 0, 100, _trix_panel.volume, '');\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(4, 0, 100, 20));\n\n        if (_.changed) {\n          _trix_panel.volume = _.value;\n          _trix_panel.gain.gain.value = volume_to_gain(_.value);\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // play/pause/volume row    \n\n    do_preset_buttons();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('tempo', Rectangle(0, 0, 200, dim));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-tempo', Rectangle(0, 0, 200, 20), 0, _trix_panel.tempo.length - 1, _trix_panel.tempo_index, '');\n\n    if (_.changed) {\n      _trix_panel.tempo_index = _.value;\n      _trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-stepmode-checkbox', 'manual step mode', Rectangle(0, 0, 200, 20), _trix_panel.step_mode);\n\n    if (_.changed) {\n      _trix_panel.step_mode = _.value;\n    }\n\n    do_tracks_edit();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-schedule-notes-ahead-slider', Rectangle(0, 0, 200, 20), 0, 8, _trix_panel.schedule_x_notes_ahead, '');\n\n      if (_.changed) {\n        _trix_panel.schedule_x_notes_ahead = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('schedule ' + _trix_panel.schedule_x_notes_ahead + ' notes ahead', Rectangle(4, 0, 200, 20));\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // -------------------------------------------------------------------- //\n\n    if (_trix_panel.play) {\n      trix_play();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nvar patterns_editing = [0, 1];\n\nfunction do_app_audio2() {\n  var ox = 200 + 8;\n  var oy = 24 + 8;\n  var row_x0 = ox;\n  var row_y0 = oy;\n\n  var _;\n\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n\n  if (_trix_panel.initialized) {\n    do_tone_panel('tone panel', row_x0 + 727 + 467, row_y0, true, false && false);\n\n    for (var _i5 = 0; _i5 < patterns_editing.length; _i5++) {\n      var pattern_index = patterns_editing[_i5];\n      var is_visible = true; // _trix_panel.pattern_panels_visibility[i];\n\n      _ = do_pattern_panel('pattern-panel-' + _i5, row_x0, row_y0, true || false, true || false, pattern_index);\n\n      if (_.changed) {\n        patterns_editing[_i5] = 0 | _.value;\n      }\n\n      row_x0 += 524;\n    }\n\n    do_instrument_panel('instrument panel', row_x0, row_y0, true, expanded);\n    row_x0 = ox;\n    do_song_panel('song panel', row_x0, row_y0 + 523, true, expanded);\n    do_analyser_panel('analyser panel', row_x0, row_y0, true, false && false); //do_pattern_list_panel('patterns', row_x0 + 368 * 2, row_y0 + 198, true, expanded);\n    //do_instrument_list_panel('instruments', row_x0 + 368 * 2, row_y0 + 468, true, expanded);\n    // do_instrument_panel()\n    // do_pattern_panel()\n    // do_instrument_list_panel()\n    // do_pattern_list_panel()\n  } else {\n    if (AudioContext) {\n      if (!_trix_panel.convolver_data_response) {\n        do_message_panel('loading', row_x0, row_y0, true, true, 'loading samples...');\n      } else if (!_trix_panel.resource_decode_requested) {\n        // use context to decode resources\n        _trix_panel.context = new AudioContext();\n        _tone_panel.context = new AudioContext();\n\n        _trix_panel.context.decodeAudioData(_trix_panel.convolver_data_response, function (buffer) {\n          console.log('[convolver buffer loaded]');\n          _trix_panel.convolver_buffer = buffer;\n        }, function (e) {\n          \"Error decoding audio data\" + e.err;\n        }); // also start other fetches here since contexts are made and this is a one-time block\n        // todo: later: define like 4 loading states\n\n\n        var audio_files = ['piano.ogg', 'bass.ogg', 'kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n        for (var _i6 = 0; _i6 < audio_files.length; _i6++) {\n          fetch_audio(audio_files[_i6]);\n        }\n\n        _trix_panel.resource_decode_requested = 0 | true;\n      } else if (!_trix_panel.convolver_buffer) {\n        // because this panel is only called once... it cannot autosize?                \n        do_message_panel('loading', row_x0, row_y0, true, true, 'decoding data...'); // solved by using the same uiid as earlier panel (loading samples...)\n        // unless that one is never called since convolver response already happened\n        // just define and streamline the loading state, then this problem is folded away\n      } else {\n        _tone_panel.gain1 = _tone_panel.context.createGain();\n        _tone_panel.analyser1 = _tone_panel.context.createAnalyser();\n        _tone_panel.analyser1.fftSize = Math.pow(2, 9);\n        _tone_panel.analyser1_times = new Uint8Array(_tone_panel.analyser1.frequencyBinCount);\n        _tone_panel.analyser1_freqs = new Uint8Array(_tone_panel.analyser1.frequencyBinCount); // system\n\n        _trix_panel.gain = _trix_panel.context.createGain();\n        _trix_panel.gain.gain.value = volume_to_gain(_trix_panel.volume);\n        _trix_panel.compressor = _trix_panel.context.createDynamicsCompressor();\n        _trix_panel.analyser = _trix_panel.context.createAnalyser();\n        _trix_panel.analyser.fftSize = Math.pow(2, 9);\n        _trix_panel.analyser_times = new Uint8Array(_trix_panel.analyser.frequencyBinCount);\n        _trix_panel.analyser_freqs = new Uint8Array(_trix_panel.analyser.frequencyBinCount); // end (should start on play_node)\n        // v <= 0.4.1:\n        //_trix_panel.gain.connect(_trix_panel.compressor);\n        //_trix_panel.compressor.connect(_trix_panel.analyser);\n        // v > 0.4.1:            \n        // https://www.softube.com/index.php?id=eq_before_compressor\n        // \" Placing an EQ before a compressor can have the effect of exaggerating the applied EQ, due to a phenomenon similar to the psychoacoustic effect known as \"frequency masking\". \"\n        // ( gain will give similar problem as eq )\n\n        _trix_panel.play_node = _trix_panel.compressor;\n\n        _trix_panel.compressor.connect(_trix_panel.gain);\n\n        _trix_panel.gain.connect(_trix_panel.analyser);\n\n        _trix_panel.analyser.connect(_trix_panel.context.destination); // later: a 2nd analyser before compressor, drawn in red (freqs only), to show pre-compress\n\n\n        load_preset_a();\n        _trix_panel.initialized = 0 | true;\n      }\n    } else {\n      do_message_panel('audio error', row_x0, row_y0, true, true, 'AudioContext unavailable.');\n    }\n  }\n}\n\nfunction reconnect_instruments() {\n  connect_instrument(0);\n  connect_instrument(1);\n  connect_instrument(2);\n}\n\nfunction add_instrument(sample_key, options) {\n  song.instruments.push(Instrument(sample_key, options));\n  console.log('[add_instrument]', sample_key, options);\n}\n\nfunction load_preset_tracks() {\n  // track_x, track_y, pattern_num\n  song_place_pattern(song, 0, 0, 0);\n  song_place_pattern(song, 0, 1, 1);\n  song_place_pattern(song, 0, 2, 2);\n  song_place_pattern(song, 1, 0, 0);\n  song_place_pattern(song, 1, 1, 1);\n  song_place_pattern(song, 1, 2, 2);\n  song_place_pattern(song, 2, 0, 0);\n  song_place_pattern(song, 2, 1, 1);\n  song_place_pattern(song, 2, 2, 2);\n}\n\nfunction load_preset_a() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 0\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  }); // lodash or something has a function for nested property sets iirc\n\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = 0;\n  song.instruments[0].biquad.Q.value = 10;\n  song.instruments[0].biquad.gain.value = 10;\n  var p0 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_b() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 15,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 70,\n    \"detune\": 0,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 3320;\n  song.instruments[0].biquad.detune.value = 480;\n  song.instruments[0].biquad.Q.value = 33;\n  song.instruments[0].biquad.gain.value = 18;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 192;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 0;\n  var p0 = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_c() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = -444;\n  song.instruments[0].biquad.Q.value = 0;\n  song.instruments[0].biquad.gain.value = 4;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 0;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 8;\n  var p0 = [[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_d() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 39,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = -444;\n  song.instruments[0].biquad.Q.value = 10;\n  song.instruments[0].biquad.gain.value = 10;\n  var p0 = [[0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_e() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 10,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 100,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0,\n    biquad_enabled: 0,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  }); // lodash or something has a function for nested property sets iirc\n\n  song.instruments[0].biquad.frequency.value = 3320;\n  song.instruments[0].biquad.detune.value = 480;\n  song.instruments[0].biquad.Q.value = 33;\n  song.instruments[0].biquad.gain.value = 18;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 192;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 0;\n  var p0 = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0], [1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n} // is it possible to get rid of these setters?\n\n\nfunction instrument_set_biquad_type(o, type_index) {\n  o.biquad_type_index = type_index;\n  o.biquad.type = _trix_panel.biquad_types[type_index];\n}\n\nfunction instrument_set_volume(o, value) {\n  o.volume = value;\n  o.gain.gain.value = volume_to_gain(value);\n} ////////////////////////-////////////////////////-////////////////////////-////////////////////////-\n\n\nload_convolver_buffer();\n\n\n//# sourceURL=webpack:///./src/simpleui_app_audio2.js?");

/***/ }),

/***/ "./src/simpleui_app_demo.js":
/*!**********************************!*\
  !*** ./src/simpleui_app_demo.js ***!
  \**********************************/
/*! exports provided: do_app_demo, do_background_anim, do_sidepanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_demo\", function() { return do_app_demo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_background_anim\", function() { return do_background_anim; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_sidepanel\", function() { return do_sidepanel; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony import */ var _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_ex_scroll.js */ \"./src/simpleui_ex_scroll.js\");\n/* harmony import */ var _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_linestar.js */ \"./src/simpleui_ex_linestar.js\");\n\n\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"]; //const Rectangle = ui.Rectangle;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\n\nfunction init_array(size, init_val) {\n  var a = [];\n\n  for (var i = 0; i < size; i++) {\n    a[i] = init_val;\n  }\n\n  return a;\n}\n\nfunction sum(a) {\n  var result = 0 | 0;\n\n  for (var i = 0; i < a.length; i++) {\n    var v = a[i];\n    result = result + v;\n  }\n\n  return result;\n}\n\nconsole.assert(sum([1, 2, 3]) == 6);\n\nfunction randomize_color(color) {\n  var a = [0, 1, 2];\n\n  for (var i = 0; i < a.length; i++) {\n    var k = a[i];\n    var v = 50 + Math.round(Math.random() * 150);\n    color[k] = v;\n  }\n}\n\nfunction do_color(uiid, color, label) {\n  var _;\n\n  var changed = false | 0; // base component sizes\n\n  var h = 24 | 0;\n  var w = h * 5 | 0;\n  var rect = RectangleP(0, 0, w, h);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    // label & sliders\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label, rect);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-r', rect, 0, 255, color[_r], 'r');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_r] = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-g', rect, 0, 255, color[_g], 'g');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_g] = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-b', rect, 0, 255, color[_b], 'b');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_b] = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-a', rect, 0, 255, color[_a], 'a');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_a] = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // swatch\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    var pad = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]().padding; // parent pad\n\n    {\n      // this increment moves the swatch down so it aligns with the sliders, not the label                    \n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, h);\n      var swatch_dim = h * 3 + pad * 2;\n      var swatch_rect = RectangleP(0, 0, swatch_dim, swatch_dim); //ui.rectangle(swatch_rect, color);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](swatch_rect), color);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](swatch_rect);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-rand-button', 'random', RectangleP(0, 0, swatch_dim, h));\n\n      if (_.clicked) {\n        randomize_color(color);\n        changed = true | 0;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      value: null\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = color;\n  return state; //return {changed: 0 | changed, value: color};\n}\n\nfunction do_ms_meter(uiid, a_time, high_value) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'times': init_array(30, 0)\n    });\n  }\n\n  var times = state.times;\n  times.push(a_time);\n  times.shift(); //let high_value = 32;\n\n  var value = 0 | sum(times) / times.length;\n  var constrained_value = 0 | Math.floor(Math.min(high_value, value));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"](uiid + '-progbar', RectangleP(0, 0, 100, 20), high_value, 0 | constrained_value);\n  var tmp = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = true;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](value + 'ms', RectangleP(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = tmp;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_ms_graph(uiid, a_time, graph_height) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'times': init_array(30, 0)\n    });\n  }\n\n  var times = state.times;\n  times.push(a_time);\n  times.shift(); //let graph_height = 40;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, 0);\n\n  for (var i = 0; i < times.length; i++) {\n    var v = 0 | Math.min(graph_height, times[i]);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](RectangleP(0, 0, 4, v), ColorP(255, 255, 255, 51));\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, graph_height);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction sidelabel(text) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](text, RectangleP(0, 5, 100, 24));\n}\n\nfunction do_sidepanel() {\n  var _;\n\n  var pad = 8; //let none1 = ui.layout_push(_none, 0, 0, 0);\n\n  var rect = RectangleP(0, 0, 200, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetClientHeight() | 0); //let rect2 = uidraw.rectangle_erode(rect, 2);\n\n  var sidepanel_color = ColorP(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_r], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_g], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_b], 127);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](rect, sidepanel_color); //let vert1 = \n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, pad, pad, pad);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('simpleui v' + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_version\"](), RectangleP(0, 0, 100, 20)); // reload\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"]('sidepanel-reload-button', 'reload', RectangleP(0, 0, 100, 24));\n\n    if (_.clicked) {\n      document.location.reload(true);\n    } // desktop select\n\n\n    sidelabel('panels');\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, -1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < app.desktops.length; i++) {\n      var name = app.desktops[i];\n      var is_desktop_active = 0 | name == app.desktop;\n      var button_text = name;\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"]('sidepanel-desktop-button-' + i, button_text, RectangleP(0, 0, 100, 24), is_desktop_active);\n\n      if (_.changed && _.value) {\n        app.desktop = name;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // mouse status :->\n\n    {\n      var w_ = 180; // max-width\n\n      var aspect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetClientWidth() / _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetClientHeight();\n      var h_ = 0 | w_ / aspect;\n\n      if (h_ > 100) {\n        // max-height\n        w_ = w_ * 100 / h_;\n        h_ = 100;\n      }\n\n      var w = 0 | w_;\n      var h = 0 | h_;\n      sidelabel('mouse status');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](RectangleP(0, 0, w, h), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n      var cursor_size = 0 | 4;\n\n      if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held) {\n        cursor_size = 0 | 8;\n      }\n\n      var radar_cursor_pos_x = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorX() / canvas.width * w - cursor_size / 2;\n      var radar_cursor_pos_y = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorY() / canvas.height * w / aspect - cursor_size / 2;\n      var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, layout.padding, layout.x, layout.y - h - pad);\n      var mouse_rect = RectangleP(0 | radar_cursor_pos_x, 0 | radar_cursor_pos_y, 0 | cursor_size, 0 | cursor_size);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](mouse_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](mouse_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // padding\n\n    sidelabel('padding');\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('sidepanel-padding-slider', RectangleP(0, 0, 100, 20), 0, 12, app.panel_layout_padding, '');\n\n    if (_.changed) {\n      app.panel_layout_padding = _.value;\n    } // cpu (not reasonably possible in js)\n    // frame times + graph\n\n\n    sidelabel('frame time');\n    do_ms_meter('sidepanel-ms-meter', app.main_loop_time, 50);\n    do_ms_graph('sidepanel-frame-graph', app.main_loop_time, 20); // actual times + graph\n\n    sidelabel('cpu time per frame');\n    do_ms_meter('sidepanel-actual-meter', app.main_proc_time, 10);\n    do_ms_graph('sidepanel-actual-graph', app.main_proc_time, 20); // memory\n\n    do_memory_graphs(); // canvas size hack\n    // disabling until i do it with flicker\n\n    /*\r\n    ui.label('canvas trim', RectangleP(0, 0, 100, 20));\r\n    ui.layout_push(_horizontal);\r\n    _ = ui.slider('sidepanel-canvas-size-hack-slider', RectangleP0, 0, 100, 20), 0, 60, app.canvas_size_hack, '');\r\n    if (_.changed) {\r\n        app.canvas_size_hack = _.value;\r\n        set_size();\r\n    }\r\n    ui.label(app.canvas_size_hack + 'px', RectangleP(0, 0, 100, 20));\r\n    ui.layout_pop();\r\n    */\n    // show/hides\n\n    /*{\r\n        let panels = ['color panel', 'gradient panel', 'gridfont paneli', 'scroll test panel'];\r\n          for (let i = 0; i < panels.length; i++) {\r\n            let uiid = panels[i];\r\n            let panel = ui.get_state(uiid);\r\n            _ = ui.checkbutton('sidepanel-toggle-' + uiid, 'show ' + uiid, RectangleP(0, 0, 183, 24), panel && panel.visible);\r\n            if (_.changed) {\r\n                panel.visible = !panel.visible;\r\n            }\r\n        }\r\n    }*/\n    // misc\n\n    if (false) { var mem2, mem1, memory; } // flags\n\n\n    {\n      // editor help for function arguments needs some hjalp\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"]('button-rtc', 'reset text cache', RectangleP(0, 0, 150, 24));\n      if (_.clicked) _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].ResetDrawTextCache(); //_ = ui.button('button-rbc', 'reset box cache', RectangleP(0, 0, 150, 24));\n      //if (_.clicked) _drawbox_cache = {};\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawtext_bitmap checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap);\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('drawtext bitmap', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawhotspots_enable checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawhotspots_enable); // todo: move this let to ui.config.\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawhotspots_enable = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw hotspots', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawtext_enable checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable);\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw text', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawbox_gradient', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient_enable);\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient_enable = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('drawbox gradient', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_color_row(obj, keys) {\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n    do_color('color_' + k, obj[k], k);\n  }\n}\n\nfunction do_color_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // row 1\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['accent', 'panel_color', 'bg_color']);\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // row 2\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['normal_back', 'normal_face', 'activating_face']);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // row 3\n\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, peek.padding, peek.x + 202, peek.y);\n    do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['raised_face', 'raised_accent']);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n}\n\nfunction do_gradient_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var changed = 0 | false;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      //const min_x = -50;\n      //const max_x = 150;\n      var min_y = -50;\n      var max_y = 150; //const dim_w = max_x - min_x;\n\n      var dim_h = max_y - min_y;\n      _ = Object(_simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_4__[\"do_gradient_stroke_edit\"])(uiid + 'stroke-edit', -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2);\n\n      if (_.changed) {\n        changed = 0 | changed || _.changed;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 = 0 | _.x1;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1 = 0 | _.y1;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 = 0 | _.x2;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2 = 0 | _.y2;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-x1', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, 'x1');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-y1', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, 'y1');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-x2', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, 'x2');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-y2', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, 'y2');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2 = 0 | _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('pt1: ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 + ', ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, RectangleP(0, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('pt2: ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 + ', ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, RectangleP(0, 0, 200, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, dim_h);\n    } // horizontal 1                \n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = do_color('box_gradient.color_stop1', _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, 'stop1 color');\n      changed = 0 | changed || _.changed;\n      _ = do_color('box_gradient.color_stop2', _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2, 'stop2 color');\n      changed = 0 | changed || _.changed;\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n\n    if (changed && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].config.has_drawbox_gradient) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].CreateDrawboxGradient(context, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2);\n    }\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n}\n\nfunction do_gridfont_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'uiid': uiid,\n      'run': 0 | true,\n      'reset': 0 | false\n    });\n  } // cannot shared panel uiid here since do_gridfont_panel has state (above) (keyed by uiid)\n\n\n  var panel_uiid = uiid + 'i';\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(panel_uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-test-button', 'gridfont ' + (state.run ? 'stop' : 'run'), RectangleP(0, 0, 150, 24));\n\n    if (_.clicked) {\n      state.run = 0 | !state.run;\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-test-button2', 'gridfont reset', RectangleP(0, 0, 150, 24));\n\n    if (_.clicked) {\n      state.reset = 0 | true;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 24);\n    var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0, 0, 0, 0));\n    var complete = 0 | (state.run && true);\n    var reset_complete = 0 | (state.reset && true);\n\n    if (state.run) {\n      _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont1', 'abcdefghijklmnopqrstuvwxyz', 'hint-four', rect.x, rect.y, 10, state.reset);\n      complete = 0 | (complete && _.complete);\n      reset_complete = 0 | (reset_complete && _.reset_complete);\n\n      if (_.complete || state.reset && _.reset_complete) {\n        _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont2', 'leverage agile frameworks', 'hint-four', rect.x, 0 | rect.y + 10 * 7, 10, state.reset);\n        complete = 0 | (complete && _.complete);\n        reset_complete = 0 | (reset_complete && _.reset_complete);\n\n        if (_.complete || state.reset && _.reset_complete) {\n          _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont3', 'provide robust synopsis', 'hint-four', rect.x, 0 | rect.y + 20 * 7, 10, state.reset);\n          complete = 0 | (complete && _.complete);\n          reset_complete = 0 | (reset_complete && _.reset_complete);\n        }\n      }\n    }\n\n    if (reset_complete) {\n      state.reset = 0 | 0;\n    }\n\n    if (complete) {\n      state.reset = 0 | 1;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](780, 10 * 7 * 3 + 40);\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(panel_uiid);\n}\n\nvar _linestar_segments = 13;\nvar _linestar_segments_direction = 1;\nvar _linestar_segments_accumulator = 0;\nvar _linestar_segments_accumulator_max = 17;\nvar _linestar_joints = 12;\nvar _linestar_joints_direction = 1;\nvar _linestar_joints_accumulator = 0;\nvar _linestar_joints_accumulator_max = 5;\nvar _linestar_webs = 0;\n\nvar _linestar_anim_enabled = 0 | false;\n\nfunction do_linestar_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var _ = Object(_simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__[\"do_linestar_edit\"])(uiid + '-linestar-edit', _linestar_segments, _linestar_joints, _linestar_webs);\n\n    if (_.changed) {\n      _linestar_segments = _.segments;\n      _linestar_joints = _.joints;\n      _linestar_webs = _.webs;\n    } else if (_linestar_anim_enabled) {\n      _linestar_segments_accumulator++;\n\n      if (_linestar_segments > 20 || _linestar_segments < 3) {\n        _linestar_segments = Math.max(3, Math.min(20, _linestar_segments));\n        _linestar_segments_direction = -_linestar_segments_direction;\n      }\n\n      if (_linestar_segments_accumulator == _linestar_segments_accumulator_max) {\n        _linestar_segments = _linestar_segments + _linestar_segments_direction;\n        _linestar_segments_accumulator = 0;\n      }\n\n      _linestar_joints_accumulator++;\n\n      if (_linestar_joints > 20 || _linestar_joints < 3) {\n        _linestar_joints = Math.max(3, Math.min(20, _linestar_joints));\n        _linestar_joints_direction = -_linestar_joints_direction;\n      }\n\n      if (_linestar_joints_accumulator == _linestar_joints_accumulator_max) {\n        _linestar_joints = _linestar_joints + _linestar_joints_direction;\n        _linestar_joints_accumulator = 0;\n      }\n    }\n\n    var label = (_linestar_anim_enabled ? 'disable' : 'enable') + ' idle animation';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-enable-anim-button', label, RectangleP(0, 0, 200, 24), _linestar_anim_enabled);\n\n    if (_.changed) {\n      _linestar_anim_enabled = _.value;\n    }\n\n    var rect = RectangleP(0, 0, 200, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-1', rect, 1, 20, _linestar_segments_accumulator_max, '');\n\n    if (_.changed) {\n      _linestar_segments_accumulator = 0;\n      _linestar_segments_accumulator_max = 0 | _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('segment anim delay', rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-2', rect, 1, 20, _linestar_joints_accumulator_max, '');\n\n    if (_.changed) {\n      _linestar_joints_accumulator = 0;\n      _linestar_joints_accumulator_max = 0 | _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('joint anim delay', rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction do_scrolltest_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // todo: design so that when i remove the scroll widget, the contained widgets will just render as usual (no glue)\n    var scroll_uiid = uiid + '-scroll';\n    var scroll = Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_begin\"])(scroll_uiid, RectangleP(0, 0, 200, 200), 20, 10000); // todo:\n    // maybe an opt-in api for widgets to call to see if they are... \"in view\"\n    // if (!in_view(uiid)) { return null; } // or something\n\n    for (var i = scroll.first_visible_index; i < scroll.last_visible_index; i++) {\n      Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_item_begin\"])(scroll_uiid, i);\n\n      var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-' + i, 'button #' + i, RectangleP(0, 0, 200, 20));\n\n      if (_.clicked) console.log('clicked #' + i);\n      Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_item_end\"])(scroll_uiid);\n    }\n\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_end\"])(scroll_uiid);\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nvar _used_heap_size = 0 | 0;\n\nvar _uhs_sample_counter = 0 | 0;\n\nfunction do_memory_graphs() {\n  if (window.performance) {\n    var high_value = 100 * 1024 * 1024;\n    var label_value;\n    sidelabel('memory');\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"]('--memory-graph-progbar', RectangleP(0, 0, 100, 20), high_value, 0 | window.performance.memory.usedJSHeapSize); // total heap memory    \n\n    _uhs_sample_counter++;\n\n    if (_uhs_sample_counter == 10) {\n      _used_heap_size = window.performance.memory.usedJSHeapSize / 1024;\n      _uhs_sample_counter = 0;\n    }\n\n    label_value = 0 | _used_heap_size;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label_value + 'k', RectangleP(0, 0, 100, 20), ColorP(255, 255, 255, 255));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"]('--memory-graph-progbar2', RectangleP(0, 0, 100, 20), high_value, 0 | window.performance.memory.totalJSHeapSize); // currently used heap memory\n\n    label_value = 0 | window.performance.memory.totalJSHeapSize / 1024 / 1024;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label_value + 'meg', RectangleP(0, 0, 100, 20), ColorP(255, 255, 255, 255));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n}\n/** create random point, with no zero components */\n\n\nfunction random_anim_vector() {\n  var vecx = 0 | 1;\n  var vecy = 0 | 1;\n\n  if (Math.random() < 0.5) {\n    vecx = -vecx;\n  }\n\n  if (Math.random() < 0.5) {\n    vecy = -vecy;\n  }\n\n  m_v8.assert_smi(vecx);\n  m_v8.assert_smi(vecy);\n  return Point(vecx, vecy);\n}\n\nvar anim_items = [PointP(0, 0)];\nvar anim_vectors = [random_anim_vector()];\nvar anim_color1 = make_css_color(Color(255, 255, 255, 8));\nvar anim_color2 = make_css_color(Color(255, 255, 255, 8));\n\nvar _bg_init = 0 | false;\n\nfunction do_background_anim() {\n  if (!_bg_init) {\n    for (var i = 1; i < 100; i++) {\n      var randx = 0 | Math.random() * canvas.width * 3 - canvas.width;\n      var randy = 0 | Math.random() * canvas.height * 3 - canvas.height;\n      anim_items.push(PointP(randx, randy));\n      anim_vectors.push(random_anim_vector());\n    }\n\n    _bg_init = 0 | true;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](0, 0);\n\n  for (var _i = 0; _i < anim_items.length; _i++) {\n    var item = anim_items[_i];\n    var vec = anim_vectors[_i];\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](item.x, item.y); // update positions from vectors                \n\n    item.x = 0 | item.x + vec.x;\n    item.y = 0 | item.y + vec.y;\n    var min_x = 0 | -canvas.width;\n    var max_x = 0 | canvas.width * 2;\n    var min_y = 0 | -canvas.height;\n    var max_y = 0 | canvas.height * 2;\n    m_v8.assert_smi(item.x);\n    m_v8.assert_smi(item.y);\n    m_v8.assert_smi(vec.x);\n    m_v8.assert_smi(vec.y); // reverse vectors when out of bounds\n\n    if (item[0] < min_x || item[0] > max_x) {\n      vec[0] *= -1;\n    }\n\n    if (item[1] < min_y || item[1] > max_y) {\n      vec[1] *= -1; //vec[1] = 0 | -vec[1];\n    }\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](anim_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // todo: uidraw.custom_line2(x1, y1, x2, y2, width, style)\n\n  var dash_scale = 20;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([1 * dash_scale, 3 * dash_scale, 3 * dash_scale, 5 * dash_scale, 5 * dash_scale, 8 * dash_scale, 8 * dash_scale, 13 * dash_scale]);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](anim_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"](); // todo: uidraw.custom_line3(x1, y1, x2, y2, width, style, dash)\n}\n\nfunction do_app_demo() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_linestar_panel('linestar panel', row_x0, row_y0, true, expanded);\n  var row_x1 = row_x0 + 465;\n  do_color_panel('color panel', row_x1, row_y0, true, expanded);\n  var row_x2 = row_x1 + 666;\n  do_gradient_panel('gradient panel', row_x2, row_y0, true, expanded);\n  do_gridfont_panel('gridfont panel ', row_x1, 547 + 27 - 40 - 3, true, expanded);\n  do_scrolltest_panel('scroll test panel', 1579 - 30 - 12, 486 + 25 - 42, true, expanded);\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_demo.js?");

/***/ }),

/***/ "./src/simpleui_consts.js":
/*!********************************!*\
  !*** ./src/simpleui_consts.js ***!
  \********************************/
/*! exports provided: _Hovered, _Held, _none, _vertical, _horizontal, _r, _g, _b, _a, _left, _middle, _right, _complete, _reset_complete, _segment, _partial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_Hovered\", function() { return _Hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_Held\", function() { return _Held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_none\", function() { return _none; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_vertical\", function() { return _vertical; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_horizontal\", function() { return _horizontal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_r\", function() { return _r; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_g\", function() { return _g; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_b\", function() { return _b; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_a\", function() { return _a; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_left\", function() { return _left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_middle\", function() { return _middle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_right\", function() { return _right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_complete\", function() { return _complete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_reset_complete\", function() { return _reset_complete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_segment\", function() { return _segment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_partial\", function() { return _partial; });\n// todo: later: const namespace import or something i guess ( \"namespaced constants\" probably eventually too )\n// drawstate\nvar _Hovered = 0 | 0;\nvar _Held = 1 | 0; // layout modes\n\nvar _none = 0 | 0;\nvar _vertical = 1 | 0;\nvar _horizontal = 2 | 0; // later: 'grid', 'columns', 'rows'\n// colors\n\nvar _r = 0 | 0;\nvar _g = 1 | 0;\nvar _b = 2 | 0;\nvar _a = 3 | 0; // mouse buttons\n\nvar _left = 0 | 0;\nvar _middle = 1 | 0;\nvar _right = 2 | 0; // gridfont & gridfont_letter\n\nvar _complete = 0 | 0;\nvar _reset_complete = 1 | 0;\nvar _segment = 2 | 0;\nvar _partial = 3 | 0;\n\n//# sourceURL=webpack:///./src/simpleui_consts.js?");

/***/ }),

/***/ "./src/simpleui_drawing.js":
/*!*********************************!*\
  !*** ./src/simpleui_drawing.js ***!
  \*********************************/
/*! exports provided: default_text_color, default_line_color, default_fill_color, accent, bg_color, panel_color, normal_back, normal_face, activating_face, raised_face, raised_accent, focus_back, focus_face, font_size, color_white, color_black, box_gradient, get_centered_offsets, vertical_center_text, rectangle_erode, rectangle_dilate, point_translate, text, rectangle, rectangle3d, rectangle_outline, rectangle_soft, rectangle_soft_right, rectangle_soft_left, rectangle_soft_top, rectangle_soft_bottom, circle, circle_outline, line, label, button, button_held, button_hovered, checkbox, checkbox_held, checkbox_hovered, progressbar, slider, vslider, checkbutton, checkbutton_soft_right, checkbutton_soft_left, checkbutton_soft_top, checkbutton_soft_bottom, handle, handle_held, handle_hovered, reticle, commands, push_strokestyle, pop_strokestyle, push_fillstyle, pop_fillstyle, push_linewidth, pop_linewidth, push_linedash, pop_linedash, stroke, begin_path, move_to, line_to, begin_clip, end_clip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_text_color\", function() { return default_text_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_line_color\", function() { return default_line_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_fill_color\", function() { return default_fill_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"accent\", function() { return accent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bg_color\", function() { return bg_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"panel_color\", function() { return panel_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normal_back\", function() { return normal_back; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normal_face\", function() { return normal_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activating_face\", function() { return activating_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"raised_face\", function() { return raised_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"raised_accent\", function() { return raised_accent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focus_back\", function() { return focus_back; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focus_face\", function() { return focus_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"font_size\", function() { return font_size; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"color_white\", function() { return color_white; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"color_black\", function() { return color_black; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"box_gradient\", function() { return box_gradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_centered_offsets\", function() { return get_centered_offsets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vertical_center_text\", function() { return vertical_center_text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_erode\", function() { return rectangle_erode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_dilate\", function() { return rectangle_dilate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"point_translate\", function() { return point_translate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"text\", function() { return draw_text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle\", function() { return draw_rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle3d\", function() { return draw_rectangle3d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_outline\", function() { return draw_rectangle_outline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft\", function() { return draw_rectangle_soft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_right\", function() { return draw_rectangle_soft_right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_left\", function() { return draw_rectangle_soft_left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_top\", function() { return draw_rectangle_soft_top; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_bottom\", function() { return draw_rectangle_soft_bottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"circle\", function() { return draw_circle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"circle_outline\", function() { return draw_circle_outline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line\", function() { return draw_line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"label\", function() { return draw_label; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button\", function() { return button; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button_held\", function() { return button_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button_hovered\", function() { return button_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox\", function() { return checkbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox_held\", function() { return checkbox_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox_hovered\", function() { return checkbox_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"progressbar\", function() { return progressbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"slider\", function() { return draw_slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vslider\", function() { return draw_vslider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton\", function() { return draw_checkbutton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_right\", function() { return draw_checkbutton_soft_right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_left\", function() { return draw_checkbutton_soft_left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_top\", function() { return draw_checkbutton_soft_top; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_bottom\", function() { return draw_checkbutton_soft_bottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle\", function() { return handle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle_held\", function() { return handle_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle_hovered\", function() { return handle_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reticle\", function() { return draw_reticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"commands\", function() { return commands; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_strokestyle\", function() { return push_strokestyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_strokestyle\", function() { return pop_strokestyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_fillstyle\", function() { return push_fillstyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_fillstyle\", function() { return pop_fillstyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_linewidth\", function() { return push_linewidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_linewidth\", function() { return pop_linewidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_linedash\", function() { return push_linedash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_linedash\", function() { return pop_linedash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stroke\", function() { return stroke; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"begin_path\", function() { return begin_path; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"move_to\", function() { return move_to; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_to\", function() { return line_to; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"begin_clip\", function() { return begin_clip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"end_clip\", function() { return end_clip; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_driver_html5_canvas.js */ \"./src/simpleui_driver_html5_canvas.js\");\nfunction _readOnlyError(name) { throw new Error(\"\\\"\" + name + \"\\\" is read-only\"); }\n\n\n\n // later: these will be in a var/obj/namespace here, so i can switch to other drivers\n\n\nvar commands = [];\nvar _Hovered = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_Hovered\"];\nvar _Held = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_Held\"];\nvar round = Math.round;\nvar default_text_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar default_line_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar default_fill_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255);\nvar accent = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(120, 180, 140, 127);\nvar bg_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(91 - 15, 98 - 15, 96 - 15, 255);\nvar panel_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(46, 46, 46, 255);\nvar normal_back = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(36, 36, 36, 255);\nvar normal_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(72, 72, 72, 255);\nvar activating_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 204, 123, 0 | 255 * 0.8);\nvar raised_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(180 - 10, 180 + 9 - 10, 180 - 3 - 10, 255);\nvar raised_accent = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(250, 255, 240, 255);\nvar focus_back = normal_back;\nvar focus_face = normal_face;\nvar font_size = Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"GetFontSize\"])();\nvar color_white = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar color_black = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255);\nvar box_gradient = {\n  x1: 80,\n  y1: 22,\n  x2: 85,\n  y2: -32,\n  color_stop1: Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 50),\n  // was 38\n  color_stop2: Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 144)\n}; // > no-alpha debug mode\n\nif (false) {} // center 2 rectangles on each other, return x & y offsets\n\n\nfunction get_centered_offsets(rect1, rect2) {\n  var ox = round((rect1.w - rect2.w) / 2);\n  var oy = round((rect1.h - rect2.h) / 2);\n  return [0 | ox, 0 | oy];\n}\n\nfunction get_vertical_centered_text_offset(h) {\n  var height_delta = 0 | h - font_size;\n  var y_offset = 0 | height_delta / 2;\n  return y_offset;\n} // get_center_offset(rect.y, rect.h)\n\n\nfunction vertical_center_text(rect) {\n  var y_offset = get_vertical_centered_text_offset(rect.h);\n  var result = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"])(0 | rect.x, 0 | rect.y + y_offset);\n  return result;\n}\n/*function rectangle_center(rect) {\r\n    return Point(rect.x + rect.w / 2, rect.y + rect.h / 2);\r\n}*/\n\n/*function rectangle_offset(rect, offset) {\r\n    return RectangleP(0 | rect.x + offset, 0 | rect.y + offset, 0 | rect.w, 0 | rect.h);\r\n}*/\n\n/*function rectangle_offset_xy(rect, offset_x, offset_y) {\r\n    return RectangleP(0 | rect.x + offset_x, 0 | rect.y + offset_y, 0 | rect.w, 0 | rect.h);\r\n}*/\n\n\nfunction rectangle_erode(rect, amount) {\n  return Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(0 | rect.x + amount, 0 | rect.y + amount, 0 | rect.w - amount * 2, 0 | rect.h - amount * 2);\n}\n\nfunction rectangle_dilate(rect, amount) {\n  return rectangle_erode(rect, -amount);\n}\n/*function rectangle_underline(rect, size) {\r\n    return Rectangle(rect.x, rect.y+rect.h-size, rect.w, size);\r\n}*/\n\n\nfunction point_translate(pt, x, y) {\n  pt.x = 0 | pt.x + x;\n  pt.y = 0 | pt.y + y;\n  return pt;\n}\n\nfunction draw_text(text, x, y, color) {\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable) {\n    Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawText\"])(text, x, y, color); //commands.push(DrawText, 4, text, x, y, color);\n  }\n}\n\nvar draw_rectangle = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox\"];\nvar draw_rectangle3d = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3d\"]; //\n\nvar draw_rectangle_outline = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxOutline\"]; //\n\nvar draw_rectangle_soft = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoft\"];\nvar draw_rectangle_soft_right = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftRight\"];\nvar draw_rectangle_soft_left = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftLeft\"];\nvar draw_rectangle_soft_top = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftTop\"];\nvar draw_rectangle_soft_bottom = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftBottom\"]; //\n\nvar draw_rectangle3d_soft = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoft\"];\nvar draw_rectangle3d_soft_right = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftRight\"];\nvar draw_rectangle3d_soft_left = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftLeft\"];\nvar draw_rectangle3d_soft_top = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftTop\"];\nvar draw_rectangle3d_soft_bottom = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftBottom\"]; //\n\nvar draw_circle = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawCircle\"];\nvar draw_circle_outline = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawCircleOutline\"];\nvar draw_line = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawLine\"];\n\nfunction draw_label(text, rect, color) {\n  draw_text(text, 0 | rect.x, 0 | rect.y, color);\n}\n\nfunction button(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect1, normal_face); // todo? draw_rectangle3d_soft_erode(rect, normal_face, 1);\n\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  draw_label(text, text_pos); //draw_label\n}\n\nfunction button_held(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect, activating_face);\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  text_pos.y = text_pos.y + 1;\n  draw_label(text, text_pos);\n}\n\nfunction button_hovered(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect1, accent);\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  draw_label(text, text_pos);\n}\n\nfunction checkbox(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), normal_face);\n\n  if (value) {\n    draw_rectangle3d(rectangle_erode(rect, 4), color_white);\n  }\n}\n\nfunction checkbox_held(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), activating_face);\n\n  if (value) {\n    draw_rectangle3d(rectangle_erode(rect, 4), color_white);\n  } else {\n    draw_rectangle3d(rectangle_erode(rect, 4), Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"])(255, 255, 255, 127));\n  }\n}\n\nfunction checkbox_hovered(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), accent);\n\n  if (value) {\n    draw_rectangle3d(rectangle_erode(rect, 4), color_white);\n  }\n}\n\nfunction progressbar(rect, max, value) {\n  var rect2 = rectangle_erode(rect, 2);\n  draw_rectangle3d(rect, normal_back);\n  var progw = 0 | rect2.w * (value / max);\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, progw, rect2.h);\n  draw_rectangle3d_soft(progrect, accent);\n}\n\nfunction draw_slider(uiid, rect, state, min, max, value, handle_label) {\n  console.assert(handle_label != null);\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent = rel_value / range;\n  var rect1 = rectangle_erode(rect, 1);\n  var rect2 = rectangle_erode(rect, 2);\n  var progw = 0 | rect2.w * value_percent;\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, progw, rect2.h); // handle\n\n  var handledim = 0 | rect1.h;\n  var handlew = handledim / 4;\n  var handlepos = 0 | (rect1.w - handlew) * value_percent + handledim / 2;\n  var rectx = 0 | rect1.x + handlepos - handledim / 2;\n  var recty = 0 | rect1.y;\n  var hrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rectx, recty + 1, handlew, handledim - 2);\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d_soft(progrect, accent);\n\n  if (state[_Held]) {\n    draw_rectangle3d(hrect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_rectangle3d(hrect, raised_accent);\n  } else {\n    // normal\n    draw_rectangle3d(hrect, raised_face);\n  }\n\n  if (handle_label) {\n    var textx = 0 | rect.x + rect.w - 16;\n    var texty = 0 | hrect.y + hrect.h / 2 - 8;\n    draw_text(handle_label, textx, texty, color_white);\n  }\n}\n\nfunction draw_vslider(uiid, rect, state, min, max, value, handle_label) {\n  /*m_v8.assert_smi(rect.x);\r\n  m_v8.assert_smi(rect.y);\r\n  m_v8.assert_smi(rect.w);\r\n  m_v8.assert_smi(rect.h);\r\n  m_v8.assert_smi(state[_Hovered]);\r\n  m_v8.assert_smi(state[_Held]);\r\n  m_v8.assert_smi(min);\r\n  m_v8.assert_smi(max);\r\n  m_v8.assert_smi(value);*/\n  console.assert(handle_label != null);\n  console.assert(handle_label != undefined);\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent = rel_value / range;\n  var rect1 = rectangle_erode(rect, 1);\n  var rect2 = rectangle_erode(rect, 2);\n  var progh = 0 | rect2.h * value_percent;\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, rect2.w, progh); // handle\n\n  var handledim = 0 | rect1.w;\n  var handleh = 0 | handledim / 4;\n  var handlepos = 0 | (rect1.h - handleh) * value_percent + handledim / 2;\n  var rectx = 0 | rect1.x;\n  var recty = 0 | rect1.y + handlepos - handledim / 2;\n  var hrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rectx + 1, recty, handledim - 2, handleh);\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d_soft(progrect, accent);\n\n  if (state[_Held]) {\n    draw_rectangle3d(hrect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_rectangle3d(hrect, raised_accent);\n  } else {\n    // normal\n    draw_rectangle3d(hrect, raised_face);\n  }\n\n  if (handle_label) {\n    var textx = 0 | hrect.x + hrect.w / 2 - 5;\n    var texty = 0 | rect.y + rect.h - 16;\n    draw_text(handle_label, textx, texty, color_white);\n  }\n}\n\nfunction draw_checkbutton(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d);\n}\n\nfunction draw_checkbutton_soft_right(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_right);\n}\n\nfunction draw_checkbutton_soft_left(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_left);\n}\n\nfunction draw_checkbutton_soft_top(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_top);\n}\n\nfunction draw_checkbutton_soft_bottom(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_bottom);\n}\n\nfunction draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, fn_draw_rectangle) {\n  var rect1 = rectangle_erode(rect, 1);\n  fn_draw_rectangle(rect, normal_back);\n\n  if (state[_Held]) {\n    fn_draw_rectangle(rect1, activating_face);\n  } else if (state[_Hovered]) {\n    fn_draw_rectangle(rect1, accent);\n  } else {\n    // normal\n    if (value) {\n      fn_draw_rectangle(rect1, accent);\n    } else {\n      fn_draw_rectangle(rect1, normal_face);\n    }\n  }\n\n  var text_pos;\n\n  if (text_offset_x == null || text_offset_y == null) {\n    text_pos = point_translate(vertical_center_text(rect1), 3, 0);\n  } else {\n    var rect_text = rectangle_erode(rect, 1);\n    text_pos = point_translate(rect_text, text_offset_x, text_offset_y);\n  }\n\n  if (state[_Held]) {\n    text_pos.y = text_pos.y + 1;\n    draw_label(text, text_pos);\n  } else {\n    draw_label(text, text_pos);\n  }\n}\n\nfunction handle(rect) {\n  draw_rectangle(rect, normal_back);\n}\n\nfunction handle_held(rect) {\n  handle(rect);\n  draw_rectangle(rectangle_erode(rect, 1), activating_face);\n}\n\nfunction handle_hovered(rect) {\n  handle(rect);\n  draw_rectangle(rectangle_erode(rect, 1), accent);\n}\n\nfunction draw_reticle(uiid, rect, state) {\n  push_linewidth(6);\n\n  if (state[_Held]) {\n    draw_circle_outline(rect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_circle_outline(rect, accent);\n  } else {\n    draw_circle_outline(rect, normal_back);\n  }\n\n  pop_linewidth();\n  push_linewidth(2);\n  draw_circle_outline(rect, color_white);\n  pop_linewidth();\n} // StrokeStyle\n\n\nvar _stack_strokestyle = [default_line_color];\n\nfunction push_strokestyle(value) {\n  _stack_strokestyle.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetStrokeStyle\"])(value); //commands.push(SetStrokeStyle, 1, value);\n}\n\nfunction pop_strokestyle() {\n  _stack_strokestyle.pop();\n\n  var prev = _stack_strokestyle[_stack_strokestyle.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetStrokeStyle\"])(prev); //commands.push(SetStrokeStyle, 1, prev);\n} // FillStyle\n\n\nvar _stack_fillstyle = [default_fill_color];\n\nfunction push_fillstyle(value) {\n  _stack_fillstyle.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetFillStyle\"])(value); //commands.push(SetStrokeStyle, 1, value);\n}\n\nfunction pop_fillstyle() {\n  _stack_fillstyle.pop();\n\n  var prev = _stack_fillstyle[_stack_fillstyle.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetFillStyle\"])(prev); //commands.push(SetStrokeStyle, 1, prev);\n} // LineWidth\n\n\nvar _stack_linewidth = [1];\n\nfunction push_linewidth(value) {\n  _stack_linewidth.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineWidth\"])(value); //commands.push(SetLineWidth, 1, value);\n}\n\nfunction pop_linewidth() {\n  _stack_linewidth.pop();\n\n  var prev = _stack_linewidth[_stack_linewidth.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineWidth\"])(prev); //commands.push(SetLineWidth, 1, prev);\n} // LineDash\n\n\nvar _stack_linedash = [[]];\n\nfunction push_linedash(value) {\n  console.assert(value);\n  console.assert(value != null);\n\n  _stack_linedash.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineDash\"])(value); //commands.push(SetLineDash, 1, value);\n}\n\nfunction pop_linedash() {\n  console.assert(_stack_linedash.length > 0);\n\n  _stack_linedash.pop();\n\n  var prev = _stack_linedash[_stack_linedash.length - 1];\n  console.assert(prev != null);\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineDash\"])(prev); //commands.push(SetLineDash, 1, prev);\n} //\n\n\nvar stroke = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"Stroke\"];\nvar begin_path = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"BeginPath\"];\nvar move_to = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"MoveTo\"];\nvar line_to = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"LineTo\"];\nvar begin_clip = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"BeginClip\"];\nvar end_clip = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"EndClip\"];\n\n\n//# sourceURL=webpack:///./src/simpleui_drawing.js?");

/***/ }),

/***/ "./src/simpleui_driver_html5_canvas.js":
/*!*********************************************!*\
  !*** ./src/simpleui_driver_html5_canvas.js ***!
  \*********************************************/
/*! exports provided: initialize, config, DrawBox, DrawBox3d, DrawBoxOutline, DrawBoxSoft, DrawBoxSoftRight, DrawBoxSoftLeft, DrawBoxSoftTop, DrawBoxSoftBottom, DrawBox3dSoft, DrawBox3dSoftRight, DrawBox3dSoftLeft, DrawBox3dSoftTop, DrawBox3dSoftBottom, DrawText, DrawLine, DrawCircle, DrawCircleOutline, GetCursorX, GetCursorY, GetFontSize, GetClientHeight, GetClientWidth, GetContext, GetCanvas, UpdateSize, CreateDrawboxGradient, FrameClear, SetStrokeStyle, SetFillStyle, SetLineWidth, SetLineDash, Stroke, BeginPath, MoveTo, LineTo, BeginClip, EndClip, ResetDrawTextCache, IsTouchDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox\", function() { return DrawBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3d\", function() { return DrawBox3d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxOutline\", function() { return DrawBoxOutline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoft\", function() { return DrawBoxSoft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftRight\", function() { return DrawBoxSoftRight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftLeft\", function() { return DrawBoxSoftLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftTop\", function() { return DrawBoxSoftTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftBottom\", function() { return DrawBoxSoftBottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoft\", function() { return DrawBox3dSoft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftRight\", function() { return DrawBox3dSoftRight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftLeft\", function() { return DrawBox3dSoftLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftTop\", function() { return DrawBox3dSoftTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftBottom\", function() { return DrawBox3dSoftBottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawText\", function() { return DrawText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawLine\", function() { return DrawLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawCircle\", function() { return DrawCircle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawCircleOutline\", function() { return DrawCircleOutline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorX\", function() { return GetCursorX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorY\", function() { return GetCursorY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetFontSize\", function() { return GetFontSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientHeight\", function() { return GetClientHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientWidth\", function() { return GetClientWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetContext\", function() { return GetContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCanvas\", function() { return GetCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateSize\", function() { return UpdateSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateDrawboxGradient\", function() { return CreateDrawboxGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FrameClear\", function() { return FrameClear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetStrokeStyle\", function() { return SetStrokeStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetFillStyle\", function() { return SetFillStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetLineWidth\", function() { return SetLineWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetLineDash\", function() { return SetLineDash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Stroke\", function() { return Stroke; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BeginPath\", function() { return BeginPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MoveTo\", function() { return MoveTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineTo\", function() { return LineTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BeginClip\", function() { return BeginClip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EndClip\", function() { return EndClip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetDrawTextCache\", function() { return ResetDrawTextCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IsTouchDevice\", function() { return IsTouchDevice; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _bmfont_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bmfont.js */ \"./src/bmfont.js\");\n/* harmony import */ var _bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bmfont_definition_mana16.js */ \"./src/bmfont_definition_mana16.js\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./images/mana16.png */ \"./src/images/mana16.png\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_images_mana16_png__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar bmfont_mana16 = Object(_bmfont_js__WEBPACK_IMPORTED_MODULE_3__[\"parseBMFontAscii\"])(_bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nvar bmfont_mana16_img = new Image(512, 81);\nbmfont_mana16_img.src = _images_mana16_png__WEBPACK_IMPORTED_MODULE_5___default.a;\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"]; // these are set in initialize\n\nvar context;\nvar canvas;\n\nvar _mouse_pos = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"](0 | -1, 0 | -1); // -1 to put it out of bounds... idk\n\n\nfunction on_mouse_move(evt) {\n  _mouse_pos.x = 0 | evt.offsetX;\n  _mouse_pos.y = 0 | evt.offsetY;\n}\n\nfunction on_mouse_down(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](evt.clientX, evt.clientY, evt.button);\n}\n\nfunction on_mouse_up(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](evt.clientX, evt.clientY, evt.button);\n} // meh\n\n\nfunction on_touch_start(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](evt.clientX, evt.clientY, _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_left\"]);\n}\n\nfunction on_touch_end(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](evt.clientX, evt.clientY, _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_left\"]);\n}\n/* -------------------------------------------------------------------------- */\n\n\nfunction GetCursorX() {\n  return 0 | _mouse_pos.x;\n}\n\nfunction GetCursorY() {\n  return 0 | _mouse_pos.y;\n}\n\nfunction GetFontSize() {\n  return 0 | 14;\n}\n\nfunction DrawText_Stroke(text, x, y, color) {\n  var fontsize = GetFontSize();\n\n  if (color == null) {\n    // todo: lose this kind of overloading for perf reasons\n    color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](255, 255, 255, 255);\n  }\n\n  context.font = \"16px Arial\";\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var yoffset = fontsize;\n  context.fillText(text, x, y + yoffset);\n}\n\nfunction DrawText_Bitmap(text, x, y, color) {\n  for (var i = 0; i < text.length; i++) {\n    var idx = text.charCodeAt(i);\n    var def = bmfont_mana16.chars[idx - 31]; // replace unknown chars with ?\n\n    if (!def) {\n      idx = \"?\".charCodeAt(0);\n      def = bmfont_mana16.chars[idx - 31];\n    }\n\n    context.drawImage(bmfont_mana16_img, def.x, def.y, def.width, def.height, x + def.xoffset, y + def.yoffset, def.width, def.height);\n    x += def.xadvance;\n  }\n} // new idea, cache bitmaps instead of worrying about batching\n\n\nvar _drawtext_cache = {};\n\nfunction DrawText_Cached(text, x, y, color) {\n  // draw normal if it's a number?\n  //return DrawText_Original(text, x, y, color);\n  //return;\n  var key = text;\n\n  if (!(key in _drawtext_cache)) {\n    var prev_context = context;\n    var prev_canvas = canvas;\n    var cv = document.createElement('canvas');\n    var ctx = cv.getContext('2d');\n    cv.width = text.length * 10;\n    cv.height = 20; //document.body.appendChild(cv);\n\n    var o = {\n      'canvas': cv,\n      'context': ctx\n    }; // draw into custom\n\n    canvas = o.canvas;\n    context = o.context;\n    {\n      DrawText_Bitmap(text, 0, 0, color);\n    }\n    context = prev_context;\n    canvas = prev_canvas;\n    _drawtext_cache[key] = o;\n  } // now just draw the cached canvas onto screen canvas\n\n\n  context.drawImage(_drawtext_cache[key].canvas, x, y);\n}\n\nfunction DrawText_Dynamic(text, x, y, color) {\n  // 10-12 ms ff\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap) {\n    if (true) {\n      DrawText_Cached(text + '', x, y, color);\n    } else {}\n  } else {\n    DrawText_Stroke(text + '', x, y, color);\n  }\n}\n\nvar DrawText = DrawText_Dynamic; // cached works now, and does increase performance.\n//let _gradient_bitmap;\n//let _gradient_bitmap_requested = 0 | false;\n\nfunction _DrawBoxGradient(x, y, w, h) {\n  //let use_gradient = 0 | ui.config.drawbox_gradient_enable;\n  //if (!use_gradient) return;\n  //if (_gradient_bitmap) {        \n  //if ( 0 | w > 200 || h > 200) {\n  //use_gradient = false;\n  //} else {            \n\n  /*context.drawImage( // sllllooooooooooooooooooooooow\r\n      _gradient_bitmap,                \r\n      1, 1, w - 2, h - 2,\r\n      x + 1, y + 1, w - 2, h - 2,\r\n  );*/\n  context.translate(0 | x, 0 | y); // slow\n\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient; // slow\n\n  context.fillRect(0 | 1, 0 | 1, 0 | w - 2, 0 | h - 2); // fast\n\n  context.translate(0 | -x, 0 | -y); // slow\n  //        }\n\n  /*} else {\r\n      if (_gradient_bitmap_requested) {\r\n          // pass\r\n      } else {            \r\n          const grad_canvas = new OffscreenCanvas(200, 200);\r\n          const grad_context = grad_canvas.getContext('2d');\r\n          grad_context.fillStyle = ui.config.drawbox_gradient;\r\n          //grad_context.fillRect(1,1,w-2,h-2); // cant do this for texture, needs to happen before this call\r\n          grad_context.fillRect(0,0,w,h);            \r\n          createImageBitmap(grad_canvas).then(function(bmp) {\r\n              _gradient_bitmap = bmp;            \r\n          });\r\n          _gradient_bitmap_requested = 0 | true;\r\n      }\r\n  }*/\n}\n\nfunction DrawBox(rect, color) {\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.fillRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction DrawBox3d(rect, color) {\n  DrawBox(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxOutline(rect, color) {\n  context.strokeStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n\n  if (context.lineWidth % 2 == 0) {\n    context.strokeRect(rect.x, rect.y, rect.w, rect.h);\n  } else {\n    context.strokeRect(rect.x - 0.5, rect.y - 0.5, rect.w, rect.h);\n  }\n}\n\nfunction DrawBoxSoft(rect, color) {\n  var x = 0 | rect.x; // aliases like this dont seem to be a perf issue\n\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.fillRect(x, y + 1, w, h - 1 * 2); // mid\n  // top\n\n  context.fillRect(x + 1, y, w - 1 * 2, 1); // bot\n\n  context.fillRect(x + 1, y + h - 1, w - 1 * 2, 1);\n}\n\nfunction DrawBox3dSoft(rect, color) {\n  DrawBoxSoft(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftRight(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 1;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 1;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 1;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 1;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot   \n}\n\nfunction DrawBox3dSoftRight(rect, color) {\n  DrawBoxSoftRight(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftLeft(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 0;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 1;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 0;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 1;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftLeft(rect, color) {\n  DrawBoxSoftLeft(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftTop(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 1;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 2;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftTop(rect, color) {\n  DrawBoxSoftTop(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftBottom(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 1;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 2;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftBottom(rect, color) {\n  DrawBoxSoftBottom(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawCircle(rect, color) {\n  var radius = 0 | rect.w / 2;\n  var cx = 0 | rect.x + radius;\n  var cy = 0 | rect.y + radius;\n  context.beginPath();\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.arc(cx, cy, radius, 0, 2 * Math.PI, false);\n  context.fill();\n}\n\nfunction DrawCircleOutline(rect, color) {\n  var radius = 0 | rect.w / 2;\n  var cx = 0 | rect.x + radius;\n  var cy = 0 | rect.y + radius;\n  context.beginPath();\n  context.strokeStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.arc(cx, cy, radius, 0, 2 * Math.PI, false);\n  context.stroke();\n}\n\nfunction DrawLine(x1, y1, x2, y2) {\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  x2 = 0 | x2;\n  y2 = 0 | y2;\n  context.beginPath();\n  context.moveTo(x1, y1);\n  context.lineTo(x2, y2);\n  context.stroke();\n}\n/* */\n\n\nfunction initialize(canvas_id) {\n  canvas = document.getElementById(canvas_id);\n  console.assert(canvas);\n  context = canvas.getContext('2d', {\n    alpha: false\n  }); // i wanted to draw aliased/jagged lines on html5 canvas, but it's not possible (except manually)\n  //\n  // imageSmoothingEnabled applies to pattern fills and drawImage, it does not affect general anti-aliasing. \n\n  canvas.addEventListener('mousemove', on_mouse_move, false); // touch move? (NO!)\n\n  canvas.addEventListener('mousedown', on_mouse_down, false);\n  canvas.addEventListener('touchstart', on_touch_start, {\n    capture: false,\n    passive: true\n  });\n  canvas.addEventListener('mouseup', on_mouse_up, false);\n  canvas.addEventListener('touchend', on_touch_end, false); // disable default canvas right click\n\n  canvas.addEventListener(\"contextmenu\", function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  }, true);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient = CreateDrawboxGradient(context, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2);\n}\n\nfunction GetClientWidth() {\n  return 0 | canvas.width;\n}\n\nfunction GetClientHeight() {\n  return 0 | canvas.height;\n}\n\nfunction GetContext() {\n  return context;\n}\n\nfunction GetCanvas() {\n  return canvas;\n}\n\nfunction UpdateSize() {\n  // todo: move canvas_size_hack into this driver, expose options object with it\n  canvas.width = window.innerWidth - app.canvas_size_hack;\n  canvas.height = window.innerHeight - app.canvas_size_hack;\n}\n\nfunction CreateDrawboxGradient(context, x1, y1, x2, y2, input_color1, input_color2) {\n  var color1;\n  var color2; // ok, so firefox renders gradients WILDLY differently, something different with alpha\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"is_browser_gecko\"]()) {\n    color1 = Color(input_color1[_r], input_color1[_g], input_color1[_b], 0 | input_color1[_a] / 2);\n    color2 = Color(input_color2[_r], input_color2[_g], input_color2[_b], 0 | input_color2[_a] / 2);\n  } else {\n    color1 = input_color1;\n    color2 = input_color2;\n  }\n\n  console.assert(context);\n  var grd = context.createLinearGradient(x1, y1, x2, y2);\n  grd.addColorStop(0.0, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color1));\n  grd.addColorStop(1.0, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color2));\n  return grd;\n}\n\nfunction FrameClear() {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"bg_color\"]));\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n  /*context.beginPath();\r\n  context.fillStyle = make_css_color(uidraw.bg_color);\r\n  context.rect(0, 0, canvas.width, canvas.height);\r\n  context.fill();\r\n  context.closePath();*/\n}\n\nfunction SetStrokeStyle(value) {\n  context.strokeStyle = value;\n}\n\nfunction SetFillStyle(value) {\n  context.fillStyle = value;\n}\n\nfunction SetLineWidth(value) {\n  context.lineWidth = value;\n}\n\nfunction SetLineDash(value) {\n  context.setLineDash(value);\n}\n\nfunction Stroke() {\n  context.stroke();\n}\n\nfunction BeginPath() {\n  context.beginPath();\n}\n\nfunction MoveTo(x, y) {\n  context.moveTo(x, y);\n}\n\nfunction LineTo(x, y) {\n  context.lineTo(x, y);\n}\n\nfunction BeginClip(rect) {\n  context.save();\n  context.beginPath();\n  context.rect(rect.x, rect.y, rect.w, rect.h);\n  context.clip();\n}\n\nfunction EndClip() {\n  context.restore();\n}\n\nvar config = {\n  has_drawbox_gradient: 0 | true\n};\n\nfunction ResetDrawTextCache() {\n  _drawtext_cache = {};\n} // https://stackoverflow.com/a/36673184\n\n\nfunction IsTouchDevice() {\n  return navigator.maxTouchPoints || 'ontouchstart' in document.documentElement;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_driver_html5_canvas.js?");

/***/ }),

/***/ "./src/simpleui_driver_pixi_webgl.js":
/*!*******************************************!*\
  !*** ./src/simpleui_driver_pixi_webgl.js ***!
  \*******************************************/
/*! exports provided: initialize, config, DrawBox, DrawRoundedBox, DrawText, DrawLine, DrawCircle, GetCursorX, GetCursorY, GetFontSize, GetClientHeight, GetClientWidth, GetContext, GetCanvas, UpdateSize, FrameClear, IsTouchDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox\", function() { return DrawBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawRoundedBox\", function() { return DrawRoundedBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawText\", function() { return DrawText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawLine\", function() { return DrawLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawCircle\", function() { return DrawCircle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorX\", function() { return GetCursorX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorY\", function() { return GetCursorY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetFontSize\", function() { return GetFontSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientHeight\", function() { return GetClientHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientWidth\", function() { return GetClientWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetContext\", function() { return GetContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCanvas\", function() { return GetCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateSize\", function() { return UpdateSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FrameClear\", function() { return FrameClear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IsTouchDevice\", function() { return IsTouchDevice; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _bmfont_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bmfont.js */ \"./src/bmfont.js\");\n/* harmony import */ var _bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bmfont_definition_mana16.js */ \"./src/bmfont_definition_mana16.js\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./images/mana16.png */ \"./src/images/mana16.png\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_images_mana16_png__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_b\"];\nvar _left = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_left\"];\nvar bmfont_mana16 = Object(_bmfont_js__WEBPACK_IMPORTED_MODULE_2__[\"parseBMFontAscii\"])(_bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar bmfont_mana16_img = new Image(512, 81);\nbmfont_mana16_img.src = _images_mana16_png__WEBPACK_IMPORTED_MODULE_4___default.a;\nvar _mouse_pos = [0 | 0, 0 | 0];\n\nfunction on_mouse_move(evt) {\n  var rect = canvas.getBoundingClientRect();\n  _mouse_pos.x = 0 | evt.clientX - rect.left;\n  _mouse_pos.y = 0 | evt.clientY - rect.top;\n}\n\nfunction on_mouse_down(evt) {\n  var x = evt.clientX;\n  var y = evt.clientY;\n  var button = evt.button;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](x, y, button);\n}\n\nfunction on_mouse_up(evt) {\n  var x = evt.clientX;\n  var y = evt.clientY;\n  var button = evt.button;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](x, y, button);\n} // meh\n\n\nfunction on_touch_start(evt) {\n  var x = evt.clientX;\n  var y = evt.clientY;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](x, y, _left);\n}\n\nfunction on_touch_end(evt) {\n  var x = evt.clientX;\n  var y = evt.clientX;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](x, y, _left);\n}\n/* -------------------------------------------------------------------------- */\n\n\nfunction GetCursorX() {\n  return 0 | _mouse_pos.x;\n}\n\nfunction GetCursorY() {\n  return 0 | _mouse_pos.y;\n}\n\nfunction GetFontSize() {\n  return 0 | 14;\n}\n\nvar fonts = [{\n  name: 'sans-serif',\n  size: 14,\n  line_size: 14\n}];\n\nfunction DrawText_Stroke(text, x, y, color) {\n  var fontsize = GetFontSize();\n  var font = fonts[0];\n  context.font = font.size + \"px '\" + font.name + \"'\";\n\n  if (color == null) {\n    color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](255, 255, 255, 255);\n  }\n\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var yoffset = fontsize - 2;\n  context.fillText(text, x, y + yoffset);\n}\n\nfunction DrawText_Bitmap(text, x, y, color) {\n  for (var i = 0; i < text.length; i++) {\n    var idx = text.charCodeAt(i);\n    var def = bmfont_mana16.chars[idx - 31]; // replace unknown chars with ?\n\n    if (!def) {\n      idx = \"?\".charCodeAt(0);\n      def = bmfont_mana16.chars[idx - 31];\n    }\n    /*context.drawImage(\r\n        bmfont_mana16_img,\r\n        def.x, def.y, def.width, def.height,\r\n        x + def.xoffset, y + def.yoffset, def.width, def.height\r\n    );*/\n\n\n    x += def.xadvance;\n  }\n}\n\nvar _pixi_text_objects = {};\n\nfunction DrawText_PixiText(text, x, y, color) {\n  var int_color = color[_r] << 16 | color[_g] << 8 | color[_b];\n  var key = \"\".concat(text, \":\").concat(int_color, \";\").concat(x, \"x\").concat(y);\n  var o = _pixi_text_objects[key];\n\n  if (!o) {\n    o = new PIXI.Text(text, {\n      fontFamily: 'Arial',\n      fontSize: 14,\n      fill: int_color\n    });\n    _pixi_text_objects[key] = o;\n  }\n\n  o.x = x;\n  o.y = y;\n  pixi_app.stage.addChild(o);\n}\n\nfunction DrawText_Original(text, x, y, color) {\n  // 10-12 ms ff\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap) {\n    DrawText_Bitmap(text, x, y, color);\n  } else {\n    DrawText_Stroke(text, x, y, color);\n  }\n}\n\nfunction DrawBoxInternal(rect, color, soft) {\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.w;\n  var height = rect.h; //if (color) {\n\n  var rgb = color[_r] << 16 | color[_g] << 8 | color[_b] << 0;\n  context.beginFill(rgb); //, color.a/255);\n  //graphics.beginFill(0xFF3300);\n  //graphics.lineStyle(4, 0xffd900, 1);\n  //}\n\n  /*\r\n  // test texture resampling from white pixel in font\r\n  context.drawImage(\r\n      bmfont_mana16_img,\r\n      2, 2, 1, 1,\r\n      rect.x, rect.y, rect.w, rect.h,       \r\n  );*/\n\n  if (soft) {\n    var lines = 1; // adjustor\n\n    context.fillRect(x, y + lines, width, height - lines * 2); // mid\n    //for (let i=1; i<=lines; i++) {\n    // faster than making a path, in pixi anyway\n\n    var i = 1;\n    var top_x1 = x + i;\n    var top_y1 = y + (lines - i);\n    var top_w = width - i * 2;\n    context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n    var bot_x1 = x + i;\n    var bot_y1 = y + height - 1 - (lines - i);\n    var bot_w = width - i * 2;\n    context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n  } else {\n    context.fillRect(x, y, width, height);\n  }\n\n  var use_gradient = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient_enable;\n\n  if (use_gradient) {\n    var is_size_excluded = width > 200 || height > 200; // || (width<20 && height<20);\n\n    if (is_size_excluded) {\n      use_gradient = false;\n    }\n  }\n\n  var disabled_for_gl_port = true;\n\n  if (!disabled_for_gl_port && use_gradient) {\n    context.translate(x, y); // for gradient\n\n    context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient;\n    context.fillRect(1, 1, width - 2, height - 2);\n    context.translate(-x, -y); // this appears to be faster than wrapping save/restore :->\n  }\n}\n\nfunction DrawBox(rect, color) {\n  return DrawBoxInternal(rect, color, 0 | false);\n}\n\nfunction DrawRoundedBox(rect, color) {\n  return DrawBoxInternal(rect, color, 0 | true);\n}\n\nvar DrawCircle = DrawBox;\n\nfunction DrawLine(x1, y1, x2, y2) {\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  x2 = 0 | x2;\n  y2 = 0 | y2;\n  context.lineStyle(1, 0xFFFFFF, 1, 0);\n  context.moveTo(x1, y1);\n  context.lineTo(x2, y2);\n}\n\nvar DrawText = DrawText_PixiText; //const DrawText = DrawText_Bitmap;\n// -------------------------------------------------------- //\n\nvar canvas;\nvar context;\nvar pixi_app;\n\nfunction initialize(canvasId) {\n  // {LINEAR: 0 (default), NEAREST: 1}\n  PIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.LINEAR; // doesnt really matter wrt antialiasing\n\n  console.log('window.devicePixelRatio', window.devicePixelRatio);\n  pixi_app = new PIXI.Application({\n    width: 256,\n    height: 256,\n    antialias: false,\n    // enables extremely weak antialiasing\n    forceFXAA: false,\n    transparent: true,\n    resolution: 1 //window.devicePixelRatio,\n\n  });\n  pixi_app.renderer.roundPixels = true;\n  console.log(pixi_app.renderer);\n  canvas = pixi_app.view;\n  document.body.appendChild(canvas);\n  context = new PIXI.Graphics();\n\n  context.fillRect = function (x, y, w, h) {\n    context.lineStyle(0, 0xffffff, 1, 0);\n    context.drawRect(x, y, w, h);\n  };\n\n  context.save = function () {};\n\n  context.restore = function () {};\n\n  context.clip = function () {};\n\n  context.rect = function () {};\n\n  context.translate = function () {};\n\n  context.stroke = function () {};\n\n  context.beginPath = function () {};\n\n  context.setLineDash = function () {}; //pixi_app.stage.addChild(graphics);\n\n\n  canvas.addEventListener('mousemove', on_mouse_move, false); // touch move? (NO!)\n\n  canvas.addEventListener('mousedown', on_mouse_down, false);\n  canvas.addEventListener('touchstart', on_touch_start, {\n    capture: false,\n    passive: true\n  });\n  canvas.addEventListener('mouseup', on_mouse_up, false);\n  canvas.addEventListener('touchend', on_touch_end, false);\n}\n\nfunction GetClientWidth() {\n  return 0 | canvas.width;\n}\n\nfunction GetClientHeight() {\n  return 0 | canvas.height;\n}\n\nfunction GetContext() {\n  return context;\n}\n\nfunction GetCanvas() {\n  return canvas;\n}\n\nfunction UpdateSize() {\n  var w = window.innerWidth - app.canvas_size_hack;\n  var h = window.innerHeight - app.canvas_size_hack;\n  pixi_app.renderer.resize(w, h);\n}\n\nfunction FrameClear() {\n  var stage = pixi_app.stage;\n\n  for (var i = stage.children.length - 1; i >= 0; i--) {\n    stage.removeChild(stage.children[i]);\n  }\n\n  context.clear();\n  stage.addChild(context);\n}\n\nvar config = {\n  has_drawbox_gradient: 0 | false\n}; // https://stackoverflow.com/a/36673184\n\nfunction IsTouchDevice() {\n  return navigator.maxTouchPoints || 'ontouchstart' in document.documentElement;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_driver_pixi_webgl.js?");

/***/ }),

/***/ "./src/simpleui_ex_gradient.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_gradient.js ***!
  \*************************************/
/*! exports provided: do_gradient_stroke_edit, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_gradient_stroke_edit\", function() { return do_gradient_stroke_edit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"]; //const _vertical = consts._vertical;\n//const _horizontal = consts._horizontal;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar css_line_color2;\nvar css_line_color1;\n\nfunction initialize() {\n  css_line_color2 = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255));\n  css_line_color1 = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255));\n}\n\nfunction do_gradient_stroke_edit(uiid, min, max, x1, y1, x2, y2) {\n  var _;\n\n  var min_x = 0 | min;\n  var min_y = 0 | min;\n  var max_x = 0 | max;\n  var max_y = 0 | max;\n  var dim_w = max_x - min_x;\n  var dim_h = max_y - min_y;\n  var dim_w_half = 0 | dim_w / 2;\n  var dim_h_half = 0 | dim_h / 2;\n  var dim_w_quarter = 0 | dim_w / 4;\n  var dim_h_quarter = 0 | dim_h / 4;\n  var grab_dim = 20;\n  var grab_dim_half = 0 | grab_dim / 2;\n  var changed = 0 | false;\n  var result_x1 = 0 | x1;\n  var result_y1 = 0 | y1;\n  var result_x2 = 0 | x2;\n  var result_y2 = 0 | y2;\n  var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none);\n  {\n    var p1_x = x1 - min_x;\n    var p1_y = y1 - min_y;\n    var p2_x = x2 - min_x;\n    var p2_y = y2 - min_y; // background\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](RectangleP(layout.x, layout.y, dim_w, dim_h), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]); // grid lines\n\n    var stroke_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(ColorP(255, 255, 255, 255));\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + dim_w_half, layout.y, layout.x + dim_w_half, layout.y + dim_h);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x, layout.y + dim_h_half, layout.x + dim_w, layout.y + dim_h_half);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // gradient swatch\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](RectangleP(layout.x + dim_w_quarter, layout.y + dim_h_quarter, dim_w_half, dim_h_half), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]); // line between points 1     \n    // --->\n\n    var handle1_rect = RectangleP(p1_x - grab_dim_half, p1_y - grab_dim_half, grab_dim, grab_dim);\n    var handle2_rect = RectangleP(p2_x - grab_dim_half, p2_y - grab_dim_half, grab_dim, grab_dim);\n    var dx = handle2_rect.x - handle1_rect.x;\n    var dy = handle2_rect.y - handle1_rect.y;\n    var radians = Math.atan2(dx, dy);\n    var pt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"angled_norm_line\"](radians, grab_dim_half);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](css_line_color1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + p1_x + pt.x, layout.y + p1_y + pt.y, layout.x + p2_x - pt.x, layout.y + p2_y - pt.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"](); // line between points 2\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([2, 2]);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](css_line_color2);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + p1_x + pt.x, layout.y + p1_y + pt.y, layout.x + p2_x - pt.x, layout.y + p2_y - pt.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"](); // <---\n\n    var uiid_pt1 = uiid + '-pt1';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](uiid_pt1, handle1_rect, p1_x, p1_y);\n\n    if (_.changed) {\n      changed = 0 | changed | _.changed;\n      result_x1 = 0 | Math.min(max_x, Math.max(min_x, _.x1 + min_x));\n      result_y1 = 0 | Math.min(max_y, Math.max(min_y, _.y1 + min_y));\n    }\n\n    var uiid_pt2 = uiid + '-pt2';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](uiid_pt2, handle2_rect, p2_x, p2_y);\n\n    if (_.changed) {\n      changed = 0 | changed | _.changed;\n      result_x2 = 0 | Math.min(max_x, Math.max(min_x, _.x1 + min_x));\n      result_y2 = 0 | Math.min(max_y, Math.max(min_y, _.y1 + min_y));\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim_w, 0);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1,\n      x2: 0 | x2,\n      y2: 0 | y2\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | result_x1;\n  state.y1 = 0 | result_y1;\n  state.x2 = 0 | result_x2;\n  state.y2 = 0 | result_y2;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | result_x1,\r\n      0 | result_y1,\r\n      0 | result_x2,\r\n      0 | result_y2\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_gradient.js?");

/***/ }),

/***/ "./src/simpleui_ex_gridfont.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_gridfont.js ***!
  \*************************************/
/*! exports provided: do_gridfont, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_gridfont\", function() { return do_gridfont; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\nvar _hintFour;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar _gridfonts = {\n  'hint-four': (_hintFour = {}, _defineProperty(_hintFour, ' ', []), _defineProperty(_hintFour, \"a\", [[0, 2, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3], [0, 3, 1, 3]]), _defineProperty(_hintFour, \"b\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 1, 2]]), _defineProperty(_hintFour, \"c\", [[1, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 4]]), _defineProperty(_hintFour, \"d\", [[2, 0, 2, 1], [2, 1, 2, 2], [2, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3], [0, 3, 1, 2]]), _defineProperty(_hintFour, \"e\", [[1, 3, 2, 3], [2, 3, 1, 2], [1, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 4]]), _defineProperty(_hintFour, \"f\", [[2, 0, 1, 1], [1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 1, 4], [0, 2, 1, 2]]), _defineProperty(_hintFour, \"g\", [[1, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4], [2, 4, 2, 5], [2, 5, 1, 6]]), _defineProperty(_hintFour, \"h\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4]]), _defineProperty(_hintFour, \"i\", [[1, 2, 1, 3], [1, 3, 1, 4], [1, 1, 2, 0]]), _defineProperty(_hintFour, \"j\", [[1, 2, 1, 3], [1, 3, 1, 4], [1, 4, 1, 5], [1, 5, 0, 6], [1, 1, 2, 0]]), _defineProperty(_hintFour, \"k\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 3], [1, 3, 2, 2], [1, 3, 2, 4]]), _defineProperty(_hintFour, \"l\", [[1, 0, 1, 1], [1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 2, 4]]), _defineProperty(_hintFour, \"m\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4], [1, 3, 1, 4]]), _defineProperty(_hintFour, \"n\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4]]), _defineProperty(_hintFour, \"o\", [[0, 2, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3]]), _defineProperty(_hintFour, \"p\", [[0, 6, 0, 5], [0, 5, 0, 4], [0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4]]), _defineProperty(_hintFour, \"q\", [[2, 6, 2, 5], [2, 5, 2, 4], [2, 4, 2, 3], [2, 3, 1, 2], [1, 2, 0, 3], [0, 3, 1, 4]]), _defineProperty(_hintFour, \"r\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 2]]), _defineProperty(_hintFour, \"s\", [[1, 2, 0, 3], [0, 3, 1, 3], [1, 3, 2, 3], [2, 3, 1, 4], [1, 4, 0, 4]]), _defineProperty(_hintFour, \"t\", [[1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 1, 4], [1, 4, 2, 3], [0, 2, 1, 2]]), _defineProperty(_hintFour, \"u\", [[0, 2, 0, 3], [0, 3, 0, 4], [0, 4, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2]]), _defineProperty(_hintFour, \"v\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2]]), _defineProperty(_hintFour, \"w\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2], [1, 2, 1, 3]]), _defineProperty(_hintFour, \"x\", [[0, 2, 1, 3], [1, 3, 2, 4], [2, 2, 1, 3], [1, 3, 0, 4]]), _defineProperty(_hintFour, \"y\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 4], [2, 4, 2, 5], [2, 5, 1, 6]]), _defineProperty(_hintFour, \"z\", [[1, 2, 2, 2], [2, 2, 1, 3], [1, 3, 0, 4], [0, 4, 1, 4], [1, 4, 2, 4]]), _hintFour)\n};\nvar _f = _gridfonts['hint-four']; // list of segments, each segment is a standalone stroke from x1,y1 to x2,y2\n\nvar _gridfont_chars_a = 'abcdefghijklmnopqrstuvwxyz '.split('');\n\nvar _gridfont_chars = {};\n\nfor (var i = 0; i < _gridfont_chars_a.length; i++) {\n  _gridfont_chars[_gridfont_chars_a[i]] = 0 | true;\n}\n\nvar _gridfont_gradient;\n\nfunction initialize() {\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].config.has_drawbox_gradient) {\n    _gridfont_gradient = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].CreateDrawboxGradient(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetContext(), 400, 400, 1000, 1000, Color(0x00, 0xB5, 0xE3, 255), Color(255, 0, 255, 255));\n  }\n} // http://cogsci.indiana.edu/gridfonts.html\n// see also: hershey fonts: http://sol.gfxile.net/hershey/fontprev.html\n\n\nfunction do_gridfont(uiid, s, name, x, y, scale, reset) {\n  var a = s.split('');\n  var complete = 0 | true;\n  var reset_complete = 0 | true;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1.5);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_gridfont_gradient);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var _i = 0; _i < a.length; _i++) {\n    var letter = a[_i];\n\n    if (!_gridfont_chars[letter]) {\n      letter = ' ';\n    }\n\n    var x_letter = 0 | x + _i * (scale * 3);\n\n    var _ = do_gridfont_letter(uiid + '-letter-' + _i, name, x_letter, y, letter, scale, reset);\n\n    complete = complete && _.complete;\n    reset_complete = reset_complete && _.reset_complete;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      complete: 0 | false,\n      reset_complete: 0 | false\n    });\n  }\n\n  state.complete = 0 | complete;\n  state.reset_complete = 0 | reset_complete;\n  return state; //return [complete, reset_complete];\n}\n\nfunction do_gridfont_letter(uiid, name, x, y, letter, scale, reset) {\n  console.assert(name);\n  console.assert(letter);\n  console.assert(reset != null);\n  console.assert(reset != undefined);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      complete: 0 | false,\n      reset_complete: 0 | false,\n      segment: 0 | 1,\n      partial: 0 | 0\n    });\n  }\n\n  var fl = _f[letter]; // font letter\n\n  var segment = state.segment;\n  var partial = state.partial; // draw lines up to segment count\n  // sometimes segment is > fl.length due to prev frame    \n\n  if (segment <= fl.length) {\n    for (var _i2 = 0; _i2 < segment; _i2++) {\n      var a1 = 0 | fl[_i2][0];\n      var b1 = 0 | fl[_i2][1];\n      var a2 = 0 | fl[_i2][2];\n      var b2 = 0 | fl[_i2][3];\n      var x1 = 0 | x + a1 * scale;\n      var y1 = 0 | y + b1 * scale;\n      var x2 = 0 | x + a2 * scale;\n      var y2 = 0 | y + b2 * scale;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x1, y1);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2, y2);\n    }\n  } // now draw current line... over multiple frames...\n  // when complete then increment segment...\n\n\n  if (segment < fl.length) {\n    var _i3 = segment;\n\n    var _a = 0 | fl[_i3][0];\n\n    var _b = 0 | fl[_i3][1];\n\n    var _a2 = 0 | fl[_i3][2];\n\n    var _b2 = 0 | fl[_i3][3];\n\n    var _x = 0 | x + _a * scale;\n\n    var _y = 0 | y + _b * scale;\n\n    var _x2 = 0 | x + _a2 * scale;\n\n    var _y2 = 0 | y + _b2 * scale;\n\n    var dx = 0 | _x2 - _x;\n    var dy = 0 | _y2 - _y;\n    var p1 = 0 | _x + dx * partial / 10;\n    var p2 = 0 | _y + dy * partial / 10;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](_x, _y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](p1, p2); // i promoted partial from float to int, so new partial 1 == old partial 0.1\n    // this means some of the logic changes from 1 to 10, and i divide by 10 for local calcs\n    // the goal is to avoid float, avoid deopt, avoid heap\n\n    state.partial = 0 | state.partial + 1; //0.033 * 3;\n\n    partial = state.partial; // blah.\n\n    if (partial >= 10) {\n      /*let leftover = partial - 10;\r\n      if (leftover > 0) {\r\n          // later: leftovers! :-)\r\n      }*/\n      state.partial = 0 | 0;\n      state.segment = 0 | state.segment + 1;\n    }\n  } // keeping these out of an if block to avoid weird jit deopt\n\n\n  state.segment = 0 | reset ? 1 : state.segment;\n  state.partial = 0 | reset ? 0 : state.partial;\n  state.reset_complete = 0 | reset ? true : state.reset_complete;\n  state.complete = 0 | segment >= fl.length;\n  return state;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_gridfont.js?");

/***/ }),

/***/ "./src/simpleui_ex_linestar.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_linestar.js ***!
  \*************************************/
/*! exports provided: do_linestar_edit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_linestar_edit\", function() { return do_linestar_edit; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_slider2d.js */ \"./src/simpleui_ex_slider2d.js\");\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar ends = [];\n/*\r\nthis function seems to show an interesting performance issue with simpleui > 0.3.1\r\n\r\nwith new deferred commands rendering, performance chokes after a high number of commands here\r\n\r\nmaybe the commands could be made smaller:\r\neg. (beginpath, 1, move_to, 4,x1,y1,x2,y2, line_to, 4,x3,y3,x4,y4) // 14 elements\r\nto. (path, 8, x1, y1, x2, y2, x3, y3, x4, y4) // 10 elements\r\n(it's a significant percentage but probably not enough for me)\r\n\r\ni think this is happening because some stack/buffer limit is reached and jit deopts\r\n\r\ngiant commands buffer = bad performance\r\n\r\nimmediate rendering benefits from extra closeness to cpu\r\n\r\nyou should be able to choose deferred or immediate rendering\r\nnot just deferred, not just immediate\r\nalthough if i have to pick one i should probably go immediate\r\n\r\ni think... support both, eventually, but probably default to immediate for a long while\r\n\r\nBUT, still use a uidraw layer of indirection (not directly calling on context)\r\nAND, still use push_/pop_ uidraw api instead of sets\r\n*/\n\nfunction draw_star(uiid, segments, joints, webs, rings) {\n  ends.length = 0;\n  var incr = Math.PI * 2 / segments;\n\n  for (var i = 0; i < segments; i++) {\n    var rad = i * incr;\n    var pt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"angled_norm_line\"](rad, 200);\n    ends.push(pt);\n  }\n\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  var stroke_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](ColorP(200, 220, 200, 127));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color); // webs\n\n  webs = Math.min(webs, joints);\n\n  if (webs > 0) {\n    for (var i0 = 0; i0 < ends.length; i0++) {\n      var pt0 = ends[i0];\n      var x0 = pt0.x;\n      var y0 = pt0.y; // begin\n\n      var i1 = (i0 + 1) % ends.length;\n      var pt1 = ends[i1];\n      var x1 = pt1.x;\n      var y1 = pt1.y;\n\n      for (var j = 0; j < webs; j++) {\n        var p0 = (j + 1) / joints;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](peek.x + x0 * p0, peek.y + y0 * p0);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](peek.x + x1 * p0, peek.y + y1 * p0); //console.log(x0*p0, y0*p0, x1*p0, y1*p0);\n      }\n    }\n  } // rings\n\n  /*\r\n  agg::ellipse e;\r\n  for (int j=0;j<rings;j++)\r\n  {\r\n      double p0 = (j+1)/(double)joints;\r\n      e.init(0, 0, p0, p0, 100);\r\n      //agg::conv_stroke<agg::ellipse> e_stroke(e);\r\n        agg::conv_transform<\r\n          agg::ellipse,\r\n          agg::trans_affine>\r\n              trans_e(e, matrix);\r\n        agg::conv_stroke<\r\n          agg::conv_transform<\r\n              agg::ellipse,\r\n              agg::trans_affine>>\r\n                  e_stroke(trans_e);\r\n        ras.add_path(e_stroke);\r\n      //path->move_to(0, p0);\r\n      //path->arc_rel(0, 0, 4, false, false, p0, p0);\r\n      //path->arc_rel(p0, p0, 4, true, true, p0,p0);\r\n      //cr.move_to(p,0)\r\n      //cr.arc(0, 0, p, 0, 2 * math.pi)\r\n  }\r\n  */\n  // star\n\n\n  for (var _i = 0; _i < ends.length; _i++) {\n    var _pt = ends[_i];\n    var _x = _pt.x;\n    var _y = _pt.y; // begin\n\n    var _i2 = (_i + 1) % ends.length;\n\n    var _pt2 = ends[_i2];\n    var _x2 = _pt2.x;\n    var _y2 = _pt2.y;\n\n    for (var _j = 0; _j < joints; _j++) {\n      var _p = (_j + 1) / joints;\n\n      var p1 = 1 - _p;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](peek.x + _x * _p, peek.y + _y * _p);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](peek.x + _x2 * p1, peek.y + _y2 * p1);\n    }\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n} // idea::\n// linestar_edit = make_linestar_edit(13, 12, 5);\n// linestar_edit(uiid);\n\n\nfunction do_linestar_edit(uiid, segments, joints, webs) {\n  var _;\n\n  var rings = 19;\n  var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n  var bg_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0, 0, 400, 400));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](bg_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](400, 400);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, 0, vertical.x + 200, vertical.y - 200);\n  draw_star(uiid, segments, joints, webs, rings);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var changed = 0 | false;\n  var rect = RectangleP(0, 0, 200, 20);\n  _ = Object(_simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_3__[\"do_slider2d\"])(uiid + '-slider2d', RectangleP(0, 0, 400, 200), 3, 20, PointP(segments, joints));\n\n  if (_.changed) {\n    segments = _.x1;\n    joints = _.y1;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-segments', rect, 0, 80, segments, '');\n\n  if (_.changed) {\n    segments = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('segments', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-joints', rect, 0, 80, joints, '');\n\n  if (_.changed) {\n    joints = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('joints', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-webs', rect, 0, 80, webs, '');\n\n  if (_.changed) {\n    webs = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('webs', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      segments: 0 | segments,\n      joints: 0 | joints,\n      webs: 0 | webs\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.segments = 0 | segments;\n  state.joints = 0 | joints;\n  state.webs = 0 | webs;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | segments,\r\n      0 | joints,\r\n      0 | webs\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_linestar.js?");

/***/ }),

/***/ "./src/simpleui_ex_panel.js":
/*!**********************************!*\
  !*** ./src/simpleui_ex_panel.js ***!
  \**********************************/
/*! exports provided: do_panel_begin, do_panel_end */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_panel_begin\", function() { return do_panel_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_panel_end\", function() { return do_panel_end; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"]; // how does panel module know when it's a new frame?\n// need to know new frame so i can reset the collapsed item count to 0\n// these are set in _begin and checked in _end\n// it's important to handle events at end of _end\n\nvar _button;\n\nvar _handle;\n\nvar panel_pad = 0 | 20;\nvar bar_height = 0 | 24;\nvar debug_draw = 0 | false;\nvar text_width = 0 | 10; // hax\n\nvar text_ox = 0 | bar_height / 2 - text_width / 2;\nvar text_oy = 0 | text_ox / 2;\n\nfunction do_collapsed(uiid, rect, state) {\n  var collapsed_x = 0 | 200 + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index * 224;\n  var collapsed_y = 0 | 1; // handle is positioned left 1 pixel so border overlaps with collapse button, so width needs +1\n\n  var handle_w = 0 | 200 + 1; // this 200 needs to be configureable\n\n  var glyph = 'v';\n  var x = rect.x;\n  var y = rect.y; // collapsed layout\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, 0, collapsed_x, collapsed_y);\n  {\n    // draw background bar before first collapsed panel\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index == 0) {\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(200, 0, canvas.width - 200, 25), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]);\n    }\n\n    var uiid_handle = uiid + '-handle';\n    _button = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button', glyph, RectangleP(0, 0, bar_height, bar_height), state.expanded, text_ox, text_oy);\n    var hrect = RectangleP(bar_height - 1, 0, handle_w, bar_height);\n    _handle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"handle\"](uiid_handle, hrect, x, y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](uiid, RectangleP(bar_height + 10, 0, handle_w + panel_pad, bar_height));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index++;\n}\n\nfunction do_expanded(uiid, rect, state) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none); // breakout of whatever layout we might be in (absolute positioning)\n\n  var x = 0 | rect.x;\n  var y = 0 | rect.y; // todo: later: push_id('handle');\n  // or: next_id('-handle'); etc.\n\n  var bar_layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1, x, y); // app.panel_layout_padding\n\n  {\n    // background        \n    var back_rect = RectangleP(bar_layout.x, bar_layout.y, rect.w + panel_pad * 2, rect.h + panel_pad * 2 + bar_height);\n    var back_rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](back_rect, 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](back_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](back_rect1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]); //let rect1 = uidraw.rectangle_panel_pad(rect, panel_pad);\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid + '-bg-hotspot', back_rect);\n    _button = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button', '-', RectangleP(0, 0, bar_height, bar_height), state.expanded, text_ox, text_oy);\n    var handle_w = 0 | rect.w + panel_pad * 2 - bar_height + 1;\n    var handle_rect = RectangleP(0, 0, handle_w, bar_height);\n    var uiid_handle = uiid + '-handle';\n    _handle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"handle\"](uiid_handle, handle_rect, x, y); //ui.label(uiid, Rectangle(bar_height + 10, 0, handle_w + panel_pad, bar_height));\n\n    var label_rect = RectangleP(x + bar_height + 8, y, handle_w + panel_pad, bar_height);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"label\"](uiid, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"vertical_center_text\"](label_rect), ColorP(255, 255, 255, 255));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // bar_layout\n\n  var padding = 2; // app.panel_layout_padding\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, padding, x + panel_pad, y + bar_height + panel_pad); // content layout\n\n  if (debug_draw) {\n    var debug_color = ColorP(0, 200, 200, 127);\n    var debug_color2 = ColorP(200, 200, 0, 127); // draw xy indicator\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x - 4, y - 4, 8, 8), debug_color2); // draw layout origin\n\n    var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    var absolute_rect = RectangleP(layout.x - 2, layout.y - 2, 4, 4);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](absolute_rect, debug_color); //ui.label('first xy', Rectangle(0, 0, 100, 40), debug_color);\n  }\n}\n\nfunction do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded) {\n  console.assert(first_x != null, 'do_panel_begin: first_x required');\n  console.assert(first_y != null, 'do_panel_begin: first_y required'); //if (first_visible == null) first_visible = true;\n\n  if (first_expanded == null) first_expanded = true; //uidraw.label('#' + ui.state.collapsed_panel_index, Point(200, 20*ui.state.collapsed_panel_index), Color(255,255,255,255));    \n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'uiid': uiid,\n      'rect': Rectangle(first_x, first_y, 1, 1),\n      'visible': 0 | true,\n      //first_visible,\n      'expanded': 0 | first_expanded\n    });\n  }\n\n  if (state.expanded) {\n    do_expanded(uiid, state.rect, state);\n  } else {\n    do_collapsed(uiid, state.rect, state);\n  }\n\n  return state;\n}\n\nfunction do_panel_end(uiid) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (state.expanded) {\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // content layout\n\n    if (state.visible) {\n      console.assert(state); // should have been created in _begin            \n\n      state.rect.w = 0 | peek.totalw; // idk: nolive, panels are jank cuz i was bad, fixing\n\n      state.rect.h = 0 | peek.totalh; // this means one frame of latency between content updates and panel autosizing\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // none layout\n  } // state changes last\n\n\n  if (state.expanded) {\n    if (_button.changed) {\n      state.expanded = 0 | false;\n    }\n\n    if (_handle.changed) {\n      state.rect.x = 0 | _handle.x1;\n      state.rect.y = 0 | _handle.y1;\n    }\n  } else {\n    if (_button.changed) {\n      state.expanded = 0 | true;\n    }\n\n    if (_handle.changed) {\n      // if they click collapsed handle, panel expands\n      state.expanded = 0 | true; // cancel item_held when they do this... *shrug* (todo:later:architecture)\n\n      var uiid_handle = uiid + '-handle';\n\n      if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid_handle) {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held = null;\n      }\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_panel.js?");

/***/ }),

/***/ "./src/simpleui_ex_scroll.js":
/*!***********************************!*\
  !*** ./src/simpleui_ex_scroll.js ***!
  \***********************************/
/*! exports provided: do_scroll_begin, do_scroll_end, do_scroll_item_begin, do_scroll_item_end */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_begin\", function() { return do_scroll_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_end\", function() { return do_scroll_end; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_begin\", function() { return do_scroll_item_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_end\", function() { return do_scroll_item_end; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar debug = 0 | false;\n/*\r\ntodo:later: the scroll item hotspot isn't being clipped (might be a problem later...)\r\nif i dont fix it properly, then it might be possible to fix by placing a dead hotspot above the overflow and below any later widgets/hotspots\r\n*/\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nfunction do_scroll_begin(uiid, local_rect, row_height, item_count) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'scroll_value': 0 | 0,\n      'rect': rect,\n      'row_height': 0 | row_height,\n      'item_count': 0 | item_count,\n      'mod': null\n    });\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none); // horizontal layout = [vertical layout, slider]\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  var mod = state.scroll_value % state.row_height;\n  state.mod = mod; // vertical layout = [item1, item2, ...]\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, 0, rect.x, rect.y - mod); // mod handles item offset in view\n  //ui.layout_push(_vertical, 0, rect.x, rect.y);\n\n  state.first_visible_index = 0 | Math.floor(state.scroll_value / state.row_height);\n  var max_visible = 0 | Math.ceil(rect.h / state.row_height) + 1;\n  state.last_visible_index = 0 | Math.min(item_count, state.first_visible_index + max_visible);\n  var rect2 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, 1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  state.rect = rect; // this is equivalent to prop-changed-so-update-state-mirror in vue/react/etc\n\n  return state;\n}\n\nfunction do_scroll_end(uiid) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n  var item_count = state.item_count;\n  var row_height = state.row_height;\n  var rect = state.rect;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vert\n  // smi truncate is floor\n\n  var max_items_shown = 0 | rect.h / row_height;\n\n  if (item_count > max_items_shown) {\n    var slider_max = item_count * row_height - rect.h;\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"vslider\"](uiid + '-vslider', RectangleP(-20, 0, 20, rect.h), 0, slider_max, state.scroll_value, '');\n\n    if (_.changed) {\n      state.scroll_value = _.value;\n    }\n  }\n\n  if (debug) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](state.scroll_value + '', RectangleP(0, 0, 50, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](state.mod + '', RectangleP(0, 0, 50, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  if (state.last_visible_index == state.item_count) {// pass (is this a bug) and/or (is there a better way?)\n  } else {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]().maxh -= row_height;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horz\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // none\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n\n  if (debug) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"](255, 0, 0, 255));\n  }\n} // todo: messy, latest feature\n\n\nfunction do_scroll_item_begin(scroll_uiid, i) {\n  //var layout_parent = ui.layout_peek();\n  //console.log(layout_parent);\n  //var layout = ui.layout_push(_vertical);\n  var scroll = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](scroll_uiid);\n  scroll.translate_y = i * scroll.row_height;\n  scroll.widget_y1 = scroll.rect.y + scroll.translate_y - scroll.scroll_value;\n  scroll.widget_y2 = scroll.widget_y1 + scroll.row_height; //const peek = ui.layout_peek();\n  // im emulating the layout here, because i know it is vertical... (TODO: LATER: FIXERINO)\n  //peek.y -= scroll.partial_item; // this handles the offset of every item...\n  //console.log(layout);\n  //}\n}\n\nfunction do_scroll_item_end(scroll_uiid) {\n  // debug draws\n  if (false) { var scroll; }\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_scroll.js?");

/***/ }),

/***/ "./src/simpleui_ex_slider2d.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_slider2d.js ***!
  \*************************************/
/*! exports provided: do_slider2d */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_slider2d\", function() { return do_slider2d; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"]; //const _vertical = consts._vertical;\n//const _horizontal = consts._horizontal;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\n\nfunction do_slider2d(uiid, local_rect, min, max, point_value) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var min_x = 0 | min;\n  var min_y = 0 | min;\n  var max_x = 0 | max;\n  var max_y = 0 | max;\n  var rect_w_half = 0 | rect.w / 2;\n  var rect_h_half = 0 | rect.h / 2;\n  var grab_size = 20;\n  var grab_size_half = 0 | grab_size / 2; // this component deals with 2 different coordinate spaces\n  // 1. value scale (min to max) : caller input/output    \n\n  var value_x_range = max_x - min_x;\n  var value_y_range = max_y - min_y;\n  var value_x = 0 | Math.min(max_x, Math.max(min_x, point_value.x));\n  var value_y = 0 | Math.min(max_y, Math.max(min_y, point_value.y)); // 2. local scale (0 to rect.w/h) : screen/draw/ui\n\n  var local_x_range = rect.w;\n  var local_y_range = rect.h;\n  var local_x = 0 | (value_x - min_x) / value_x_range * local_x_range;\n  var local_y = 0 | (value_y - min_y) / value_y_range * local_y_range;\n  var changed = 0 | false;\n  var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none);\n  {\n    // background    \n    // this background block is probably a separate component. (active-rectangle) [explore functional (hoc vs wrap vs idk)]\n    // .........................         \n    var bg_uiid = uiid + '-bg';\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    var rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](rect, 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](rect1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](bg_uiid, rect); // draw grid\n\n    var stroke_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](ColorP(255, 255, 255, 100));\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + 1, layout.y + rect_h_half, layout.x + rect.w - 1, layout.y + rect_h_half);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + rect_w_half, layout.y + 1, layout.x + rect_w_half, layout.y + rect.h - 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    var rel_x; // in local scale\n\n    var rel_y;\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid || _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == bg_uiid) {\n      rel_x = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorX() - layout.x;\n      rel_y = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorY() - layout.y;\n      changed = 0 | true;\n      local_x = 0 | Math.min(rect.w, Math.max(0, rel_x));\n      local_y = 0 | Math.min(rect.h, Math.max(0, rel_y));\n    } // .........................\n    // i want a handle so that selecting near edges of background is easier\n\n    /*_ = ui.handle(uiid_pt1, handle1_rect, local_x, local_y);\r\n    if (_.changed) {\r\n        rel_x = _.x1;\r\n        rel_y = _.y1;\r\n        changed = 0 | changed | _.changed;\r\n    }*/\n    // handle\n\n\n    var handle1_rect = RectangleP(local_x - grab_size_half, local_y - grab_size_half, grab_size, grab_size); // circle indicator\n\n    if (changed && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == bg_uiid) {\n      var handle1_face = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](handle1_rect, 4));\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](handle1_face, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_accent\"]);\n    } else {\n      var _handle1_face = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](handle1_rect, 6));\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](_handle1_face, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_face\"]);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n  var result_x = min_x + local_x / rect.w * value_x_range;\n  var result_y = min_y + local_y / rect.h * value_y_range;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      x1: 0 | 0,\n      y1: 0 | 0\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | result_x; // nolive probably should be .x not .x1\n\n  state.y1 = 0 | result_y;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | result_x,\r\n      0 | result_y\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_slider2d.js?");

/***/ }),

/***/ "./src/simpleui_framepool.js":
/*!***********************************!*\
  !*** ./src/simpleui_framepool.js ***!
  \***********************************/
/*! exports provided: FramePool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FramePool\", function() { return FramePool; });\n// a pool that can clear itself every frame\n// does not need to support releasing mid-frame\nfunction FramePool(creator, max) {\n  console.assert(max > 0);\n  this.creator = creator;\n  this.max = max;\n  this.index = 0; // points to first unused item\n\n  this.items = [creator()]; // jit hint\n\n  for (var i = 1; i < max; i++) {\n    this.items.push(creator());\n  }\n}\n\nFramePool.prototype.acquire = function () {\n  // add 1k slots if full\n  if (this.index >= this.items.length) {\n    //console.info('[growing framepool]', this.max, this.max + 1000);\n    this.max = this.max + 1000;\n\n    for (var i = 0; i < 1000; i++) {\n      this.items.push(this.creator());\n    }\n  }\n\n  this.index++;\n  return this.items[this.index - 1];\n};\n\nFramePool.prototype.release_all = function () {\n  // releasing all == moving the index cursor\n  this.index = 0;\n}; // usage\n\n/*\r\nif (true) {\r\n    function Rectangle(x, y, w, h) {\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            w: w,\r\n            h: h,\r\n        }\r\n    }\r\n    \r\n    function RectangleDefault() {\r\n        return Rectangle(0, 0, 200, 20);\r\n    }\r\n\r\n    function RectanglePooled(x, y, w, h) {\r\n        const o = rectangle_pool.acquire();\r\n        o.x = x;\r\n        o.y = y;\r\n        o.w = w;\r\n        o.h = h;\r\n        return o;\r\n    }\r\n\r\n    const rectangle_pool = new FramePool(RectangleDefault, 2000);\r\n\r\n    for (let i=0; i<5000; i++) {\r\n        RectanglePooled(12, 13, i, i);\r\n    }\r\n\r\n    console.log(rectangle_pool.items[4999]);\r\n\r\n    rectangle_pool.release_all();\r\n}*/\n\n\n\n\n//# sourceURL=webpack:///./src/simpleui_framepool.js?");

/***/ }),

/***/ "./src/throttle.js":
/*!*************************!*\
  !*** ./src/throttle.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./debounce.js */ \"./src/debounce.js\");\n/* eslint-disable */\n\n/**\r\n * Creates a throttled function that only invokes `func` at most once per\r\n * every `wait` milliseconds (or once per browser frame). The throttled function\r\n * comes with a `cancel` method to cancel delayed `func` invocations and a\r\n * `flush` method to immediately invoke them. Provide `options` to indicate\r\n * whether `func` should be invoked on the leading and/or trailing edge of the\r\n * `wait` timeout. The `func` is invoked with the last arguments provided to the\r\n * throttled function. Subsequent calls to the throttled function return the\r\n * result of the last `func` invocation.\r\n *\r\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n * invoked on the trailing edge of the timeout only if the throttled function\r\n * is invoked more than once during the `wait` timeout.\r\n *\r\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\r\n *\r\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\r\n * invocation will be deferred until the next frame is drawn (typically about\r\n * 16ms).\r\n *\r\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\r\n * for details over the differences between `throttle` and `debounce`.\r\n *\r\n * @since 0.1.0\r\n * @category Function\r\n * @param {Function} func The function to throttle.\r\n * @param {number} [wait=0]\r\n *  The number of milliseconds to throttle invocations to; if omitted,\r\n *  `requestAnimationFrame` is used (if available).\r\n * @param {Object} [options={}] The options object.\r\n * @param {boolean} [options.leading=true]\r\n *  Specify invoking on the leading edge of the timeout.\r\n * @param {boolean} [options.trailing=true]\r\n *  Specify invoking on the trailing edge of the timeout.\r\n * @returns {Function} Returns the new throttled function.\r\n * @example\r\n *\r\n * // Avoid excessively updating the position while scrolling.\r\n * jQuery(window).on('scroll', throttle(updatePosition, 100))\r\n *\r\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\r\n * const throttled = throttle(renewToken, 300000, { 'trailing': false })\r\n * jQuery(element).on('click', throttled)\r\n *\r\n * // Cancel the trailing throttled invocation.\r\n * jQuery(window).on('popstate', throttled.cancel)\r\n */\n\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  if (options) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return Object(_debounce_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (throttle);\n\n//# sourceURL=webpack:///./src/throttle.js?");

/***/ })

/******/ })));